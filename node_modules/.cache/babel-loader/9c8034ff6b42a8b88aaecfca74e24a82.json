{"remainingRequest":"D:\\beeko\\node_modules\\babel-loader\\lib\\index.js!D:\\beeko\\node_modules\\vuetify-loader\\lib\\loader.js!D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\beeko\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\beeko\\src\\components\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\beeko\\src\\components\\user.vue","mtime":1577442993692},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240333000},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZm9vJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHJhbnNhY3Rpb25zOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciB1c2VyVHJhbnNhY3Rpb25zOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBjcmVhdGVkJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuJHN0b3JlLnN0YXRlLmRiLmNvbGxlY3Rpb24oJ3RyYW5zYWN0aW9ucycpLmdldCgpKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHVzZXJUcmFuc2FjdGlvbnMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgdXNlclRyYW5zYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIF9jYWxsZWUodGgpIHsKICAgICAgICAgICAgICB2YXIgdXNlcnM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChfdGhpcy4kc3RvcmUuc3RhdGUuZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModGguZGF0YSgpLnVpZCkuZ2V0KCkpOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICB1c2VycyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJhbnNhY3Rpb25zLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAnZGlzcGxheU5hbWUnOiB1c2Vycy5kYXRhKCkubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3Rva2Vucyc6IHRoLmRhdGEoKS50b2tlbnMKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBudWxsLCB0aGlzKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnJlQ2FwdGNoYSgpOwogIH0sCiAgbWV0aG9kczogewogICAgcmVDYXB0Y2hhOiBmdW5jdGlvbiByZUNhcHRjaGEoKSB7CiAgICAgIHRoaXMucmVjYXB0Y2hhVmVyaWZpZXIgPSBuZXcgdGhpcy4kZmlyZWJhc2UuYXV0aC5SZWNhcHRjaGFWZXJpZmllcigncmVjYXB0Y2hhLWNvbnRhaW5lcicpOwogICAgICB0aGlzLnJlY2FwdGNoYVZlcmlmaWVyLnJlbmRlcigpOwogICAgfSwKICAgIGNvZGV2ZXJpZnk6IGZ1bmN0aW9uIGNvZGV2ZXJpZnkoKSB7CiAgICAgIHZhciBjb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZlcmlmaWNhdGlvbkNvZGUnKS52YWx1ZTsKICAgICAgY29uc29sZS5sb2codGhpcy5jb2RlUmVzdWx0KTsKICAgICAgdGhpcy5jb2RlUmVzdWx0LmNvbmZpcm0oY29kZSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgYWxlcnQoJ3NpZ25lZCB1cCcpOwogICAgICAgIHZhciB1c2VyID0gcmVzdWx0LnVzZXI7CiAgICAgICAgY29uc29sZS5sb2coJ3VzZXIgaXMnKTsKICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHBob25lQXV0aDogZnVuY3Rpb24gcGhvbmVBdXRoKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBudW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbnVtYmVyJykudmFsdWU7CiAgICAgIHRoaXMuJGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoUGhvbmVOdW1iZXIobnVtYmVyLCB0aGlzLnJlY2FwdGNoYVZlcmlmaWVyKS50aGVuKGZ1bmN0aW9uIChjb25maXJtUmVzdWx0KSB7CiAgICAgICAgY29uc29sZS5sb2coY29uZmlybVJlc3VsdCk7CiAgICAgICAgX3RoaXMyLmNvZGVSZXN1bHQgPSBjb25maXJtUmVzdWx0OwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAGA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,YAAA,EAAA;AADA,KAAA;AAAA,GAHA;AAMA,EAAA,OANA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAiBA,KAAA,MAAA,CAAA,KAAA,CAAA,EAAA,CAAA,UAAA,CAAA,cAAA,EAAA,GAAA,EAjBA;;AAAA;AAiBA,YAAA,gBAjBA;AAkBA,YAAA,gBAAA,CAAA,OAAA,CAAA,iBAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAEA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,GAAA,CAAA,EAAA,CAAA,IAAA,GAAA,GAAA,EAAA,GAAA,EAFA;;AAAA;AAEA,sBAAA,KAFA;;AAGA,sBAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA;AAAA,uCAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AAAA,kCAAA,EAAA,CAAA,IAAA,GAAA;AAAA,uBAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,SAAA,SAAA;AACA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,WAAA,iBAAA,GAAA,IAAA,KAAA,SAAA,CAAA,IAAA,CAAA,iBAAA,CAAA,qBAAA,CAAA;AACA,WAAA,iBAAA,CAAA,MAAA;AACA,KAJA;AAKA,IAAA,UALA,wBAKA;AACA,UAAA,IAAA,GAAA,QAAA,CAAA,cAAA,CAAA,kBAAA,EAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA;AACA,WAAA,UAAA,CAAA,OAAA,CAAA,IAAA,EAAA,IAAA,CACA,UAAA,MAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,CAAA;AACA,YAAA,IAAA,GAAA,MAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,OANA,EAOA,KAPA,CAQA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,OAVA;AAYA,KApBA;AAqBA,IAAA,SArBA,uBAqBA;AAAA;;AACA,UAAA,MAAA,GAAA,QAAA,CAAA,cAAA,CAAA,QAAA,EAAA,KAAA;AACA,WAAA,SAAA,CAAA,IAAA,GAAA,qBAAA,CAAA,MAAA,EAAA,KAAA,iBAAA,EAAA,IAAA,CACA,UAAA,aAAA,EAAA;AAAA,QAAA,OAAA,CAAA,GAAA,CAAA,aAAA;AAAA,QAAA,MAAA,CAAA,UAAA,GAAA,aAAA;AAAA,OADA,EAEA,KAFA,CAGA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,OALA;AAOA;AA9BA;AA3BA,CAAA","sourcesContent":["<template>\r\n  <v-container>\r\n    <v-layout text-center wrap>\r\n      <v-flex xs12>\r\n         <template>\r\n            <h1>Send code</h1> \r\n          <form>\r\n            <input type=\"text\" id=\"number\" style=\"border:1px solid grey\"/><br/>\r\n            <v-btn @click=\"phoneAuth\">send code</v-btn>\r\n          </form>\r\n          <div id=\"recaptcha-container\"></div>\r\n          <h1>Send Code</h1>\r\n          <form>\r\n            <input type=\"text\" id=\"verificationCode\" style=\"border:1px solid grey\"/><br/>\r\n            <v-btn @click=\"codeverify\">send code</v-btn>\r\n          </form>\r\n          </template>\r\n      </v-flex>\r\n      </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'foo',\r\n\r\n  data: () => ({\r\n    transactions:[]\r\n  }),\r\n  async created(){\r\n   /*this.$store.state.db.collection('transactions').onSnapshot((querySnapshot) => {\r\n      this.transactions = querySnapshot.docs.map(doc => ({\r\n              'id': doc.id,\r\n              'tokens': doc.data().tokens\r\n            })\r\n      );\r\n    }, function(error) {\r\n        //...\r\n        console.log('error'+error);\r\n    });*/\r\n    let userTransactions = await this.$store.state.db.collection('transactions').get();\r\n    userTransactions.forEach(async(th) => {\r\n      //eslint-disable-next-line no-console\r\n      let users = await this.$store.state.db.collection('users').doc(th.data().uid).get();\r\n      this.transactions.push({'displayName':users.data().name, 'tokens':th.data().tokens})\r\n    });\r\n  },\r\n  mounted(){\r\n    this.reCaptcha();\r\n  },\r\n  methods:{\r\n    reCaptcha(){\r\n       this.recaptchaVerifier = new this.$firebase.auth.RecaptchaVerifier('recaptcha-container');\r\n       this.recaptchaVerifier.render();\r\n     },\r\n     codeverify(){\r\n       var code = document.getElementById('verificationCode').value;\r\n       console.log(this.codeResult);\r\n       this.codeResult.confirm(code).then(\r\n         function(result){\r\n            alert('signed up');\r\n            let user = result.user;\r\n            console.log('user is');\r\n            console.log(user);\r\n         }\r\n       ).catch(\r\n         function(error){\r\n           console.log(error.message);\r\n         }\r\n       );\r\n     },\r\n     phoneAuth(){\r\n       var number = document.getElementById('number').value;\r\n       this.$firebase.auth().signInWithPhoneNumber(number,this.recaptchaVerifier).then(\r\n        confirmResult =>{console.log(confirmResult); this.codeResult = confirmResult;}\r\n       ).catch(\r\n         function(error){\r\n           console.log(error.message);\r\n         }\r\n       );\r\n     }\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components"}]}