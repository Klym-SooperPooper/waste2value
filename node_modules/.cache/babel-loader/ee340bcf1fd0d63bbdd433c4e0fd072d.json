{"remainingRequest":"C:\\APPS\\beeko\\node_modules\\thread-loader\\dist\\cjs.js!C:\\APPS\\beeko\\node_modules\\babel-loader\\lib\\index.js!C:\\APPS\\beeko\\node_modules\\vuetify-loader\\lib\\loader.js!C:\\APPS\\beeko\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\APPS\\beeko\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\APPS\\beeko\\src\\components\\wallet.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\APPS\\beeko\\src\\components\\wallet.vue","mtime":1597581514000},{"path":"C:\\APPS\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\APPS\\beeko\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\APPS\\beeko\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\APPS\\beeko\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240334000},{"path":"C:\\APPS\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\APPS\\beeko\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5wYXJzZS1pbnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdXYWxsZXQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBxckdlbjogMSwKICAgICAgYm9udXM6IDAsCiAgICAgIGdlbmVyYXRlZFRva2VuczogZmFsc2UsCiAgICAgIHRyYW5zZmVyVG9rZW5zOiAnJywKICAgICAgc25hY2tiYXI6IGZhbHNlLAogICAgICBteVdhbGxldDogMCwKICAgICAgcmVjeWNsZUl0ZW1zOiAnJywKICAgICAgdHJhbnNmZXJQaG9uZTogJzA1MDA1NTI2MTgnLAogICAgICBzZW5kQ2FsYzogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIHJlZiA9IHRoaXM7CiAgICB2YXIgZGIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kYjsKICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKHRoaXMuJGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51aWQpLm9uU25hcHNob3QoZnVuY3Rpb24gKGRvYykgewogICAgICByZWYubXlXYWxsZXQgPSBkb2MuZGF0YSgpLnRva2VuczsgLy9jb25zb2xlLmxvZygiQ3VycmVudCBkYXRhOiAiLCBkb2MuZGF0YSgpKTsKICAgIH0pOyAvL2NoZWNrIGZvciBtZXNzYWdlIAoKICAgIGlmICh0eXBlb2YgdGhpcy4kcm91dGUucGFyYW1zLnRyYW5zZmVycmVkICE9ICd1bmRlZmluZWQnKSB7CiAgICAgIHRoaXMuc25hY2tiYXIgPSB0cnVlOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRpYWxvZzogZnVuY3Rpb24gZGlhbG9nKHZhbCkgewogICAgICBpZiAoIXZhbCkgewogICAgICAgIHRoaXMuZ2VuZXJhdGVkVG9rZW5zID0gdmFsOwogICAgICAgIHRoaXMudHJhbnNmZXJUb2tlbnMgPSAnJzsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2FsY1Rva2VuczogZnVuY3Rpb24gY2FsY1Rva2VucyhyZWN5Y2xlSXRlbXMpIHsKICAgICAgaWYgKHJlY3ljbGVJdGVtcykgewogICAgICAgIHRoaXMucmVjeWNsZUl0ZW1zID0gTnVtYmVyLnBhcnNlSW50KHJlY3ljbGVJdGVtcyk7CiAgICAgICAgdGhpcy50cmFuc2ZlclRva2VucyA9IHRoaXMucmVjeWNsZUl0ZW1zICogdGhpcy4kcmF0ZTsKICAgICAgICB0aGlzLmJvbnVzID0gdGhpcy5yZWN5Y2xlSXRlbXMgKiB0aGlzLiRib251c1JhdGU7CiAgICAgIH0KICAgIH0sCiAgICBxckdlbmVyYXRlOiBmdW5jdGlvbiBxckdlbmVyYXRlKHRyYW5zZmVyVG9rZW5zKSB7CiAgICAgIGlmICh0cmFuc2ZlclRva2VucyAmJiB0cmFuc2ZlclRva2VucyA8PSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnRva2VucykgewogICAgICAgIHRoaXMuZ2VuZXJhdGVkVG9rZW5zID0gdHJ1ZTsKICAgICAgICB2YXIgcXIgPSB0aGlzLiRxcmNvZGUoMCwgJ0gnKTsKICAgICAgICB2YXIgdHJhbnNmZXIgPSB7CiAgICAgICAgICBmcm9taWQ6IDEsCiAgICAgICAgICB0b2tlbnM6IHRyYW5zZmVyVG9rZW5zLAogICAgICAgICAgdGltZTogRGF0ZS5ub3coKQogICAgICAgIH07CiAgICAgICAgdHJhbnNmZXIgPSBKU09OLnN0cmluZ2lmeSh0cmFuc2Zlcik7CiAgICAgICAgcXIuYWRkRGF0YSh0cmFuc2Zlcik7CiAgICAgICAgcXIubWFrZSgpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3FySG9sZGVyJykuaW5uZXJIVE1MID0gcXIuY3JlYXRlSW1nVGFnKDQpOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50cmFuc2ZlclRva2VucyA9IDA7CiAgICAgICAgYWxlcnQoJ9Cd0LXQtNC+0YHRgtCw0YLQvdGM0L4g0LfQtdC70LXQvdC40YUg0L3QsCDRgNCw0YXRg9C90LrRgycpOwogICAgICB9CiAgICB9LAogICAgc2VuZFRva2VuczogZnVuY3Rpb24gc2VuZFRva2Vucyh0cmFuc2ZlclRva2VucywgdHJhbnNmZXJQaG9uZSkgewogICAgICB0aGlzLnNlbmRDYWxjID0gdHJ1ZTsKICAgICAgdmFyIGRiID0gdGhpcy4kc3RvcmUuc3RhdGUuZGI7CiAgICAgIHZhciBzZW5kZXJVc2VySWQgPSB0aGlzLiRmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkOwogICAgICB2YXIgdHJhbnNmZXJVc2VySWQgPSBmYWxzZTsKICAgICAgdmFyIHJlZiA9IHRoaXM7CiAgICAgIHRyYW5zZmVyVG9rZW5zID0gTnVtYmVyLnBhcnNlSW50KHRyYW5zZmVyVG9rZW5zKTsKCiAgICAgIGlmICh0cmFuc2ZlclRva2VucyAmJiB0cmFuc2ZlclRva2VucyA8PSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnRva2VucykgewogICAgICAgIGlmICh0cmFuc2ZlclBob25lKSB7CiAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLndoZXJlKCdwaG9uZScsICc9PScsIHRyYW5zZmVyUGhvbmUpLmdldCgpLnRoZW4oZnVuY3Rpb24gKHF1ZXJ5U25hcHNob3QpIHsKICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICB0cmFuc2ZlclVzZXJJZCA9IGRvYy5pZDsKICAgICAgICAgICAgICByZWYubWFrZVRyYW5zZmVyKHNlbmRlclVzZXJJZCwgdHJhbnNmZXJVc2VySWQsIHRyYW5zZmVyVG9rZW5zKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvcjogIiwgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudHJhbnNmZXJUb2tlbnMgPSAwOwogICAgICAgIGFsZXJ0KCfQndC10LTQvtGB0YLQsNGC0L3RjNC+INC30LXQu9C10L3QuNGFINC90LAg0YDQsNGF0YPQvdC60YMnKTsKICAgICAgfQogICAgfSwKICAgIG1ha2VUcmFuc2ZlcjogZnVuY3Rpb24gbWFrZVRyYW5zZmVyKHNlbmRlclVzZXJJZCwgdHJhbnNmZXJVc2VySWQsIHRyYW5zZmVyVG9rZW5zKSB7CiAgICAgIC8vZ2V0IGEgdXNlciB0byB0cmFuc2ZlcgogICAgICB2YXIgZGIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kYjsKICAgICAgdmFyIHJlZiA9IHRoaXM7CiAgICAgIHZhciB0cmFuc2ZlckJvbnVzID0gdGhpcy5ib251czsKICAgICAgdmFyIGdldFRyYW5zZmVyVXNlckRvY1JlZiA9IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKHRyYW5zZmVyVXNlcklkKTsKICAgICAgdmFyIGdldFNlbmRlclVzZXJEb2NSZWYgPSBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyhzZW5kZXJVc2VySWQpOwogICAgICB2YXIgc2F2ZVJlY3ljbGVUcmFuc2FjdGlvbiA9IHsKICAgICAgICAnYmluaWQnOiAxLAogICAgICAgICdib251cyc6IHRoaXMuYm9udXMsCiAgICAgICAgJ2JvbnVzUmF0ZSc6IHRoaXMuJGJvbnVzUmF0ZSwKICAgICAgICAnY291bnQnOiB0aGlzLnJlY3ljbGVJdGVtcywKICAgICAgICAncmF0ZSc6IHRoaXMuJHJhdGUsCiAgICAgICAgJ3Rva2Vucyc6IHRoaXMudHJhbnNmZXJUb2tlbnMsCiAgICAgICAgJ3VpZCc6IHRoaXMuJGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51aWQsCiAgICAgICAgJ3RpbWUnOiBEYXRlLm5vdygpCiAgICAgIH07IC8vIGRiLmNvbGxlY3Rpb24oInRyYW5zYWN0aW9ucyIpLmFkZCh7J2Zyb21pZCc6c2VuZGVyVXNlcklkLCd0b2tlbnMnOnRyYW5zZmVyVG9rZW5zLCAndWlkJzp0cmFuc2ZlclVzZXJJZCwgJ3RpbWUnOkRhdGUuIG5vdygpfSkKCiAgICAgIGRiLmNvbGxlY3Rpb24oInRyYW5zYWN0aW9ucyIpLmFkZChzYXZlUmVjeWNsZVRyYW5zYWN0aW9uKS50aGVuKGZ1bmN0aW9uIChkb2NSZWYpIHsKICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgY29uc29sZS5sb2coZG9jUmVmKTsKICAgICAgICBjb25zb2xlLmxvZygiVHJhbnNmZXIgd3JpdHRlbiB3aXRoIElEOiAiLCBkb2NSZWYuaWQpOyAvL3J1biB0cmFuc2ZlciBVU0VSIHRyYW5zYWN0aW9uCgogICAgICAgIHJldHVybiBkYi5ydW5UcmFuc2FjdGlvbihmdW5jdGlvbiAodHJhbnNhY3Rpb24pIHsKICAgICAgICAgIC8vIFRoaXMgY29kZSBtYXkgZ2V0IHJlLXJ1biBtdWx0aXBsZSB0aW1lcyBpZiB0aGVyZSBhcmUgY29uZmxpY3RzLgogICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbi5nZXQoZ2V0VHJhbnNmZXJVc2VyRG9jUmVmKS50aGVuKGZ1bmN0aW9uIChnZXRVc2VyRG9jV2FsbGV0KSB7CiAgICAgICAgICAgIGlmICghZ2V0VXNlckRvY1dhbGxldC5leGlzdHMpIHsKICAgICAgICAgICAgICB0aHJvdyAiRG9jdW1lbnQgZG9lcyBub3QgZXhpc3QhIjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIG5ld1Rva2VucyA9IGdldFVzZXJEb2NXYWxsZXQuZGF0YSgpLnRva2VucyArIHRyYW5zZmVyVG9rZW5zOwogICAgICAgICAgICB2YXIgbmV3Qm9udXMgPSBnZXRVc2VyRG9jV2FsbGV0LmRhdGEoKS5ib251cyArIHRyYW5zZmVyQm9udXM7IC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCgogICAgICAgICAgICB0cmFuc2FjdGlvbi51cGRhdGUoZ2V0VHJhbnNmZXJVc2VyRG9jUmVmLCB7CiAgICAgICAgICAgICAgdG9rZW5zOiBuZXdUb2tlbnMsCiAgICAgICAgICAgICAgYm9udXM6IG5ld0JvbnVzCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb25zb2xlLmxvZygidXNlciAiICsgZ2V0VXNlckRvY1dhbGxldC5pZCArICIgZ290ICIgKyBuZXdUb2tlbnMgKyAiIHRva2VucyIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygicnVuIHNlbmRlciBVU0VSIHRyYW5zYWN0aW9uIik7IC8vcnVuIHNlbmRlciBVU0VSIHRyYW5zYWN0aW9uCgogICAgICAgICAgcmV0dXJuIGRiLnJ1blRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0cmFuc2FjdGlvbikgewogICAgICAgICAgICAvLyBUaGlzIGNvZGUgbWF5IGdldCByZS1ydW4gbXVsdGlwbGUgdGltZXMgaWYgdGhlcmUgYXJlIGNvbmZsaWN0cy4KICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uLmdldChnZXRTZW5kZXJVc2VyRG9jUmVmKS50aGVuKGZ1bmN0aW9uIChnZXRTZW5kZXJVc2VyRG9jKSB7CiAgICAgICAgICAgICAgaWYgKCFnZXRTZW5kZXJVc2VyRG9jLmV4aXN0cykgewogICAgICAgICAgICAgICAgdGhyb3cgIkRvY3VtZW50IGRvZXMgbm90IGV4aXN0ISI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB2YXIgbmV3VG9rZW5zID0gZ2V0U2VuZGVyVXNlckRvYy5kYXRhKCkudG9rZW5zIC0gdHJhbnNmZXJUb2tlbnM7IC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCgogICAgICAgICAgICAgIHRyYW5zYWN0aW9uLnVwZGF0ZShnZXRTZW5kZXJVc2VyRG9jUmVmLCB7CiAgICAgICAgICAgICAgICB0b2tlbnM6IG5ld1Rva2VucwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1c2VyICIgKyBnZXRTZW5kZXJVc2VyRG9jLmlkICsgIiB0cmFuc2ZlcnJlZCAiICsgbmV3VG9rZW5zICsgIiB0b2tlbnMiKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIlRyYW5zZmVyICYgZ2V0IHRyYW5zYWN0aW9uIHN1Y2Nlc3NmdWxseSBjb21taXR0ZWQhIik7CiAgICAgICAgICAgIHJlZi5kaWFsb2cgPSBmYWxzZTsKICAgICAgICAgICAgYWxlcnQoJ9CX0LDRgNCw0YXQvtCy0LDQvdC+INC30LXQu9C10L3QuNGFOiAnICsgcmVmLnRyYW5zZmVyVG9rZW5zKTsgLy9ydW4gdHJhbnNhY3Rpb24gZm9yIHRyYW5zZmVyIHVzZXIKICAgICAgICAgICAgLy9yb3V0ZXIucHVzaCh7cGF0aDond2FsbGV0JywgbmFtZTonV2FsbGV0JywgcGFyYW1zOnsndHJhbnNmZXJyZWQnOmRlY29kZWRTdHJpbmcudG9rZW5zfX0pOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUcmFuc2FjdGlvbiBmYWlsZWQ6ICIsIGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coIlRyYW5zYWN0aW9uIGZhaWxlZDogIiwgZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgYWRkaW5nIGRvY3VtZW50OiAiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["wallet.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-container style=\"height:500px\">\n    <v-layout\n      text-center\n      wrap\n    >\n      <v-flex>\n        <v-snackbar class=\"text-center\" top light color=\"white\" v-model=\"snackbar\">\n            <v-alert color=\"green lighten-2\" height=\"40\" style=\"padding-top:7px\"><v-icon>mdi-coins</v-icon>Зараховано зелених: {{$route.params.transferred}}</v-alert>\n        </v-snackbar>\n\n        <h1 class=\"headline\" style=\"color:orange\">\n          Мій гаманець\n        </h1>\n        <div>\n            <v-chip v-if=\"$store.state.user.tokens\" text-color=\"#07C01A\" color=\"transparent\" style=\"margin-top:10px\">\n            <v-icon color=\"#07C01A\" large>mdi-currency-usd-circle-outline</v-icon>\n            <span class=\"display-1\">{{myWallet}}</span>\n           </v-chip>\n           <v-chip v-else text-color=\"#07C01A\" color=\"transparent\" style=\"margin-top:10px\">\n            <v-icon color=\"#07C01A\" large>mdi-currency-usd-circle-outline</v-icon>\n              <span class=\"display-1\">0</span>\n          </v-chip>\n        </div>  \n        <br/>\n        <div id=\"placeHolder\"></div>\n        <v-btn dark color=\"green\" @click=\"dialog = true\">Нарахувати зелені <v-icon>mdi-currency-usd-circle-outline</v-icon></v-btn>\n        <v-dialog v-model=\"dialog\" color=\"#fff\">\n          <v-card>\n            <v-card-title v-if=\"!generatedTokens\">Введіть суму токенів</v-card-title>\n            <v-card-text v-if=\"!generatedTokens\">\n              <!--\n              <v-text-field\n                id=\"transferTokens\"\n                label=\"Введіть суму\"\n                solo\n                outlined\n                height=\"20\"\n                v-model=\"transferTokens\"\n              ></v-text-field>\n              -->\n              <v-text-field\n                id=\"recycleItems\"\n                label=\"Введіть кількість пляшок\"\n                solo\n                outlined\n                height=\"20\"\n                required\n                @change=\"calcTokens(recycleItems)\"\n                v-model=\"recycleItems\"\n              ></v-text-field>\n\n              <v-text-field\n                id=\"transferTokens\"\n                label=\"Кількість зелених\"\n                solo\n                outlined\n                height=\"20\"\n                required\n                v-model=\"transferTokens\"\n              ></v-text-field>\n\n              <v-text-field\n                id=\"transferPhone\"\n                label=\"Номер телефона\"\n                solo\n                outlined\n                required\n                height=\"20\"\n                v-model=\"transferPhone\"\n              ></v-text-field>\n              <v-btn text color=\"green\" :disabled=\"(!transferTokens&&!transferPhone) || sendCalc\" outlined @click=\"sendTokens(transferTokens,transferPhone)\">Надіслати бонуси</v-btn><br/>\n             </v-card-text>\n\n            <div id=\"qrHolderOuter\" v-show=\"generatedTokens\">\n              <div class=\"text-center\" >\n                <v-alert color=\"green lighten-2\" height=\"40\" style=\"padding-top:7px\">Покажіть QR-код отримувачу</v-alert>\n              </div>\n              <div id=\"qrHolder\"></div>\n            </div>  \n           </v-card> \n        </v-dialog>  \n        <br/><br/>\n        <v-card>\n          <v-tabs\n            background-color=\"white\"\n            centered\n            color=\"#07C01A\"\n          >\n            <v-tab><v-icon>mdi-currency-usd-circle-outline</v-icon>Пропозиції</v-tab>\n            <v-tab><v-icon>mdi-star-face</v-icon>Подарунки</v-tab>\n            <v-tab-item>\n                <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-coffee\"\n                    color=\"#8b6138\"\n                  >\n                    mdi-coffee\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Кава</div>\n                <p>100% Арабіка,250 мл</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"#07C01A\">mdi-currency-usd-circle-outline</v-icon>\n                      100\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n\n              <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  color=\"ref\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-ticket\"\n                    color=\"green\"\n                    size=\"40\"\n                  >\n                    mdi-cellphone\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Поповнення</div>\n                <p>Екотариф. 45 грн</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"#07C01A\">mdi-currency-usd-circle-outline</v-icon>\n                      50\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n\n            </v-tab-item> \n            <v-tab-item>\n              <div class=\"text-center\">\n                <v-alert border=\"bottom\"\n                  colored-border\n                  type=\"warning\"\n                  elevation=\"2\">\n                Кількість бонусних подарунків обмежена</v-alert>\n              </div>\n               <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  color=\"green\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-ticket\"\n                    color=\"white\"\n                  >\n                    mdi-ticket\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Квиток на концерт</div>\n                <p>Альона, Альона</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"orange\">mdi-star-face</v-icon>\n                      200\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n            </v-tab-item> \n          </v-tabs> \n        </v-card>\n\n<!--\n         <v-card\n            color=\"#698ea1\"\n            dark\n          >\n            <v-card-title class=\"headline\">Мої транзакції</v-card-title>\n\n            <v-card-subtitle>Усі відсортовані пляшки</v-card-subtitle>\n            <v-list>\n            <v-subheader>01-21.11.2019</v-subheader>\n              <v-list-item-group color=\"transparent\">\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n              </v-list-item-group>\n            </v-list>\n            <v-card-actions>\n              <v-btn text>Переглянути</v-btn>\n            </v-card-actions>\n          </v-card>-->\n          \n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nexport default {\n   name: 'Wallet',\n   data: () => ({\n     dialog: false,\n     qrGen:1,\n     bonus:0,\n     generatedTokens:false,\n     transferTokens:'',\n     snackbar:false,\n     myWallet:0,\n     recycleItems:'',\n     transferPhone:'0500552618',\n     sendCalc:false\n   }),\n   created(){\n    let ref = this;\n    let db = this.$store.state.db;\n    db.collection(\"users\").doc(this.$firebase.auth().currentUser.uid)\n    .onSnapshot(function(doc) {\n        ref.myWallet = doc.data().tokens;\n        //console.log(\"Current data: \", doc.data());\n    });\n\n    //check for message \n    if(typeof(this.$route.params.transferred) != 'undefined'){\n      this.snackbar = true;\n    }     \n   },\n   watch: {\n    dialog(val) {\n        if(!val){\n          this.generatedTokens = val;  \n          this.transferTokens = '';\n        }\n      },\n  },\n   methods: {\n     calcTokens(recycleItems){\n       if(recycleItems){\n         this.recycleItems = Number.parseInt(recycleItems)\n         this.transferTokens = this.recycleItems*this.$rate;\n         this.bonus  = this.recycleItems*this.$bonusRate;\n      }\n     },\n     qrGenerate(transferTokens){\n        if(transferTokens && transferTokens <= this.$store.state.user.tokens){\n          this.generatedTokens = true;\n          let qr = this.$qrcode(0, 'H'); \n          let transfer = {fromid:1, tokens:transferTokens,  time:Date. now()};\n          transfer = JSON.stringify(transfer);\n          qr.addData(transfer);\n          qr.make();\n          setTimeout(\n            function(){\n              document.getElementById('qrHolder').innerHTML = qr.createImgTag(4);\n            }, 500\n          );\n        } else {\n          this.transferTokens=0;\n          alert('Недостатньо зелених на рахунку');\n        } \n     },\n     sendTokens(transferTokens, transferPhone){\n       this.sendCalc = true;\n       let db = this.$store.state.db;\n       let senderUserId = this.$firebase.auth().currentUser.uid;\n       let transferUserId = false;\n       let ref = this;\n      \n       transferTokens = Number.parseInt(transferTokens);\n       if(transferTokens && transferTokens <= this.$store.state.user.tokens){\n          if(transferPhone){\n            db.collection(\"users\").where('phone','==', transferPhone).get().then(\n              function(querySnapshot) {\n                querySnapshot.forEach(function(doc) {\n                  transferUserId = doc.id;\n                  ref.makeTransfer(senderUserId,transferUserId, transferTokens);\n                }\n                )\n              }).catch(function(error) {\n                //eslint-disable-next-line no-console\n                  console.error(\"Error: \", error);\n              });\n          }\n        } else {\n          this.transferTokens=0;\n          alert('Недостатньо зелених на рахунку');\n        } \n     },\n\n     makeTransfer(senderUserId, transferUserId, transferTokens){\n       //get a user to transfer\n      let db = this.$store.state.db; \n      let ref = this;\n      let transferBonus = this.bonus;\n      let getTransferUserDocRef = db.collection('users').doc(transferUserId);\n      let getSenderUserDocRef = db.collection('users').doc(senderUserId);\n      let saveRecycleTransaction = {'binid':1, 'bonus':this.bonus, 'bonusRate':this.$bonusRate, 'count':this.recycleItems, 'rate':this.$rate, 'tokens':this.transferTokens, 'uid':this.$firebase.auth().currentUser.uid, 'time':Date.now()};                \n      \n      // db.collection(\"transactions\").add({'fromid':senderUserId,'tokens':transferTokens, 'uid':transferUserId, 'time':Date. now()})\n      db.collection(\"transactions\").add(saveRecycleTransaction)\n      .then(function(docRef) {\n        //eslint-disable-next-line no-console\n          console.log(docRef);\n          console.log(\"Transfer written with ID: \", docRef.id);\n          \n          //run transfer USER transaction\n          return db.runTransaction(function(transaction) {\n              // This code may get re-run multiple times if there are conflicts.\n              //eslint-disable-next-line\n              return transaction.get(getTransferUserDocRef).then(function(getUserDocWallet) {\n                  if (!getUserDocWallet.exists) {\n                      throw \"Document does not exist!\";\n                  }\n                  var newTokens = getUserDocWallet.data().tokens + transferTokens;\n                  var newBonus = getUserDocWallet.data().bonus + transferBonus;\n                  //eslint-disable-next-line\n                  transaction.update(getTransferUserDocRef, { tokens: newTokens, bonus: newBonus });\n                  console.log(\"user \"+getUserDocWallet.id+\" got \"+newTokens+\" tokens\");\n              });\n          }).then(function() {\n              console.log(\"run sender USER transaction\");\n              //run sender USER transaction\n              return db.runTransaction(function(transaction) {\n                  // This code may get re-run multiple times if there are conflicts.\n                  //eslint-disable-next-line\n                  return transaction.get(getSenderUserDocRef).then(function(getSenderUserDoc) {\n                      if (!getSenderUserDoc.exists) {\n                          throw \"Document does not exist!\";\n                      }\n                      var newTokens = getSenderUserDoc.data().tokens - transferTokens;\n                      //eslint-disable-next-line\n                      transaction.update(getSenderUserDocRef, { tokens: newTokens });\n                      console.log(\"user \"+getSenderUserDoc.id+\" transferred \"+newTokens+\" tokens\");\n                  });\n              }).then(function() {\n                  console.log(\"Transfer & get transaction successfully committed!\");\n                  ref.dialog = false;\n                  alert('Зараховано зелених: '+ref.transferTokens);\n                  //run transaction for transfer user\n                  //router.push({path:'wallet', name:'Wallet', params:{'transferred':decodedString.tokens}});\n              }).catch(function(error) {\n                  console.log(\"Transaction failed: \", error);\n              });\n          }).catch(function(error) {\n              console.log(\"Transaction failed: \", error);\n          });\n      })\n      .catch(function(error) {\n        //eslint-disable-next-line no-console\n          console.error(\"Error adding document: \", error);\n      });\n     }\n   }\n  }\n</script>\n"],"sourceRoot":"src/components"}]}