{"remainingRequest":"D:\\beeko\\node_modules\\babel-loader\\lib\\index.js!D:\\beeko\\node_modules\\vuetify-loader\\lib\\loader.js!D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\beeko\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\beeko\\src\\components\\wallet.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\beeko\\src\\components\\wallet.vue","mtime":1589188839777},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240333000},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1dhbGxldCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIHFyR2VuOiAxLAogICAgICBib251czogMCwKICAgICAgZ2VuZXJhdGVkVG9rZW5zOiBmYWxzZSwKICAgICAgdHJhbnNmZXJUb2tlbnM6ICcnLAogICAgICBzbmFja2JhcjogZmFsc2UsCiAgICAgIG15V2FsbGV0OiAwCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBkYiA9IHRoaXMuJHN0b3JlLnN0YXRlLmRiOwogICAgdmFyIHJlZiA9IHRoaXM7CiAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyh0aGlzLiRmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkKS5vblNuYXBzaG90KGZ1bmN0aW9uIChkb2MpIHsKICAgICAgcmVmLm15V2FsbGV0ID0gZG9jLmRhdGEoKS50b2tlbnM7IC8vY29uc29sZS5sb2coIkN1cnJlbnQgZGF0YTogIiwgZG9jLmRhdGEoKSk7CiAgICB9KTsgLy9jaGVjayBmb3IgbWVzc2FnZSAKCiAgICBpZiAodHlwZW9mIHRoaXMuJHJvdXRlLnBhcmFtcy50cmFuc2ZlcnJlZCAhPSAndW5kZWZpbmVkJykgewogICAgICB0aGlzLnNuYWNrYmFyID0gdHJ1ZTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkaWFsb2c6IGZ1bmN0aW9uIGRpYWxvZyh2YWwpIHsKICAgICAgaWYgKCF2YWwpIHsKICAgICAgICB0aGlzLmdlbmVyYXRlZFRva2VucyA9IHZhbDsKICAgICAgICB0aGlzLnRyYW5zZmVyVG9rZW5zID0gJyc7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRlc3RBcGk6IGZ1bmN0aW9uIHRlc3RBcGkoKSB7Ly8vYXBpP2JpbmlkPTEmY291bnQ9MSZrZXk9CiAgICB9LAogICAgcXJHZW5lcmF0ZTogZnVuY3Rpb24gcXJHZW5lcmF0ZSh0cmFuc2ZlclRva2VucykgewogICAgICBpZiAodHJhbnNmZXJUb2tlbnMgJiYgdHJhbnNmZXJUb2tlbnMgPD0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci50b2tlbnMpIHsKICAgICAgICB0aGlzLmdlbmVyYXRlZFRva2VucyA9IHRydWU7CiAgICAgICAgdmFyIHFyID0gdGhpcy4kcXJjb2RlKDAsICdIJyk7CiAgICAgICAgdmFyIHRyYW5zZmVyID0gewogICAgICAgICAgZnJvbWlkOiAxLAogICAgICAgICAgdG9rZW5zOiB0cmFuc2ZlclRva2VucywKICAgICAgICAgIHRpbWU6IERhdGUubm93KCkKICAgICAgICB9OwogICAgICAgIHRyYW5zZmVyID0gSlNPTi5zdHJpbmdpZnkodHJhbnNmZXIpOwogICAgICAgIHFyLmFkZERhdGEodHJhbnNmZXIpOwogICAgICAgIHFyLm1ha2UoKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxckhvbGRlcicpLmlubmVySFRNTCA9IHFyLmNyZWF0ZUltZ1RhZyg0KTsKICAgICAgICB9LCA1MDApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudHJhbnNmZXJUb2tlbnMgPSAwOwogICAgICAgIGFsZXJ0KCfQndC10LTQvtGB0YLQsNGC0L3RjNC+INC30LXQu9C10L3QuNGFINC90LAg0YDQsNGF0YPQvdC60YMnKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["wallet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,CAFA;AAGA,MAAA,KAAA,EAAA,CAHA;AAIA,MAAA,eAAA,EAAA,KAJA;AAKA,MAAA,cAAA,EAAA,EALA;AAMA,MAAA,QAAA,EAAA,KANA;AAOA,MAAA,QAAA,EAAA;AAPA,KAAA;AAAA,GAFA;AAWA,EAAA,OAXA,qBAWA;AACA,QAAA,EAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,EAAA;AACA,QAAA,GAAA,GAAA,IAAA;AACA,IAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,GAAA,CAAA,KAAA,SAAA,CAAA,IAAA,GAAA,WAAA,CAAA,GAAA,EACA,UADA,CACA,UAAA,GAAA,EAAA;AACA,MAAA,GAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,GAAA,MAAA,CADA,CAEA;AACA,KAJA,EAHA,CASA;;AACA,QAAA,OAAA,KAAA,MAAA,CAAA,MAAA,CAAA,WAAA,IAAA,WAAA,EAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA;AACA,GAxBA;AAyBA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,GADA,EACA;AACA,UAAA,CAAA,GAAA,EAAA;AACA,aAAA,eAAA,GAAA,GAAA;AACA,aAAA,cAAA,GAAA,EAAA;AACA;AACA;AANA,GAzBA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA,CACA;AACA,KAHA;AAIA,IAAA,UAJA,sBAIA,cAJA,EAIA;AACA,UAAA,cAAA,IAAA,cAAA,IAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,aAAA,eAAA,GAAA,IAAA;AACA,YAAA,EAAA,GAAA,KAAA,OAAA,CAAA,CAAA,EAAA,GAAA,CAAA;AACA,YAAA,QAAA,GAAA;AAAA,UAAA,MAAA,EAAA,CAAA;AAAA,UAAA,MAAA,EAAA,cAAA;AAAA,UAAA,IAAA,EAAA,IAAA,CAAA,GAAA;AAAA,SAAA;AACA,QAAA,QAAA,GAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA;AACA,QAAA,EAAA,CAAA,OAAA,CAAA,QAAA;AACA,QAAA,EAAA,CAAA,IAAA;AACA,QAAA,UAAA,CACA,YAAA;AACA,UAAA,QAAA,CAAA,cAAA,CAAA,UAAA,EAAA,SAAA,GAAA,EAAA,CAAA,YAAA,CAAA,CAAA,CAAA;AACA,SAHA,EAGA,GAHA,CAAA;AAKA,OAZA,MAYA;AACA,aAAA,cAAA,GAAA,CAAA;AACA,QAAA,KAAA,CAAA,gCAAA,CAAA;AACA;AACA;AArBA;AAjCA,CAAA","sourcesContent":["<template>\n  <v-container style=\"height:500px\">\n    <v-layout\n      text-center\n      wrap\n    >\n      <v-flex>\n        <v-snackbar class=\"text-center\" top light color=\"white\" v-model=\"snackbar\">\n            <v-alert color=\"green lighten-2\" height=\"40\" style=\"padding-top:7px\"><v-icon>mdi-coins</v-icon>Зараховано зелених: {{$route.params.transferred}}</v-alert>\n        </v-snackbar>\n\n        <h1 class=\"headline\" style=\"color:orange\">\n          Мій гаманець\n        </h1>\n        <div>\n            <v-chip v-if=\"$store.state.user.tokens\" text-color=\"#07C01A\" color=\"transparent\" style=\"margin-top:10px\">\n            <v-icon color=\"#07C01A\" large>mdi-currency-usd-circle-outline</v-icon>\n            <span class=\"display-1\">{{$store.state.user.tokens}}</span>\n           </v-chip>\n           <v-chip v-else text-color=\"#07C01A\" color=\"transparent\" style=\"margin-top:10px\">\n            <v-icon color=\"#07C01A\" large>mdi-currency-usd-circle-outline</v-icon>\n              <span class=\"display-1\">0</span>\n          </v-chip>\n          <span class=\"display-1\">{{myWallet}}</span>\n        </div>  \n        <br/>\n        <div id=\"placeHolder\"></div>\n        <v-btn dark color=\"green\" @click=\"dialog = true\">Переказати <v-icon>mdi-currency-usd-circle-outline</v-icon></v-btn>\n        <br/>\n        <v-btn style=\"margin-top:10px;\" dark color=\"orange\" @click=\"testApi()\">Test API <v-icon>mdi-currency-usd-circle-outline</v-icon></v-btn>\n        <v-dialog v-model=\"dialog\" color=\"#fff\">\n          <v-card>\n            <v-card-title v-if=\"!generatedTokens\">Введіть суму токенів</v-card-title>\n            <v-card-text v-if=\"!generatedTokens\">\n              <v-text-field\n                id=\"transferTokens\"\n                label=\"Введіть суму\"\n                solo\n                outlined\n                height=\"20\"\n                v-model=\"transferTokens\"\n              ></v-text-field>\n              <v-btn text color=\"green\" :disabled=\"!transferTokens\" outlined @click=\"qrGenerate(transferTokens)\">Створити <v-icon>mdi-qrcode-scan</v-icon></v-btn><br/>\n             </v-card-text>\n\n            <div id=\"qrHolderOuter\" v-show=\"generatedTokens\">\n              <div class=\"text-center\" >\n                <v-alert color=\"green lighten-2\" height=\"40\" style=\"padding-top:7px\">Покажіть QR-код отримувачу</v-alert>\n              </div>\n              <div id=\"qrHolder\"></div>\n            </div>  \n           </v-card> \n        </v-dialog>  \n        <br/><br/>\n        <v-card>\n          <v-tabs\n            background-color=\"white\"\n            centered\n            color=\"#07C01A\"\n          >\n            <v-tab><v-icon>mdi-currency-usd-circle-outline</v-icon>Пропозиції</v-tab>\n            <v-tab><v-icon>mdi-star-face</v-icon>Подарунки</v-tab>\n            <v-tab-item>\n                <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-coffee\"\n                    color=\"#8b6138\"\n                  >\n                    mdi-coffee\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Кава</div>\n                <p>100% Арабіка,250 мл</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"#07C01A\">mdi-currency-usd-circle-outline</v-icon>\n                      100\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n\n              <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  color=\"ref\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-ticket\"\n                    color=\"green\"\n                    size=\"40\"\n                  >\n                    mdi-cellphone\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Поповнення</div>\n                <p>Екотариф. 45 грн</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"#07C01A\">mdi-currency-usd-circle-outline</v-icon>\n                      50\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n\n            </v-tab-item> \n            <v-tab-item>\n              <div class=\"text-center\">\n                <v-alert border=\"bottom\"\n                  colored-border\n                  type=\"warning\"\n                  elevation=\"2\">\n                Кількість бонусних подарунків обмежена</v-alert>\n              </div>\n               <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  color=\"green\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-ticket\"\n                    color=\"white\"\n                  >\n                    mdi-ticket\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Квиток на концерт</div>\n                <p>Альона, Альона</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"orange\">mdi-star-face</v-icon>\n                      200\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n            </v-tab-item> \n          </v-tabs> \n        </v-card>\n\n<!--\n         <v-card\n            color=\"#698ea1\"\n            dark\n          >\n            <v-card-title class=\"headline\">Мої транзакції</v-card-title>\n\n            <v-card-subtitle>Усі відсортовані пляшки</v-card-subtitle>\n            <v-list>\n            <v-subheader>01-21.11.2019</v-subheader>\n              <v-list-item-group color=\"transparent\">\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n              </v-list-item-group>\n            </v-list>\n            <v-card-actions>\n              <v-btn text>Переглянути</v-btn>\n            </v-card-actions>\n          </v-card>-->\n          \n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nexport default {\n   name: 'Wallet',\n   data: () => ({\n     dialog: false,\n     qrGen:1,\n     bonus:0,\n     generatedTokens:false,\n     transferTokens:'',\n     snackbar:false,\n     myWallet:0\n   }),\n   created(){\n    let db = this.$store.state.db;\n    let ref = this;\n    db.collection(\"users\").doc(this.$firebase.auth().currentUser.uid)\n    .onSnapshot(function(doc) {\n        ref.myWallet = doc.data().tokens;\n        //console.log(\"Current data: \", doc.data());\n    });\n\n    //check for message \n    if(typeof(this.$route.params.transferred) != 'undefined'){\n      this.snackbar = true;\n    }     \n   },\n   watch: {\n    dialog(val) {\n        if(!val){\n          this.generatedTokens = val;  \n          this.transferTokens = '';\n        }\n      },\n  },\n   methods: {\n     testApi(){\n///api?binid=1&count=1&key=\n     },\n     qrGenerate(transferTokens){\n        if(transferTokens && transferTokens <= this.$store.state.user.tokens){\n          this.generatedTokens = true;\n          let qr = this.$qrcode(0, 'H'); \n          let transfer = {fromid:1, tokens:transferTokens,  time:Date. now()};\n          transfer = JSON.stringify(transfer);\n          qr.addData(transfer);\n          qr.make();\n          setTimeout(\n            function(){\n              document.getElementById('qrHolder').innerHTML = qr.createImgTag(4);\n            }, 500\n          );\n        } else {\n          this.transferTokens=0;\n          alert('Недостатньо зелених на рахунку');\n        } \n     }\n   }\n  }\n</script>\n"],"sourceRoot":"src/components"}]}