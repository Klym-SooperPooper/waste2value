{"remainingRequest":"C:\\apps\\beeko2\\node_modules\\babel-loader\\lib\\index.js!C:\\apps\\beeko2\\node_modules\\vuetify-loader\\lib\\loader.js!C:\\apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\apps\\beeko2\\src\\components\\wallet.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\apps\\beeko2\\src\\components\\wallet.vue","mtime":1613848381717},{"path":"C:\\apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240334000},{"path":"C:\\apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5wYXJzZS1pbnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOlxcYXBwc1xcYmVla28yXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdXYWxsZXQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBxckdlbjogMSwKICAgICAgYm9udXM6IDAsCiAgICAgIGdlbmVyYXRlZFRva2VuczogZmFsc2UsCiAgICAgIHRyYW5zZmVyVG9rZW5zOiAnJywKICAgICAgc25hY2tiYXI6IGZhbHNlLAogICAgICByZWN5Y2xlSXRlbXM6ICcnLAogICAgICB0cmFuc2ZlclBob25lOiAnMDUwMDU1MjYxOCcsCiAgICAgIHNlbmRDYWxjOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICB1c2VyOiBmdW5jdGlvbiB1c2VyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyOwogICAgfSwKICAgICRkYjogZnVuY3Rpb24gJGRiKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5kYjsKICAgIH0KICB9KSksCiAgd2F0Y2g6IHsKICAgIGRpYWxvZzogZnVuY3Rpb24gZGlhbG9nKHZhbCkgewogICAgICBpZiAoIXZhbCkgewogICAgICAgIHRoaXMuZ2VuZXJhdGVkVG9rZW5zID0gdmFsOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy9jaGVjayBmb3IgbWVzc2FnZQogICAgaWYgKHR5cGVvZiB0aGlzLiRyb3V0ZS5wYXJhbXMudHJhbnNmZXJyZWQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYWxjVG9rZW5zOiBmdW5jdGlvbiBjYWxjVG9rZW5zKHJlY3ljbGVJdGVtcykgewogICAgICBpZiAocmVjeWNsZUl0ZW1zKSB7CiAgICAgICAgdGhpcy5yZWN5Y2xlSXRlbXMgPSBOdW1iZXIucGFyc2VJbnQocmVjeWNsZUl0ZW1zKTsKICAgICAgICB0aGlzLnRyYW5zZmVyVG9rZW5zID0gdGhpcy5yZWN5Y2xlSXRlbXMgKiB0aGlzLiRyYXRlOwogICAgICAgIHRoaXMuYm9udXMgPSB0aGlzLnJlY3ljbGVJdGVtcyAqIHRoaXMuJGJvbnVzUmF0ZTsKICAgICAgfQogICAgfSwKICAgIHFyR2VuZXJhdGU6IGZ1bmN0aW9uIHFyR2VuZXJhdGUodHJhbnNmZXJUb2tlbnMpIHsKICAgICAgaWYgKHRyYW5zZmVyVG9rZW5zICYmIHRyYW5zZmVyVG9rZW5zIDw9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudG9rZW5zKSB7CiAgICAgICAgdGhpcy5nZW5lcmF0ZWRUb2tlbnMgPSB0cnVlOwogICAgICAgIHZhciBxciA9IHRoaXMuJHFyY29kZSgwLCAnSCcpOwogICAgICAgIHZhciB0cmFuc2ZlciA9IHsKICAgICAgICAgIGZyb21pZDogMSwKICAgICAgICAgIHRva2VuczogdHJhbnNmZXJUb2tlbnMsCiAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpCiAgICAgICAgfTsKICAgICAgICB0cmFuc2ZlciA9IEpTT04uc3RyaW5naWZ5KHRyYW5zZmVyKTsKICAgICAgICBxci5hZGREYXRhKHRyYW5zZmVyKTsKICAgICAgICBxci5tYWtlKCk7CiAgICAgICAgdGhpcy4kcmVmcy5xckhvbGRlci5pbm5lckhUTUwgPSBxci5jcmVhdGVJbWdUYWcoNCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50cmFuc2ZlclRva2VucyA9IDA7CiAgICAgICAgYWxlcnQoJ9Cd0LXQtNC+0YHRgtCw0YLQvdGM0L4g0LfQtdC70LXQvdC40YUg0L3QsCDRgNCw0YXRg9C90LrRgycpOwogICAgICB9CiAgICB9LAogICAgc2VuZFRva2VuczogZnVuY3Rpb24gc2VuZFRva2Vucyh0cmFuc2ZlclRva2VucywgdHJhbnNmZXJQaG9uZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGRiLCBzZW5kZXJVc2VySWQsIHRyYW5zZmVyVXNlcklkLCBxdWVyeTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBzZW5kVG9rZW5zJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBkYiA9IHRoaXMuJHN0b3JlLnN0YXRlLmRiOwogICAgICAgICAgICAgIHNlbmRlclVzZXJJZCA9IHRoaXMuJGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51aWQ7CiAgICAgICAgICAgICAgdHJhbnNmZXJVc2VySWQgPSBmYWxzZTsKICAgICAgICAgICAgICB0cmFuc2ZlclRva2VucyA9IE51bWJlci5wYXJzZUludCh0cmFuc2ZlclRva2Vucyk7CgogICAgICAgICAgICAgIGlmICghKHRyYW5zZmVyVG9rZW5zICYmIHRyYW5zZmVyVG9rZW5zIDw9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudG9rZW5zKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKCF0cmFuc2ZlclBob25lKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aGlzLnNlbmRDYWxjID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykud2hlcmUoJ3Bob25lJywgJz09JywgdHJhbnNmZXJQaG9uZSkubGltaXQoMSkuZ2V0KCkpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBxdWVyeSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChQcm9taXNlLmFsbChxdWVyeS5kb2NzLm1hcChmdW5jdGlvbiBfY2FsbGVlKGRvYykgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXJVc2VySWQgPSBkb2MuaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF90aGlzLm1ha2VUcmFuc2ZlcihzZW5kZXJVc2VySWQsIHRyYW5zZmVyVXNlcklkLCB0cmFuc2ZlclRva2VucykpOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KSkpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE4OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE1OwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSg3KTsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjogJywgX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxODsKICAgICAgICAgICAgICB0aGlzLnNlbmRDYWxjID0gZmFsc2U7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMTgpOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICB0aGlzLnRyYW5zZmVyVG9rZW5zID0gMDsKICAgICAgICAgICAgICBhbGVydCgn0J3QtdC00L7RgdGC0LDRgtC90YzQviDQt9C10LvQtdC90LjRhSDQvdCwINGA0LDRhdGD0L3QutGDJyk7CgogICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcywgW1s3LCAxNSwgMTgsIDIxXV0pOwogICAgfSwKICAgIG1ha2VUcmFuc2ZlcjogZnVuY3Rpb24gbWFrZVRyYW5zZmVyKHNlbmRlclVzZXJJZCwgdHJhbnNmZXJVc2VySWQsIHRyYW5zZmVyVG9rZW5zKSB7CiAgICAgIHZhciBkYiwgdHJhbnNmZXJCb251cywgZ2V0U2VuZGVyVXNlckRvY1JlZiwgZ2V0UmVjZWl2ZXJVc2VyRG9jUmVmLCBzYXZlUmVjeWNsZVRyYW5zYWN0aW9uLCBkb2NSZWYsIHRyYW5zYWN0aW9uOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIG1ha2VUcmFuc2ZlciQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgLy9nZXQgYSB1c2VyIHRvIHRyYW5zZmVyCiAgICAgICAgICAgICAgZGIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kYjsKICAgICAgICAgICAgICB0cmFuc2ZlckJvbnVzID0gdGhpcy5ib251czsKICAgICAgICAgICAgICBnZXRTZW5kZXJVc2VyRG9jUmVmID0gZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2Moc2VuZGVyVXNlcklkKTsKICAgICAgICAgICAgICBnZXRSZWNlaXZlclVzZXJEb2NSZWYgPSBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyh0cmFuc2ZlclVzZXJJZCk7CiAgICAgICAgICAgICAgc2F2ZVJlY3ljbGVUcmFuc2FjdGlvbiA9IHsKICAgICAgICAgICAgICAgIGJpbmlkOiAxLAogICAgICAgICAgICAgICAgZnJvbWlkOiBzZW5kZXJVc2VySWQsCiAgICAgICAgICAgICAgICBib251czogdGhpcy5ib251cywKICAgICAgICAgICAgICAgIGJvbnVzUmF0ZTogdGhpcy4kYm9udXNSYXRlLAogICAgICAgICAgICAgICAgY291bnQ6IHRoaXMucmVjeWNsZUl0ZW1zLAogICAgICAgICAgICAgICAgcmF0ZTogdGhpcy4kcmF0ZSwKICAgICAgICAgICAgICAgIC8vINGB0YLQvtC40YIg0LjQu9C4INC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDQsNGA0LPRg9C80LXQvdGCINC40LvQuCDRg9Cx0YDQsNGC0Ywg0LXQs9C+INC40Lcg0YTRg9C90LrRhtC40LgKICAgICAgICAgICAgICAgIC8vIHRva2VuczogdGhpcy50cmFuc2ZlclRva2VucywKICAgICAgICAgICAgICAgIHRva2VuczogdHJhbnNmZXJUb2tlbnMsCiAgICAgICAgICAgICAgICB1aWQ6IHRyYW5zZmVyVXNlcklkLAogICAgICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKQogICAgICAgICAgICAgIH07IC8vIGRiLmNvbGxlY3Rpb24oInRyYW5zYWN0aW9ucyIpLmFkZCh7J2Zyb21pZCc6c2VuZGVyVXNlcklkLCd0b2tlbnMnOnRyYW5zZmVyVG9rZW5zLCAndWlkJzp0cmFuc2ZlclVzZXJJZCwgJ3RpbWUnOkRhdGUuIG5vdygpfSkKCiAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSA1OwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGRiLmNvbGxlY3Rpb24oJ3RyYW5zYWN0aW9ucycpLmFkZChzYXZlUmVjeWNsZVRyYW5zYWN0aW9uKSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgZG9jUmVmID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZG9jUmVmKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVHJhbnNmZXIgd3JpdHRlbiB3aXRoIElEOiAnLCBkb2NSZWYuaWQpOyAvL3J1biB0cmFuc2ZlciBVU0VSIHRyYW5zYWN0aW9uCiAgICAgICAgICAgICAgLy8g0YbQtdC70Ywg0YLRgNCw0L3Qt9Cw0LrRhtC40Lkg0LLRi9C/0L7Qu9C90LjRgtGMINC90LXRgdC60L7Qu9GM0LrQviDQvtC/0LXRgNCw0YbQuNC5INCyINC10LTQtdC90LjRhtGDINCy0YDQtdC80LXQvdC4LAogICAgICAgICAgICAgIC8vINC40L3QsNGH0LUg0L/QvtC60LAg0L7QsdC90L7QstC70Y/QtdGC0YHRjyDQsNC60LrQsNGD0L3RgiDQvtGC0L/RgNCw0LLQuNGC0LXQu9GPLCDQtNGA0YPQs9C+0Lkg0LfQsNC/0YDQvtGBINC80L7QsyDQvtCx0L3QvtCy0LjRgtGMINCw0LrQutCw0YPQvdGCINC/0L7Qu9GD0YfQsNGC0LXQu9GPINC4INCz0LTQtS3RgtC+INGB0YPQvNC80LAg0L3QtSDRgdC+0LnQtNC10YLRgdGPCgogICAgICAgICAgICAgIHRyYW5zYWN0aW9uID0gZGIucnVuVHJhbnNhY3Rpb24oZnVuY3Rpb24gX2NhbGxlZTIodHJhbnNhY3Rpb24pIHsKICAgICAgICAgICAgICAgIHZhciBnZXRSZWNlaXZlclVzZXJEb2MsIGdldFNlbmRlclVzZXJEb2MsIG5ld1JlY2VpdmVyVG9rZW5zLCBuZXdSZWNlaXZlckJvbnVzLCByZWNlaXZlclRyLCBuZXdTZW5kZXJUb2tlbnMsIHNlbmRlclRyOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0cmFuc2FjdGlvbi5nZXQoZ2V0UmVjZWl2ZXJVc2VyRG9jUmVmKSk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICBnZXRSZWNlaXZlclVzZXJEb2MgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRyYW5zYWN0aW9uLmdldChnZXRTZW5kZXJVc2VyRG9jUmVmKSk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICBnZXRTZW5kZXJVc2VyRG9jID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoISghZ2V0UmVjZWl2ZXJVc2VyRG9jLmV4aXN0cyB8fCAhZ2V0U2VuZGVyVXNlckRvYy5leGlzdHMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIiIuY29uY2F0KCFnZXRSZWNlaXZlclVzZXJEb2MuZXhpc3RzID8gJ1JlY2VpdmVyJyA6ICdTZW5kZXInLCAiIGRvY3VtZW50IGRvZXMgbm90IGV4aXN0ISIpKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1JlY2VpdmVyVG9rZW5zID0gZ2V0UmVjZWl2ZXJVc2VyRG9jLmRhdGEoKS50b2tlbnMgKyB0cmFuc2ZlclRva2VuczsKICAgICAgICAgICAgICAgICAgICAgICAgbmV3UmVjZWl2ZXJCb251cyA9IGdldFJlY2VpdmVyVXNlckRvYy5kYXRhKCkuYm9udXMgKyB0cmFuc2ZlckJvbnVzOwogICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlclRyID0gdHJhbnNhY3Rpb24udXBkYXRlKGdldFJlY2VpdmVyVXNlckRvY1JlZiwgewogICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuczogbmV3UmVjZWl2ZXJUb2tlbnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9udXM6IG5ld1JlY2VpdmVyQm9udXMKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbmRlclRva2VucyA9IGdldFNlbmRlclVzZXJEb2MuZGF0YSgpLnRva2VucyAtIHRyYW5zZmVyVG9rZW5zOwogICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJUciA9IHRyYW5zYWN0aW9uLnVwZGF0ZShnZXRTZW5kZXJVc2VyRG9jUmVmLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiBuZXdTZW5kZXJUb2tlbnMKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLmFsbChbc2VuZGVyVHIsIHJlY2VpdmVyVHJdKSk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVHJhbnNhY3Rpb24gZmFpbGVkOiAnLCBlcnJvcik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RyYW5zZmVyICYgZ2V0IHRyYW5zYWN0aW9uIHN1Y2Nlc3NmdWxseSBjb21taXR0ZWQhJyk7CiAgICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgICAgICAgICBhbGVydCgn0JfQsNGA0LDRhdC+0LLQsNC90L4g0LfQtdC70LXQvdC40YU6ICcgKyB0cmFuc2ZlclRva2Vucyk7IC8vcnVuIHRyYW5zYWN0aW9uIGZvciB0cmFuc2ZlciB1c2VyCiAgICAgICAgICAgICAgLy9yb3V0ZXIucHVzaCh7cGF0aDond2FsbGV0JywgbmFtZTonV2FsbGV0JywgcGFyYW1zOnsndHJhbnNmZXJyZWQnOmRlY29kZWRTdHJpbmcudG9rZW5zfX0pOwoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgdHJhbnNhY3Rpb24pOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDE4OwogICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NFsiY2F0Y2giXSg1KTsKICAgICAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIGRvY3VtZW50OiAnLCBfY29udGV4dDQudDApOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMsIFtbNSwgMThdXSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["wallet.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<v-container>\n\t\t<v-layout text-center wrap>\n\t\t\t<v-flex>\n\t\t\t\t<v-snackbar\n\t\t\t\t\tclass=\"text-center\"\n\t\t\t\t\ttop\n\t\t\t\t\tlight\n\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\tv-model=\"snackbar\"\n\t\t\t\t>\n\t\t\t\t\t<v-alert color=\"green lighten-2\" height=\"40\" style=\"padding-top: 7px\"\n\t\t\t\t\t\t><v-icon>mdi-coins</v-icon>Зараховано зелених:\n\t\t\t\t\t\t{{ $route.params.transferred }}</v-alert\n\t\t\t\t\t>\n\t\t\t\t</v-snackbar>\n\n\t\t\t\t<h1 class=\"headline\" style=\"color: orange\">Мій гаманець</h1>\n\n\t\t\t\t<div>\n\t\t\t\t\t<!--\n\t\t\t\t\t<div class=\"text-center\" v-if=\"$store.state.user.pretokens\">\n\t\t\t\t\t\t<v-alert\n\t\t\t\t\t\t\tcolor=\"green lighten-2\"\n\t\t\t\t\t\t\theight=\"80\"\n\t\t\t\t\t\t\tstyle=\"padding-top: 7px\"\n\t\t\t\t\t\t\t>Вітаємо у EcoДія!<br/>\n\t\t\t\t\t\t\tВаші зелені нарахуються після перевірки на сортувальній станції\n\t\t\t\t\t\t</v-alert>\n\t\t\t\t\t\t<v-chip\n\t\t\t\t\t\t\tv-if=\"$store.state.user.pretokens\"\n\t\t\t\t\t\t\ttext-color=\"grey\"\n\t\t\t\t\t\t\tcolor=\"transparent\"\n\t\t\t\t\t\t\tstyle=\"margin-top: 10px\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<v-icon color=\"#07C01A\" large\n\t\t\t\t\t\t\t\t>mdi-currency-usd-circle-outline</v-icon\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"display-1\">{{ user.pretokens }}</span>\n\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t</div>\n\t\t\t\t\t-->\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<v-chip\n\t\t\t\t\t\t\tv-if=\"$store.state.user.tokens\"\n\t\t\t\t\t\t\ttext-color=\"#07C01A\"\n\t\t\t\t\t\t\tcolor=\"transparent\"\n\t\t\t\t\t\t\tstyle=\"margin-top: 10px\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<v-icon color=\"#07C01A\" large\n\t\t\t\t\t\t\t\t>mdi-currency-usd-circle-outline</v-icon\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"display-1\">{{ user.tokens }}</span>\n\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t<v-chip\n\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\ttext-color=\"#07C01A\"\n\t\t\t\t\t\t\tcolor=\"transparent\"\n\t\t\t\t\t\t\tstyle=\"margin-top: 10px\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<v-icon color=\"#07C01A\" large\n\t\t\t\t\t\t\t\t>mdi-currency-usd-circle-outline</v-icon\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"display-1\">0</span>\n\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t\t<div id=\"placeHolder\"></div>\n\t\t\t\t<!-- @click=\"dialog = true\" -->\n\t\t\t\t<v-btn dark color=\"grey\">Надіслати зелені\n\t\t\t\t\t<v-icon>mdi-currency-usd-circle-outline</v-icon></v-btn\n\t\t\t\t>\n\t\t\t\t<v-dialog v-model=\"dialog\" color=\"#fff\">\n\t\t\t\t\t<v-card>\n\t\t\t\t\t\t<v-card-title v-if=\"!generatedTokens\"\n\t\t\t\t\t\t\t>Введіть суму токенів</v-card-title\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<v-card-text v-if=\"!generatedTokens\">\n\t\t\t\t\t\t\t<!--\n              <v-text-field\n                id=\"transferTokens\"\n                label=\"Введіть суму\"\n                solo\n                outlined\n                height=\"20\"\n                v-model=\"transferTokens\"\n              ></v-text-field>\n              -->\n\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\tid=\"recycleItems\"\n\t\t\t\t\t\t\t\tlabel=\"Введіть кількість пляшок\"\n\t\t\t\t\t\t\t\tsolo\n\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\theight=\"20\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t@change=\"calcTokens(recycleItems)\"\n\t\t\t\t\t\t\t\tv-model=\"recycleItems\"\n\t\t\t\t\t\t\t></v-text-field>\n\n\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\tid=\"transferTokens\"\n\t\t\t\t\t\t\t\tlabel=\"Кількість зелених\"\n\t\t\t\t\t\t\t\tsolo\n\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\theight=\"20\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tv-model=\"transferTokens\"\n\t\t\t\t\t\t\t></v-text-field>\n\n\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\tid=\"transferPhone\"\n\t\t\t\t\t\t\t\tlabel=\"Номер телефона\"\n\t\t\t\t\t\t\t\tsolo\n\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\theight=\"20\"\n\t\t\t\t\t\t\t\tv-model=\"transferPhone\"\n\t\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\t\t:disabled=\"(!transferTokens && !transferPhone) || sendCalc\"\n\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t@click=\"sendTokens(transferTokens, transferPhone)\"\n\t\t\t\t\t\t\t\t>Надіслати бонуси</v-btn\n\t\t\t\t\t\t\t><br />\n\t\t\t\t\t\t</v-card-text>\n\n\t\t\t\t\t\t<div id=\"qrHolderOuter\" v-show=\"generatedTokens\">\n\t\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t\t<v-alert\n\t\t\t\t\t\t\t\t\tcolor=\"green lighten-2\"\n\t\t\t\t\t\t\t\t\theight=\"40\"\n\t\t\t\t\t\t\t\t\tstyle=\"padding-top: 7px\"\n\t\t\t\t\t\t\t\t\t>Покажіть QR-код отримувачу</v-alert\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div ref=\"qrHolder\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</v-card>\n\t\t\t\t</v-dialog>\n\t\t\t\t<br /><br />\n\t\t\t\t<img src=\"../assets/cash-icon.png\" height=\"80\" />\n\t\t\t\t<div style=\"text-align:center; color:green\">Курс: 1 гривня = 100 зелених</div>\n\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t<v-alert dense text type=\"success\">\n\t\t\t\t\t\t\tЗа нараховані бали незабаром ви зможете отримати певні винагороди: екотовари, поповнення мобільного рахунку або <strong>готівку на власну банківську картку</strong>.\n\t\t\t\t\t\t</v-alert>\n\t\t\t\t</div>\n\t\t\t\t<v-card>\n\t\t\t\t\t<v-tabs background-color=\"white\" centered color=\"#07C01A\">\n\t\t\t\t\t\t<v-tab\n\t\t\t\t\t\t\t><v-icon>mdi-currency-usd-circle-outline</v-icon>Пропозиції</v-tab\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<!--<v-tab><v-icon>mdi-star-face</v-icon>Подарунки</v-tab>-->\n\t\t\t\t\t\t<v-tab-item>\n\t\t\t\t\t\t\t<v-banner one-line>\n\t\t\t\t\t\t\t\t<v-avatar slot=\"icon\" color=\"ref\" size=\"40\">\n\t\t\t\t\t\t\t\t\t<v-icon icon=\"mdi-ticket\" color=\"green\" size=\"40\">\n\t\t\t\t\t\t\t\t\t\tmdi-cellphone\n\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t</v-avatar>\n\t\t\t\t\t\t\t\t<div class=\"headline text-left\">Поповнення мобільного</div>\n\t\t\t\t\t\t\t\t<p>Екотариф</p>\n\t\t\t\t\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t\t\t\t\t<v-btn dark color=\"green accent-4\">поповнити</v-btn>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</v-banner>\n\n\t\t\t\t\t\t\t<v-banner one-line>\n\t\t\t\t\t\t\t\t<v-avatar slot=\"icon\" size=\"40\">\n\t\t\t\t\t\t\t\t\t<v-icon icon=\"mdi-emoticon-cool\" color=\"orange\">\n\t\t\t\t\t\t\t\t\t\tmdi-emoticon-cool\n\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t</v-avatar>\n\t\t\t\t\t\t\t\t<div class=\"headline text-left\">Екотовари</div>\n\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t\t\t\t\t<v-chip text-color=\"orange\" color=\"transparent\">\n\t\t\t\t\t\t\t\t\t\t<v-icon color=\"#07C01A\"\n\t\t\t\t\t\t\t\t\t\t\t>mdi-currency-usd-circle-outline</v-icon\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t\t\t\t<v-btn text color=\"green accent-4\">незабаром</v-btn>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</v-banner>\n\t\t\t\t\t\t</v-tab-item>\n\t\t\t\t\t\t<v-tab-item>\n\t\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t\t<v-alert\n\t\t\t\t\t\t\t\t\tborder=\"bottom\"\n\t\t\t\t\t\t\t\t\tcolored-border\n\t\t\t\t\t\t\t\t\ttype=\"warning\"\n\t\t\t\t\t\t\t\t\televation=\"2\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tКількість бонусних подарунків обмежена</v-alert\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<v-banner one-line>\n\t\t\t\t\t\t\t\t<v-avatar slot=\"icon\" color=\"green\" size=\"40\">\n\t\t\t\t\t\t\t\t\t<v-icon icon=\"mdi-ticket\" color=\"white\"> mdi-ticket </v-icon>\n\t\t\t\t\t\t\t\t</v-avatar>\n\t\t\t\t\t\t\t\t<div class=\"headline text-left\">Квиток на концерт</div>\n\t\t\t\t\t\t\t\t<p>Альона, Альона</p>\n\t\t\t\t\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t\t\t\t\t<v-chip text-color=\"orange\" color=\"transparent\">\n\t\t\t\t\t\t\t\t\t\t<v-icon color=\"orange\">mdi-star-face</v-icon>\n\t\t\t\t\t\t\t\t\t\t200\n\t\t\t\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t\t\t\t<v-btn text color=\"green accent-4\">незабаром</v-btn>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</v-banner>\n\t\t\t\t\t\t</v-tab-item>\n\t\t\t\t\t</v-tabs>\n\t\t\t\t</v-card>\n\n\t\t\t\t<!--\n         <v-card\n            color=\"#698ea1\"\n            dark\n          >\n            <v-card-title class=\"headline\">Мої транзакції</v-card-title>\n\n            <v-card-subtitle>Усі відсортовані пляшки</v-card-subtitle>\n            <v-list>\n            <v-subheader>01-21.11.2019</v-subheader>\n              <v-list-item-group color=\"transparent\">\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n              </v-list-item-group>\n            </v-list>\n            <v-card-actions>\n              <v-btn text>Переглянути</v-btn>\n            </v-card-actions>\n          </v-card>-->\n\t\t\t</v-flex>\n\t\t</v-layout>\n\t</v-container>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\n\nexport default {\n\tname: 'Wallet',\n\tdata: () => ({\n\t\tdialog: false,\n\t\tqrGen: 1,\n\t\tbonus: 0,\n\t\tgeneratedTokens: false,\n\t\ttransferTokens: '',\n\t\tsnackbar: false,\n\t\trecycleItems: '',\n\t\ttransferPhone: '0500552618',\n\t\tsendCalc: false,\n\t}),\n\tcomputed: {\n\t\t...mapState({\n\t\t\tuser: (state) => state.user,\n\t\t\t$db: (state) => state.db,\n\t\t}),\n\t},\n\twatch: {\n\t\tdialog(val) {\n\t\t\tif (!val) {\n\t\t\t\tthis.generatedTokens = val;\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\t//check for message\n\t\tif (typeof this.$route.params.transferred != 'undefined') {\n\t\t\tthis.snackbar = true;\n\t\t}\n\t},\n\tmethods: {\n\t\tcalcTokens(recycleItems) {\n\t\t\tif (recycleItems) {\n\t\t\t\tthis.recycleItems = Number.parseInt(recycleItems);\n\t\t\t\tthis.transferTokens = this.recycleItems * this.$rate;\n\t\t\t\tthis.bonus = this.recycleItems * this.$bonusRate;\n\t\t\t}\n\t\t},\n\t\tqrGenerate(transferTokens) {\n\t\t\tif (transferTokens && transferTokens <= this.$store.state.user.tokens) {\n\t\t\t\tthis.generatedTokens = true;\n\t\t\t\tlet qr = this.$qrcode(0, 'H');\n\t\t\t\tlet transfer = { fromid: 1, tokens: transferTokens, time: Date.now() };\n\t\t\t\ttransfer = JSON.stringify(transfer);\n\t\t\t\tqr.addData(transfer);\n\t\t\t\tqr.make();\n\t\t\t\tthis.$refs.qrHolder.innerHTML = qr.createImgTag(4);\n\t\t\t} else {\n\t\t\t\tthis.transferTokens = 0;\n\t\t\t\talert('Недостатньо зелених на рахунку');\n\t\t\t}\n\t\t},\n\n\t\tasync sendTokens(transferTokens, transferPhone) {\n\t\t\tlet db = this.$store.state.db;\n\t\t\tlet senderUserId = this.$firebase.auth().currentUser.uid;\n\t\t\tlet transferUserId = false;\n\n\t\t\ttransferTokens = Number.parseInt(transferTokens);\n\t\t\tif (transferTokens && transferTokens <= this.$store.state.user.tokens) {\n\t\t\t\tif (transferPhone) {\n\t\t\t\t\tthis.sendCalc = true;\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// сейчас может получиться несколько польщователей с одним номером, стоит добавить ограничение и использовать только первого найденного (на всякий случай) либо делать поддержку ситуаци с несколькими пользователями\n\t\t\t\t\t\tconst query = await db\n\t\t\t\t\t\t\t.collection('users')\n\t\t\t\t\t\t\t.where('phone', '==', transferPhone)\n\t\t\t\t\t\t\t.limit(1)\n\t\t\t\t\t\t\t.get();\n\n\t\t\t\t\t\tawait Promise.all(\n\t\t\t\t\t\t\tquery.docs.map(async (doc) => {\n\t\t\t\t\t\t\t\ttransferUserId = doc.id;\n\t\t\t\t\t\t\t\treturn this.makeTransfer(\n\t\t\t\t\t\t\t\t\tsenderUserId,\n\t\t\t\t\t\t\t\t\ttransferUserId,\n\t\t\t\t\t\t\t\t\ttransferTokens\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error('Error: ', error);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tthis.sendCalc = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.transferTokens = 0;\n\t\t\t\talert('Недостатньо зелених на рахунку');\n\t\t\t}\n\t\t},\n\n\t\tasync makeTransfer(senderUserId, transferUserId, transferTokens) {\n\t\t\t//get a user to transfer\n\t\t\tlet db = this.$store.state.db;\n\t\t\tlet transferBonus = this.bonus;\n\t\t\tlet getSenderUserDocRef = db.collection('users').doc(senderUserId);\n\t\t\tlet getReceiverUserDocRef = db.collection('users').doc(transferUserId);\n\t\t\tlet saveRecycleTransaction = {\n\t\t\t\tbinid: 1,\n\t\t\t\tfromid:senderUserId,\n\t\t\t\tbonus: this.bonus,\n\t\t\t\tbonusRate: this.$bonusRate,\n\t\t\t\tcount: this.recycleItems,\n\t\t\t\trate: this.$rate,\n\t\t\t\t// стоит или использовать аргумент или убрать его из функции\n\t\t\t\t// tokens: this.transferTokens,\n\t\t\t\ttokens: transferTokens,\n\t\t\t\tuid: transferUserId,\n\t\t\t\ttime: Date.now(),\n\t\t\t};\n\n\t\t\t// db.collection(\"transactions\").add({'fromid':senderUserId,'tokens':transferTokens, 'uid':transferUserId, 'time':Date. now()})\n\t\t\ttry {\n\t\t\t\tconst docRef = await db\n\t\t\t\t\t.collection('transactions')\n\t\t\t\t\t.add(saveRecycleTransaction);\n\n\t\t\t\tconsole.log(docRef);\n\t\t\t\tconsole.log('Transfer written with ID: ', docRef.id);\n\n\t\t\t\t//run transfer USER transaction\n\t\t\t\t// цель транзакций выполнить несколько операций в еденицу времени,\n\t\t\t\t// иначе пока обновляется аккаунт отправителя, другой запрос мог обновить аккаунт получателя и где-то сумма не сойдется\n\t\t\t\tconst transaction = db\n\t\t\t\t\t.runTransaction(async (transaction) => {\n\t\t\t\t\t\t// This code may get re-run multiple times if there are conflicts.\n\t\t\t\t\t\tconst getReceiverUserDoc = await transaction.get(\n\t\t\t\t\t\t\tgetReceiverUserDocRef\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst getSenderUserDoc = await transaction.get(getSenderUserDocRef);\n\t\t\t\t\t\tif (!getReceiverUserDoc.exists || !getSenderUserDoc.exists) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t`${\n\t\t\t\t\t\t\t\t\t!getReceiverUserDoc.exists ? 'Receiver' : 'Sender'\n\t\t\t\t\t\t\t\t} document does not exist!`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst newReceiverTokens =\n\t\t\t\t\t\t\tgetReceiverUserDoc.data().tokens + transferTokens;\n\t\t\t\t\t\tconst newReceiverBonus =\n\t\t\t\t\t\t\tgetReceiverUserDoc.data().bonus + transferBonus;\n\t\t\t\t\t\tconst receiverTr = transaction.update(getReceiverUserDocRef, {\n\t\t\t\t\t\t\ttokens: newReceiverTokens,\n\t\t\t\t\t\t\tbonus: newReceiverBonus,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst newSenderTokens =\n\t\t\t\t\t\t\tgetSenderUserDoc.data().tokens - transferTokens;\n\t\t\t\t\t\tconst senderTr = transaction.update(getSenderUserDocRef, {\n\t\t\t\t\t\t\ttokens: newSenderTokens,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn Promise.all([senderTr, receiverTr]);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\tconsole.log('Transaction failed: ', error);\n\t\t\t\t\t});\n\n\t\t\t\tconsole.log('Transfer & get transaction successfully committed!');\n\t\t\t\tthis.dialog = false;\n\t\t\t\talert('Зараховано зелених: ' + transferTokens);\n\t\t\t\t//run transaction for transfer user\n\t\t\t\t//router.push({path:'wallet', name:'Wallet', params:{'transferred':decodedString.tokens}});\n\t\t\t\treturn transaction;\n\t\t\t} catch (error) {\n\t\t\t\t//eslint-disable-next-line no-console\n\t\t\t\tconsole.error('Error adding document: ', error);\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n"],"sourceRoot":"src/components"}]}