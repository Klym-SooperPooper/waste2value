{"remainingRequest":"C:\\apps\\beeko2\\node_modules\\babel-loader\\lib\\index.js!C:\\apps\\beeko2\\node_modules\\vuetify-loader\\lib\\loader.js!C:\\apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\apps\\beeko2\\src\\components\\profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\apps\\beeko2\\src\\components\\profile.vue","mtime":1613240160443},{"path":"C:\\apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240334000},{"path":"C:\\apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkM6XFxhcHBzXFxiZWVrbzJcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Byb2ZpbGUnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaWduZWR1cDogZmFsc2UsCiAgICAgIGF2YXRhclVwbG9hZGVkOiBmYWxzZSwKICAgICAgdXBkYXRlZDogZmFsc2UsCiAgICAgIGZvcm1Jc1ZhbGlkOiBmYWxzZSwKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIHByb2ZpbGU6IHsKICAgICAgICAnbmFtZSc6ICcnLAogICAgICAgICdlbWFpbCc6ICcnLAogICAgICAgICdwaG9uZSc6ICcnLAogICAgICAgICdhdmF0YXInOiAnJwogICAgICB9LAogICAgICBydWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAn0J7QsdC+0LJg0Y/Qt9C60L7QstC1INC/0L7Qu9C1JzsKICAgICAgfV0sCiAgICAgIGVtYWlsUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAvLitALisvLnRlc3QodikgfHwgJ9Cd0LXQstGW0YDQvdC40LkgZS1tYWlsJzsKICAgICAgfV0sCiAgICAgIGJvbnVzOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsndXNlciddKSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0eXBlb2YgdGhpcy4kcm91dGUucGFyYW1zLnNpZ25lZHVwICE9ICd1bmRlZmluZWQnKSB7CiAgICAgIHRoaXMuc2lnbmVkdXAgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuc2lnbmVkdXA7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB2YWxpZGF0ZUZvcm06IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybSgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy5mb3JtSXNWYWxpZCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5mb3JtSXNWYWxpZCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgdXBsb2FkQXZhdGFyOiBmdW5jdGlvbiB1cGxvYWRBdmF0YXIoZmlsZSkgewogICAgICB2YXIgc3RvcmUgPSB0aGlzLiRzdG9yZTsKICAgICAgdmFyIGZpcmViYXNlID0gdGhpcy4kZmlyZWJhc2U7CiAgICAgIHZhciByZWYgPSB0aGlzOwogICAgICBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCkuY2hpbGQoJ2F2YXRhcnMvJyArIHRoaXMudXNlci51aWQpLnB1dChmaWxlKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWRlZCBhIGJsb2Igb3IgZmlsZSEnICsgc25hcHNob3QpOyAvL2dldCB1cmwKCiAgICAgICAgc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICBzdG9yZS5zdGF0ZS5kYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyhmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkKS51cGRhdGUoewogICAgICAgICAgICBhdmF0YXI6IHVybAogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2ZpbGVBdmF0YXInKS5zcmMgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgIHJlZi5hdmF0YXJVcGxvYWRlZCA9IHRydWU7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJlZi5hdmF0YXJVcGxvYWRlZCA9IGZhbHNlOwogICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgIH07CgogICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVJbmZvOiBmdW5jdGlvbiBzYXZlSW5mbygpIHsKICAgICAgdmFyIHJlZiA9IHRoaXM7CgogICAgICBpZiAocmVmLmZvcm1Jc1ZhbGlkKSB7CiAgICAgICAgcmVmLiRzdG9yZS5zdGF0ZS5kYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyhyZWYudXNlci51aWQpLnVwZGF0ZSh7CiAgICAgICAgICBuYW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlck5hbWUnKS52YWx1ZSwKICAgICAgICAgIGVtYWlsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckVtYWlsJykudmFsdWUsCiAgICAgICAgICBwaG9uZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJQaG9uZScpLnZhbHVlCiAgICAgICAgfSk7CiAgICAgICAgcmVmLnVwZGF0ZWQgPSB0cnVlOwogICAgICAgIHZhciByZWRpcmVjdCA9IHJlZi4kcm91dGVyOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgLy9yZWRpcmVjdCB0byBhY2NvdW50CiAgICAgICAgICByZWRpcmVjdC5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJ3dhbGxldCcsCiAgICAgICAgICAgIG5hbWU6ICdXYWxsZXQnCiAgICAgICAgICB9KTsKICAgICAgICB9LCAzMDAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgn0KTQvtGA0LzQsCDQt9Cw0L/QvtCy0L3QtdC90LAg0L3QtdCy0ZbRgNC90L4hJyk7CiAgICAgIH0KICAgIH0sCiAgICBzaWduT3V0OiBmdW5jdGlvbiBzaWduT3V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKGNvbmZpcm0oJ9CS0Lgg0LTRltC50YHQvdC+INGF0L7Rh9C10YLQtSDQstC40LnRgtC4INC3INC00L7QtNCw0YLQutGDPycpKSB7CiAgICAgICAgdGhpcy4kZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdTaWdudXAnLAogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICBsb2dvdXQ6IDEKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["profile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<v-container>\r\n\t\t<v-layout text-center wrap id=\"myProfileForm\">\r\n\t\t\t<v-flex xs12>\r\n\t\t\t\t<template>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h1 class=\"headline\" style=\"color: orange\">Мій профіль</h1>\r\n\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\tabsolute=\"\"\r\n\t\t\t\t\t\t\ttop\r\n\t\t\t\t\t\t\tright\r\n\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\tid=\"signOutBtn\"\r\n\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\toutlined=\"\"\r\n\t\t\t\t\t\t\tclass=\"mr-4\"\r\n\t\t\t\t\t\t\t@click=\"signOut\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<v-icon size=\"small\">mdi-arrow-right</v-icon><small>вийти</small>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<!-- v-if=\"signedup\"-->\r\n\t\t\t\t\r\n\t\t\t\t\t<div class=\"text-center\" v-if=\"!user.email\">\r\n\t\t\t\t\t\t<v-alert color=\"orange lighten-2\" style=\"padding-top: 7px\"\r\n\t\t\t\t\t\t\t><v-icon>mdi-email</v-icon>Вкажіть свій e-mail на випадок зміни\r\n\t\t\t\t\t\t\tномеру телефона</v-alert>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"text-center\" v-if=\"avatarUploaded\">\r\n\t\t\t\t\t\t<v-alert\r\n\t\t\t\t\t\t\tcolor=\"green lighten-2\"\r\n\t\t\t\t\t\t\theight=\"40\"\r\n\t\t\t\t\t\t\tstyle=\"padding-top: 7px\"\r\n\t\t\t\t\t\t\t>Аватар оновлено!</v-alert\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<v-form ref=\"form\" id=\"update-form\" v-model=\"valid\" lazy-validation>\r\n\t\t\t\t\t\t<div id=\"personal\"> \r\n\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t<v-header class=\"main-label\" style=\"color:green\"><strong>Персональні дані</strong></v-header>\r\n\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\tv-model=\"user.name\"\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tid=\"userName\"\r\n\t\t\t\t\t\t\t\tlabel=\"Имя\"\r\n\t\t\t\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t\t\t\t@change=\"validateForm\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\tv-model=\"user.phone\"\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tid=\"userPhone\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tlabel=\"Телефон\"\r\n\t\t\t\t\t\t\t\tthumb-label\r\n\t\t\t\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t\t\t\t@change=\"validateForm\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\tv-model=\"user.email\"\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tid=\"userEmail\"\r\n\t\t\t\t\t\t\t\tlabel=\"E-mail\"\r\n\t\t\t\t\t\t\t\t:rules=\"emailRules\"\r\n\t\t\t\t\t\t\t\t@change=\"validateForm\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tid=\"profileAvatar\"\r\n\t\t\t\t\t\t\t\tv-if=\"user.avatar\"\r\n\t\t\t\t\t\t\t\tv-bind:src=\"user.avatar\"\r\n\t\t\t\t\t\t\t\twidth=\"150\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<img id=\"profileAvatar\" v-else src=\"\" width=\"150\" />\r\n\t\t\t\t\t\t\t<v-file-input\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tid=\"avatarUpload\"\r\n\t\t\t\t\t\t\t\tlabel=\"Загрузить аватар\"\r\n\t\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\t\t@change=\"uploadAvatar($event)\"\r\n\t\t\t\t\t\t\t></v-file-input>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"text-center\" v-if=\"updated\">\r\n\t\t\t\t\t\t\t\t<v-alert\r\n\t\t\t\t\t\t\t\t\tcolor=\"green lighten-2\"\r\n\t\t\t\t\t\t\t\t\theight=\"40\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"padding-top: 7px\"\r\n\t\t\t\t\t\t\t\t\t>Інформацію оновлено!</v-alert\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\tid=\"submitForm\"\r\n\t\t\t\t\t\t\t\t:disabled=\"!formIsValid\"\r\n\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\tclass=\"mr-4\"\r\n\t\t\t\t\t\t\t\t@click=\"saveInfo\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tЗберегти\r\n\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</v-form>\r\n\t\t\t\t</template>\r\n\t\t\t</v-flex>\r\n\t\t</v-layout>\r\n\t</v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n\tname: 'Profile',\r\n\tdata: () => ({\r\n\t\tsignedup: false,\r\n\t\tavatarUploaded: false,\r\n\t\tupdated: false,\r\n\t\tformIsValid: false,\r\n\t\tvalid: true,\r\n\t\tprofile:{'name':'', 'email':'', 'phone':'', 'avatar':''},\r\n\t\trules: [(v) => !!v || 'Обов`язкове поле'],\r\n\t\temailRules: [(v) => /.+@.+/.test(v) || 'Невірний e-mail'],\r\n\t\tbonus:0\r\n  }),\r\n  computed: {\r\n    ...mapState(['user']),\r\n  },\r\n\tmounted() {\r\n\t\tif (typeof this.$route.params.signedup != 'undefined') {\r\n\t\t\tthis.signedup = this.$route.params.signedup;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tvalidateForm() {\r\n\t\t\tif (this.$refs.form.validate()) {\r\n\t\t\t\tthis.formIsValid = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.formIsValid = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tuploadAvatar(file) {\r\n\t\t\tlet store = this.$store;\r\n\t\t\tlet firebase = this.$firebase;\r\n\t\t\tlet ref = this;\r\n\t\t\tfirebase\r\n\t\t\t\t.storage()\r\n\t\t\t\t.ref()\r\n\t\t\t\t.child('avatars/' + this.user.uid)\r\n\t\t\t\t.put(file)\r\n\t\t\t\t.then(function (snapshot) {\r\n\t\t\t\t\tconsole.log('Uploaded a blob or file!' + snapshot);\r\n\t\t\t\t\t//get url\r\n\t\t\t\t\tsnapshot.ref.getDownloadURL().then(function (url) {\r\n\t\t\t\t\t\tstore.state.db\r\n\t\t\t\t\t\t\t.collection('users')\r\n\t\t\t\t\t\t\t.doc(firebase.auth().currentUser.uid)\r\n\t\t\t\t\t\t\t.update({ avatar: url });\r\n\t\t\t\t\t\tvar reader = new FileReader();\r\n\t\t\t\t\t\treader.onload = function (e) {\r\n\t\t\t\t\t\t\tdocument.getElementById('profileAvatar').src = e.target.result;\r\n\t\t\t\t\t\t\tref.avatarUploaded = true;\r\n\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\tref.avatarUploaded = false;\r\n\t\t\t\t\t\t\t}, 3000);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\tsaveInfo() {\r\n\t\t\tlet ref = this;\r\n\t\t\tif (ref.formIsValid) {\r\n\t\t\t\tref.$store.state.db\r\n\t\t\t\t\t.collection('users')\r\n\t\t\t\t\t.doc(ref.user.uid)\r\n\t\t\t\t\t.update({\r\n\t\t\t\t\t\tname: document.getElementById('userName').value,\r\n\t\t\t\t\t\temail: document.getElementById('userEmail').value,\r\n\t\t\t\t\t\tphone: document.getElementById('userPhone').value\r\n\t\t\t\t\t});\r\n\t\t\t\tref.updated = true;\r\n\t\t\t\tlet redirect = ref.$router;\r\n\t\t\t\t\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t//redirect to account\r\n\t\t\t\t\tredirect.push({ path: 'wallet', name: 'Wallet' });\r\n\t\t\t\t}, 3000);\r\n\t\t\t} else {\r\n\t\t\t\talert('Форма заповнена невірно!');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsignOut() {\r\n\t\t\tif (confirm('Ви дійсно хочете вийти з додатку?')) {\r\n\t\t\t\tthis.$firebase\r\n\t\t\t\t\t.auth()\r\n\t\t\t\t\t.signOut()\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\tname: 'Signup',\r\n\t\t\t\t\t\t\tparams: { logout: 1 },\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components"}]}