{"remainingRequest":"C:\\Apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Apps\\beeko2\\src\\components\\wallet.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Apps\\beeko2\\src\\components\\wallet.vue","mtime":1606854338381},{"path":"C:\\Apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Apps\\beeko2\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Apps\\beeko2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Apps\\beeko2\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240334000},{"path":"C:\\Apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CgpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAnV2FsbGV0JywKCWRhdGE6ICgpID0+ICh7CgkJZGlhbG9nOiBmYWxzZSwKCQlxckdlbjogMSwKCQlib251czogMCwKCQlnZW5lcmF0ZWRUb2tlbnM6IGZhbHNlLAoJCXRyYW5zZmVyVG9rZW5zOiAnJywKCQlzbmFja2JhcjogZmFsc2UsCgkJcmVjeWNsZUl0ZW1zOiAnJywKCQl0cmFuc2ZlclBob25lOiAnMDUwMDU1MjYxOCcsCgkJc2VuZENhbGM6IGZhbHNlLAoJfSksCgljb21wdXRlZDogewoJCS4uLm1hcFN0YXRlKHsKCQkJdXNlcjogKHN0YXRlKSA9PiBzdGF0ZS51c2VyLAoJCQkkZGI6IChzdGF0ZSkgPT4gc3RhdGUuZGIsCgkJfSksCgl9LAoJd2F0Y2g6IHsKCQlkaWFsb2codmFsKSB7CgkJCWlmICghdmFsKSB7CgkJCQl0aGlzLmdlbmVyYXRlZFRva2VucyA9IHZhbDsKCQkJfQoJCX0sCgl9LAoJbW91bnRlZCgpIHsKCQkvL2NoZWNrIGZvciBtZXNzYWdlCgkJaWYgKHR5cGVvZiB0aGlzLiRyb3V0ZS5wYXJhbXMudHJhbnNmZXJyZWQgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJdGhpcy5zbmFja2JhciA9IHRydWU7CgkJfQoJfSwKCW1ldGhvZHM6IHsKCQljYWxjVG9rZW5zKHJlY3ljbGVJdGVtcykgewoJCQlpZiAocmVjeWNsZUl0ZW1zKSB7CgkJCQl0aGlzLnJlY3ljbGVJdGVtcyA9IE51bWJlci5wYXJzZUludChyZWN5Y2xlSXRlbXMpOwoJCQkJdGhpcy50cmFuc2ZlclRva2VucyA9IHRoaXMucmVjeWNsZUl0ZW1zICogdGhpcy4kcmF0ZTsKCQkJCXRoaXMuYm9udXMgPSB0aGlzLnJlY3ljbGVJdGVtcyAqIHRoaXMuJGJvbnVzUmF0ZTsKCQkJfQoJCX0sCgkJcXJHZW5lcmF0ZSh0cmFuc2ZlclRva2VucykgewoJCQlpZiAodHJhbnNmZXJUb2tlbnMgJiYgdHJhbnNmZXJUb2tlbnMgPD0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci50b2tlbnMpIHsKCQkJCXRoaXMuZ2VuZXJhdGVkVG9rZW5zID0gdHJ1ZTsKCQkJCWxldCBxciA9IHRoaXMuJHFyY29kZSgwLCAnSCcpOwoJCQkJbGV0IHRyYW5zZmVyID0geyBmcm9taWQ6IDEsIHRva2VuczogdHJhbnNmZXJUb2tlbnMsIHRpbWU6IERhdGUubm93KCkgfTsKCQkJCXRyYW5zZmVyID0gSlNPTi5zdHJpbmdpZnkodHJhbnNmZXIpOwoJCQkJcXIuYWRkRGF0YSh0cmFuc2Zlcik7CgkJCQlxci5tYWtlKCk7CgkJCQl0aGlzLiRyZWZzLnFySG9sZGVyLmlubmVySFRNTCA9IHFyLmNyZWF0ZUltZ1RhZyg0KTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMudHJhbnNmZXJUb2tlbnMgPSAwOwoJCQkJYWxlcnQoJ9Cd0LXQtNC+0YHRgtCw0YLQvdGM0L4g0LfQtdC70LXQvdC40YUg0L3QsCDRgNCw0YXRg9C90LrRgycpOwoJCQl9CgkJfSwKCgkJYXN5bmMgc2VuZFRva2Vucyh0cmFuc2ZlclRva2VucywgdHJhbnNmZXJQaG9uZSkgewoJCQlsZXQgZGIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kYjsKCQkJbGV0IHNlbmRlclVzZXJJZCA9IHRoaXMuJGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51aWQ7CgkJCWxldCB0cmFuc2ZlclVzZXJJZCA9IGZhbHNlOwoKCQkJdHJhbnNmZXJUb2tlbnMgPSBOdW1iZXIucGFyc2VJbnQodHJhbnNmZXJUb2tlbnMpOwoJCQlpZiAodHJhbnNmZXJUb2tlbnMgJiYgdHJhbnNmZXJUb2tlbnMgPD0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci50b2tlbnMpIHsKCQkJCWlmICh0cmFuc2ZlclBob25lKSB7CgkJCQkJdGhpcy5zZW5kQ2FsYyA9IHRydWU7CgkJCQkJdHJ5IHsKCQkJCQkJLy8g0YHQtdC50YfQsNGBINC80L7QttC10YIg0L/QvtC70YPRh9C40YLRjNGB0Y8g0L3QtdGB0LrQvtC70YzQutC+INC/0L7Qu9GM0YnQvtCy0LDRgtC10LvQtdC5INGBINC+0LTQvdC40Lwg0L3QvtC80LXRgNC+0LwsINGB0YLQvtC40YIg0LTQvtCx0LDQstC40YLRjCDQvtCz0YDQsNC90LjRh9C10L3QuNC1INC4INC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDRgtC+0LvRjNC60L4g0L/QtdGA0LLQvtCz0L4g0L3QsNC50LTQtdC90L3QvtCz0L4gKNC90LAg0LLRgdGP0LrQuNC5INGB0LvRg9GH0LDQuSkg0LvQuNCx0L4g0LTQtdC70LDRgtGMINC/0L7QtNC00LXRgNC20LrRgyDRgdC40YLRg9Cw0YbQuCDRgSDQvdC10YHQutC+0LvRjNC60LjQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj9C80LgKCQkJCQkJY29uc3QgcXVlcnkgPSBhd2FpdCBkYgoJCQkJCQkJLmNvbGxlY3Rpb24oJ3VzZXJzJykKCQkJCQkJCS53aGVyZSgncGhvbmUnLCAnPT0nLCB0cmFuc2ZlclBob25lKQoJCQkJCQkJLmdldCgpOwoKCQkJCQkJYXdhaXQgUHJvbWlzZS5hbGwoCgkJCQkJCQlxdWVyeS5kb2NzLm1hcChhc3luYyAoZG9jKSA9PiB7CgkJCQkJCQkJdHJhbnNmZXJVc2VySWQgPSBkb2MuaWQ7CgkJCQkJCQkJcmV0dXJuIHRoaXMubWFrZVRyYW5zZmVyKAoJCQkJCQkJCQlzZW5kZXJVc2VySWQsCgkJCQkJCQkJCXRyYW5zZmVyVXNlcklkLAoJCQkJCQkJCQl0cmFuc2ZlclRva2VucwoJCQkJCQkJCSk7CgkJCQkJCQl9KQoJCQkJCQkpOwoJCQkJCX0gY2F0Y2ggKGVycm9yKSB7CgkJCQkJCWNvbnNvbGUuZXJyb3IoJ0Vycm9yOiAnLCBlcnJvcik7CgkJCQkJfSBmaW5hbGx5IHsKCQkJCQkJdGhpcy5zZW5kQ2FsYyA9IGZhbHNlOwoJCQkJCX0KCQkJCX0KCQkJfSBlbHNlIHsKCQkJCXRoaXMudHJhbnNmZXJUb2tlbnMgPSAwOwoJCQkJYWxlcnQoJ9Cd0LXQtNC+0YHRgtCw0YLQvdGM0L4g0LfQtdC70LXQvdC40YUg0L3QsCDRgNCw0YXRg9C90LrRgycpOwoJCQl9CgkJfSwKCgkJYXN5bmMgbWFrZVRyYW5zZmVyKHNlbmRlclVzZXJJZCwgdHJhbnNmZXJVc2VySWQsIHRyYW5zZmVyVG9rZW5zKSB7CgkJCS8vZ2V0IGEgdXNlciB0byB0cmFuc2ZlcgoJCQlsZXQgZGIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kYjsKCQkJbGV0IHRyYW5zZmVyQm9udXMgPSB0aGlzLmJvbnVzOwoJCQlsZXQgZ2V0U2VuZGVyVXNlckRvY1JlZiA9IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKHNlbmRlclVzZXJJZCk7CgkJCWxldCBnZXRSZWNlaXZlclVzZXJEb2NSZWYgPSBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyh0cmFuc2ZlclVzZXJJZCk7CgkJCWxldCBzYXZlUmVjeWNsZVRyYW5zYWN0aW9uID0gewoJCQkJYmluaWQ6IDEsCgkJCQlib251czogdGhpcy5ib251cywKCQkJCWJvbnVzUmF0ZTogdGhpcy4kYm9udXNSYXRlLAoJCQkJY291bnQ6IHRoaXMucmVjeWNsZUl0ZW1zLAoJCQkJcmF0ZTogdGhpcy4kcmF0ZSwKCQkJCS8vINGB0YLQvtC40YIg0LjQu9C4INC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDQsNGA0LPRg9C80LXQvdGCINC40LvQuCDRg9Cx0YDQsNGC0Ywg0LXQs9C+INC40Lcg0YTRg9C90LrRhtC40LgKCQkJCS8vIHRva2VuczogdGhpcy50cmFuc2ZlclRva2VucywKCQkJCXRva2VuczogdHJhbnNmZXJUb2tlbnMsCgkJCQl1aWQ6IHRoaXMudXNlci51aWQsCgkJCQl0aW1lOiBEYXRlLm5vdygpLAoJCQl9OwoKCQkJLy8gZGIuY29sbGVjdGlvbigidHJhbnNhY3Rpb25zIikuYWRkKHsnZnJvbWlkJzpzZW5kZXJVc2VySWQsJ3Rva2Vucyc6dHJhbnNmZXJUb2tlbnMsICd1aWQnOnRyYW5zZmVyVXNlcklkLCAndGltZSc6RGF0ZS4gbm93KCl9KQoJCQl0cnkgewoJCQkJY29uc3QgZG9jUmVmID0gYXdhaXQgZGIKCQkJCQkuY29sbGVjdGlvbigndHJhbnNhY3Rpb25zJykKCQkJCQkuYWRkKHNhdmVSZWN5Y2xlVHJhbnNhY3Rpb24pOwoKCQkJCWNvbnNvbGUubG9nKGRvY1JlZik7CgkJCQljb25zb2xlLmxvZygnVHJhbnNmZXIgd3JpdHRlbiB3aXRoIElEOiAnLCBkb2NSZWYuaWQpOwoKCQkJCS8vcnVuIHRyYW5zZmVyIFVTRVIgdHJhbnNhY3Rpb24KCQkJCS8vINGG0LXQu9GMINGC0YDQsNC90LfQsNC60YbQuNC5INCy0YvQv9C+0LvQvdC40YLRjCDQvdC10YHQutC+0LvRjNC60L4g0L7Qv9C10YDQsNGG0LjQuSDQsiDQtdC00LXQvdC40YbRgyDQstGA0LXQvNC10L3QuCwKCQkJCS8vINC40L3QsNGH0LUg0L/QvtC60LAg0L7QsdC90L7QstC70Y/QtdGC0YHRjyDQsNC60LrQsNGD0L3RgiDQvtGC0L/RgNCw0LLQuNGC0LXQu9GPLCDQtNGA0YPQs9C+0Lkg0LfQsNC/0YDQvtGBINC80L7QsyDQvtCx0L3QvtCy0LjRgtGMINCw0LrQutCw0YPQvdGCINC/0L7Qu9GD0YfQsNGC0LXQu9GPINC4INCz0LTQtS3RgtC+INGB0YPQvNC80LAg0L3QtSDRgdC+0LnQtNC10YLRgdGPCgkJCQljb25zdCB0cmFuc2FjdGlvbiA9IGRiCgkJCQkJLnJ1blRyYW5zYWN0aW9uKGFzeW5jICh0cmFuc2FjdGlvbikgPT4gewoJCQkJCQkvLyBUaGlzIGNvZGUgbWF5IGdldCByZS1ydW4gbXVsdGlwbGUgdGltZXMgaWYgdGhlcmUgYXJlIGNvbmZsaWN0cy4KCQkJCQkJY29uc3QgZ2V0UmVjZWl2ZXJVc2VyRG9jID0gYXdhaXQgdHJhbnNhY3Rpb24uZ2V0KAoJCQkJCQkJZ2V0UmVjZWl2ZXJVc2VyRG9jUmVmCgkJCQkJCSk7CgkJCQkJCWNvbnN0IGdldFNlbmRlclVzZXJEb2MgPSBhd2FpdCB0cmFuc2FjdGlvbi5nZXQoZ2V0U2VuZGVyVXNlckRvY1JlZik7CgkJCQkJCWlmICghZ2V0UmVjZWl2ZXJVc2VyRG9jLmV4aXN0cyB8fCAhZ2V0U2VuZGVyVXNlckRvYy5leGlzdHMpIHsKCQkJCQkJCXRocm93IG5ldyBFcnJvcigKCQkJCQkJCQlgJHsKCQkJCQkJCQkJIWdldFJlY2VpdmVyVXNlckRvYy5leGlzdHMgPyAnUmVjZWl2ZXInIDogJ1NlbmRlcicKCQkJCQkJCQl9IGRvY3VtZW50IGRvZXMgbm90IGV4aXN0IWAKCQkJCQkJCSk7CgkJCQkJCX0KCQkJCQkJY29uc3QgbmV3UmVjZWl2ZXJUb2tlbnMgPQoJCQkJCQkJZ2V0UmVjZWl2ZXJVc2VyRG9jLmRhdGEoKS50b2tlbnMgKyB0cmFuc2ZlclRva2VuczsKCQkJCQkJY29uc3QgbmV3UmVjZWl2ZXJCb251cyA9CgkJCQkJCQlnZXRSZWNlaXZlclVzZXJEb2MuZGF0YSgpLmJvbnVzICsgdHJhbnNmZXJCb251czsKCQkJCQkJY29uc3QgcmVjZWl2ZXJUciA9IHRyYW5zYWN0aW9uLnVwZGF0ZShnZXRSZWNlaXZlclVzZXJEb2NSZWYsIHsKCQkJCQkJCXRva2VuczogbmV3UmVjZWl2ZXJUb2tlbnMsCgkJCQkJCQlib251czogbmV3UmVjZWl2ZXJCb251cywKCQkJCQkJfSk7CgoJCQkJCQljb25zdCBuZXdTZW5kZXJUb2tlbnMgPQoJCQkJCQkJZ2V0U2VuZGVyVXNlckRvYy5kYXRhKCkudG9rZW5zIC0gdHJhbnNmZXJUb2tlbnM7CgkJCQkJCWNvbnN0IHNlbmRlclRyID0gdHJhbnNhY3Rpb24udXBkYXRlKGdldFNlbmRlclVzZXJEb2NSZWYsIHsKCQkJCQkJCXRva2VuczogbmV3U2VuZGVyVG9rZW5zLAoJCQkJCQl9KTsKCgkJCQkJCXJldHVybiBQcm9taXNlLmFsbChbc2VuZGVyVHIsIHJlY2VpdmVyVHJdKTsKCQkJCQl9KQoJCQkJCS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKCQkJCQkJY29uc29sZS5sb2coJ1RyYW5zYWN0aW9uIGZhaWxlZDogJywgZXJyb3IpOwoJCQkJCX0pOwoKCQkJCWNvbnNvbGUubG9nKCdUcmFuc2ZlciAmIGdldCB0cmFuc2FjdGlvbiBzdWNjZXNzZnVsbHkgY29tbWl0dGVkIScpOwoJCQkJdGhpcy5kaWFsb2cgPSBmYWxzZTsKCQkJCWFsZXJ0KCfQl9Cw0YDQsNGF0L7QstCw0L3QviDQt9C10LvQtdC90LjRhTogJyArIHRyYW5zZmVyVG9rZW5zKTsKCQkJCS8vcnVuIHRyYW5zYWN0aW9uIGZvciB0cmFuc2ZlciB1c2VyCgkJCQkvL3JvdXRlci5wdXNoKHtwYXRoOid3YWxsZXQnLCBuYW1lOidXYWxsZXQnLCBwYXJhbXM6eyd0cmFuc2ZlcnJlZCc6ZGVjb2RlZFN0cmluZy50b2tlbnN9fSk7CgkJCQlyZXR1cm4gdHJhbnNhY3Rpb247CgkJCX0gY2F0Y2ggKGVycm9yKSB7CgkJCQkvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCgkJCQljb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgZG9jdW1lbnQ6ICcsIGVycm9yKTsKCQkJfQoJCX0sCgl9LAp9Owo="},{"version":3,"sources":["wallet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0NA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"wallet.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<v-container style=\"height: 500px\">\n\t\t<v-layout text-center wrap>\n\t\t\t<v-flex>\n\t\t\t\t<v-snackbar\n\t\t\t\t\tclass=\"text-center\"\n\t\t\t\t\ttop\n\t\t\t\t\tlight\n\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\tv-model=\"snackbar\"\n\t\t\t\t>\n\t\t\t\t\t<v-alert color=\"green lighten-2\" height=\"40\" style=\"padding-top: 7px\"\n\t\t\t\t\t\t><v-icon>mdi-coins</v-icon>Зараховано зелених:\n\t\t\t\t\t\t{{ $route.params.transferred }}</v-alert\n\t\t\t\t\t>\n\t\t\t\t</v-snackbar>\n\n\t\t\t\t<h1 class=\"headline\" style=\"color: orange\">Мій гаманець</h1>\n\t\t\t\t<div>\n\t\t\t\t\t<v-chip\n\t\t\t\t\t\tv-if=\"$store.state.user.tokens\"\n\t\t\t\t\t\ttext-color=\"#07C01A\"\n\t\t\t\t\t\tcolor=\"transparent\"\n\t\t\t\t\t\tstyle=\"margin-top: 10px\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<v-icon color=\"#07C01A\" large\n\t\t\t\t\t\t\t>mdi-currency-usd-circle-outline</v-icon\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<span class=\"display-1\">{{ user.tokens }}</span>\n\t\t\t\t\t</v-chip>\n\t\t\t\t\t<v-chip\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\ttext-color=\"#07C01A\"\n\t\t\t\t\t\tcolor=\"transparent\"\n\t\t\t\t\t\tstyle=\"margin-top: 10px\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<v-icon color=\"#07C01A\" large\n\t\t\t\t\t\t\t>mdi-currency-usd-circle-outline</v-icon\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<span class=\"display-1\">0</span>\n\t\t\t\t\t</v-chip>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t\t<div id=\"placeHolder\"></div>\n\t\t\t\t<v-btn dark color=\"green\" @click=\"dialog = true\"\n\t\t\t\t\t>Нарахувати зелені\n\t\t\t\t\t<v-icon>mdi-currency-usd-circle-outline</v-icon></v-btn\n\t\t\t\t>\n\t\t\t\t<v-dialog v-model=\"dialog\" color=\"#fff\">\n\t\t\t\t\t<v-card>\n\t\t\t\t\t\t<v-card-title v-if=\"!generatedTokens\"\n\t\t\t\t\t\t\t>Введіть суму токенів</v-card-title\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<v-card-text v-if=\"!generatedTokens\">\n\t\t\t\t\t\t\t<!--\n              <v-text-field\n                id=\"transferTokens\"\n                label=\"Введіть суму\"\n                solo\n                outlined\n                height=\"20\"\n                v-model=\"transferTokens\"\n              ></v-text-field>\n              -->\n\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\tid=\"recycleItems\"\n\t\t\t\t\t\t\t\tlabel=\"Введіть кількість пляшок\"\n\t\t\t\t\t\t\t\tsolo\n\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\theight=\"20\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t@change=\"calcTokens(recycleItems)\"\n\t\t\t\t\t\t\t\tv-model=\"recycleItems\"\n\t\t\t\t\t\t\t></v-text-field>\n\n\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\tid=\"transferTokens\"\n\t\t\t\t\t\t\t\tlabel=\"Кількість зелених\"\n\t\t\t\t\t\t\t\tsolo\n\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\theight=\"20\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tv-model=\"transferTokens\"\n\t\t\t\t\t\t\t></v-text-field>\n\n\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\tid=\"transferPhone\"\n\t\t\t\t\t\t\t\tlabel=\"Номер телефона\"\n\t\t\t\t\t\t\t\tsolo\n\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\theight=\"20\"\n\t\t\t\t\t\t\t\tv-model=\"transferPhone\"\n\t\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\t\t:disabled=\"(!transferTokens && !transferPhone) || sendCalc\"\n\t\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\t\t@click=\"sendTokens(transferTokens, transferPhone)\"\n\t\t\t\t\t\t\t\t>Надіслати бонуси</v-btn\n\t\t\t\t\t\t\t><br />\n\t\t\t\t\t\t</v-card-text>\n\n\t\t\t\t\t\t<div id=\"qrHolderOuter\" v-show=\"generatedTokens\">\n\t\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t\t<v-alert\n\t\t\t\t\t\t\t\t\tcolor=\"green lighten-2\"\n\t\t\t\t\t\t\t\t\theight=\"40\"\n\t\t\t\t\t\t\t\t\tstyle=\"padding-top: 7px\"\n\t\t\t\t\t\t\t\t\t>Покажіть QR-код отримувачу</v-alert\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div ref=\"qrHolder\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</v-card>\n\t\t\t\t</v-dialog>\n\t\t\t\t<br /><br />\n\t\t\t\t<v-card>\n\t\t\t\t\t<v-tabs background-color=\"white\" centered color=\"#07C01A\">\n\t\t\t\t\t\t<v-tab\n\t\t\t\t\t\t\t><v-icon>mdi-currency-usd-circle-outline</v-icon>Пропозиції</v-tab\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<v-tab><v-icon>mdi-star-face</v-icon>Подарунки</v-tab>\n\t\t\t\t\t\t<v-tab-item>\n\t\t\t\t\t\t\t<v-banner one-line>\n\t\t\t\t\t\t\t\t<v-avatar slot=\"icon\" size=\"40\">\n\t\t\t\t\t\t\t\t\t<v-icon icon=\"mdi-coffee\" color=\"#8b6138\">\n\t\t\t\t\t\t\t\t\t\tmdi-coffee\n\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t</v-avatar>\n\t\t\t\t\t\t\t\t<div class=\"headline text-left\">Кава</div>\n\t\t\t\t\t\t\t\t<p>100% Арабіка,250 мл</p>\n\t\t\t\t\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t\t\t\t\t<v-chip text-color=\"orange\" color=\"transparent\">\n\t\t\t\t\t\t\t\t\t\t<v-icon color=\"#07C01A\"\n\t\t\t\t\t\t\t\t\t\t\t>mdi-currency-usd-circle-outline</v-icon\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t100\n\t\t\t\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t\t\t\t<v-btn text color=\"green accent-4\">незабаром</v-btn>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</v-banner>\n\n\t\t\t\t\t\t\t<v-banner one-line>\n\t\t\t\t\t\t\t\t<v-avatar slot=\"icon\" color=\"ref\" size=\"40\">\n\t\t\t\t\t\t\t\t\t<v-icon icon=\"mdi-ticket\" color=\"green\" size=\"40\">\n\t\t\t\t\t\t\t\t\t\tmdi-cellphone\n\t\t\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t\t\t</v-avatar>\n\t\t\t\t\t\t\t\t<div class=\"headline text-left\">Поповнення</div>\n\t\t\t\t\t\t\t\t<p>Екотариф. 45 грн</p>\n\t\t\t\t\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t\t\t\t\t<v-chip text-color=\"orange\" color=\"transparent\">\n\t\t\t\t\t\t\t\t\t\t<v-icon color=\"#07C01A\"\n\t\t\t\t\t\t\t\t\t\t\t>mdi-currency-usd-circle-outline</v-icon\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t50\n\t\t\t\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t\t\t\t<v-btn text color=\"green accent-4\">незабаром</v-btn>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</v-banner>\n\t\t\t\t\t\t</v-tab-item>\n\t\t\t\t\t\t<v-tab-item>\n\t\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t\t<v-alert\n\t\t\t\t\t\t\t\t\tborder=\"bottom\"\n\t\t\t\t\t\t\t\t\tcolored-border\n\t\t\t\t\t\t\t\t\ttype=\"warning\"\n\t\t\t\t\t\t\t\t\televation=\"2\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tКількість бонусних подарунків обмежена</v-alert\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<v-banner one-line>\n\t\t\t\t\t\t\t\t<v-avatar slot=\"icon\" color=\"green\" size=\"40\">\n\t\t\t\t\t\t\t\t\t<v-icon icon=\"mdi-ticket\" color=\"white\"> mdi-ticket </v-icon>\n\t\t\t\t\t\t\t\t</v-avatar>\n\t\t\t\t\t\t\t\t<div class=\"headline text-left\">Квиток на концерт</div>\n\t\t\t\t\t\t\t\t<p>Альона, Альона</p>\n\t\t\t\t\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t\t\t\t\t<v-chip text-color=\"orange\" color=\"transparent\">\n\t\t\t\t\t\t\t\t\t\t<v-icon color=\"orange\">mdi-star-face</v-icon>\n\t\t\t\t\t\t\t\t\t\t200\n\t\t\t\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t\t\t\t<v-btn text color=\"green accent-4\">незабаром</v-btn>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</v-banner>\n\t\t\t\t\t\t</v-tab-item>\n\t\t\t\t\t</v-tabs>\n\t\t\t\t</v-card>\n\n\t\t\t\t<!--\n         <v-card\n            color=\"#698ea1\"\n            dark\n          >\n            <v-card-title class=\"headline\">Мої транзакції</v-card-title>\n\n            <v-card-subtitle>Усі відсортовані пляшки</v-card-subtitle>\n            <v-list>\n            <v-subheader>01-21.11.2019</v-subheader>\n              <v-list-item-group color=\"transparent\">\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n              </v-list-item-group>\n            </v-list>\n            <v-card-actions>\n              <v-btn text>Переглянути</v-btn>\n            </v-card-actions>\n          </v-card>-->\n\t\t\t</v-flex>\n\t\t</v-layout>\n\t</v-container>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\n\nexport default {\n\tname: 'Wallet',\n\tdata: () => ({\n\t\tdialog: false,\n\t\tqrGen: 1,\n\t\tbonus: 0,\n\t\tgeneratedTokens: false,\n\t\ttransferTokens: '',\n\t\tsnackbar: false,\n\t\trecycleItems: '',\n\t\ttransferPhone: '0500552618',\n\t\tsendCalc: false,\n\t}),\n\tcomputed: {\n\t\t...mapState({\n\t\t\tuser: (state) => state.user,\n\t\t\t$db: (state) => state.db,\n\t\t}),\n\t},\n\twatch: {\n\t\tdialog(val) {\n\t\t\tif (!val) {\n\t\t\t\tthis.generatedTokens = val;\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\t//check for message\n\t\tif (typeof this.$route.params.transferred != 'undefined') {\n\t\t\tthis.snackbar = true;\n\t\t}\n\t},\n\tmethods: {\n\t\tcalcTokens(recycleItems) {\n\t\t\tif (recycleItems) {\n\t\t\t\tthis.recycleItems = Number.parseInt(recycleItems);\n\t\t\t\tthis.transferTokens = this.recycleItems * this.$rate;\n\t\t\t\tthis.bonus = this.recycleItems * this.$bonusRate;\n\t\t\t}\n\t\t},\n\t\tqrGenerate(transferTokens) {\n\t\t\tif (transferTokens && transferTokens <= this.$store.state.user.tokens) {\n\t\t\t\tthis.generatedTokens = true;\n\t\t\t\tlet qr = this.$qrcode(0, 'H');\n\t\t\t\tlet transfer = { fromid: 1, tokens: transferTokens, time: Date.now() };\n\t\t\t\ttransfer = JSON.stringify(transfer);\n\t\t\t\tqr.addData(transfer);\n\t\t\t\tqr.make();\n\t\t\t\tthis.$refs.qrHolder.innerHTML = qr.createImgTag(4);\n\t\t\t} else {\n\t\t\t\tthis.transferTokens = 0;\n\t\t\t\talert('Недостатньо зелених на рахунку');\n\t\t\t}\n\t\t},\n\n\t\tasync sendTokens(transferTokens, transferPhone) {\n\t\t\tlet db = this.$store.state.db;\n\t\t\tlet senderUserId = this.$firebase.auth().currentUser.uid;\n\t\t\tlet transferUserId = false;\n\n\t\t\ttransferTokens = Number.parseInt(transferTokens);\n\t\t\tif (transferTokens && transferTokens <= this.$store.state.user.tokens) {\n\t\t\t\tif (transferPhone) {\n\t\t\t\t\tthis.sendCalc = true;\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// сейчас может получиться несколько польщователей с одним номером, стоит добавить ограничение и использовать только первого найденного (на всякий случай) либо делать поддержку ситуаци с несколькими пользователями\n\t\t\t\t\t\tconst query = await db\n\t\t\t\t\t\t\t.collection('users')\n\t\t\t\t\t\t\t.where('phone', '==', transferPhone)\n\t\t\t\t\t\t\t.get();\n\n\t\t\t\t\t\tawait Promise.all(\n\t\t\t\t\t\t\tquery.docs.map(async (doc) => {\n\t\t\t\t\t\t\t\ttransferUserId = doc.id;\n\t\t\t\t\t\t\t\treturn this.makeTransfer(\n\t\t\t\t\t\t\t\t\tsenderUserId,\n\t\t\t\t\t\t\t\t\ttransferUserId,\n\t\t\t\t\t\t\t\t\ttransferTokens\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error('Error: ', error);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tthis.sendCalc = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.transferTokens = 0;\n\t\t\t\talert('Недостатньо зелених на рахунку');\n\t\t\t}\n\t\t},\n\n\t\tasync makeTransfer(senderUserId, transferUserId, transferTokens) {\n\t\t\t//get a user to transfer\n\t\t\tlet db = this.$store.state.db;\n\t\t\tlet transferBonus = this.bonus;\n\t\t\tlet getSenderUserDocRef = db.collection('users').doc(senderUserId);\n\t\t\tlet getReceiverUserDocRef = db.collection('users').doc(transferUserId);\n\t\t\tlet saveRecycleTransaction = {\n\t\t\t\tbinid: 1,\n\t\t\t\tbonus: this.bonus,\n\t\t\t\tbonusRate: this.$bonusRate,\n\t\t\t\tcount: this.recycleItems,\n\t\t\t\trate: this.$rate,\n\t\t\t\t// стоит или использовать аргумент или убрать его из функции\n\t\t\t\t// tokens: this.transferTokens,\n\t\t\t\ttokens: transferTokens,\n\t\t\t\tuid: this.user.uid,\n\t\t\t\ttime: Date.now(),\n\t\t\t};\n\n\t\t\t// db.collection(\"transactions\").add({'fromid':senderUserId,'tokens':transferTokens, 'uid':transferUserId, 'time':Date. now()})\n\t\t\ttry {\n\t\t\t\tconst docRef = await db\n\t\t\t\t\t.collection('transactions')\n\t\t\t\t\t.add(saveRecycleTransaction);\n\n\t\t\t\tconsole.log(docRef);\n\t\t\t\tconsole.log('Transfer written with ID: ', docRef.id);\n\n\t\t\t\t//run transfer USER transaction\n\t\t\t\t// цель транзакций выполнить несколько операций в еденицу времени,\n\t\t\t\t// иначе пока обновляется аккаунт отправителя, другой запрос мог обновить аккаунт получателя и где-то сумма не сойдется\n\t\t\t\tconst transaction = db\n\t\t\t\t\t.runTransaction(async (transaction) => {\n\t\t\t\t\t\t// This code may get re-run multiple times if there are conflicts.\n\t\t\t\t\t\tconst getReceiverUserDoc = await transaction.get(\n\t\t\t\t\t\t\tgetReceiverUserDocRef\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst getSenderUserDoc = await transaction.get(getSenderUserDocRef);\n\t\t\t\t\t\tif (!getReceiverUserDoc.exists || !getSenderUserDoc.exists) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t`${\n\t\t\t\t\t\t\t\t\t!getReceiverUserDoc.exists ? 'Receiver' : 'Sender'\n\t\t\t\t\t\t\t\t} document does not exist!`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst newReceiverTokens =\n\t\t\t\t\t\t\tgetReceiverUserDoc.data().tokens + transferTokens;\n\t\t\t\t\t\tconst newReceiverBonus =\n\t\t\t\t\t\t\tgetReceiverUserDoc.data().bonus + transferBonus;\n\t\t\t\t\t\tconst receiverTr = transaction.update(getReceiverUserDocRef, {\n\t\t\t\t\t\t\ttokens: newReceiverTokens,\n\t\t\t\t\t\t\tbonus: newReceiverBonus,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst newSenderTokens =\n\t\t\t\t\t\t\tgetSenderUserDoc.data().tokens - transferTokens;\n\t\t\t\t\t\tconst senderTr = transaction.update(getSenderUserDocRef, {\n\t\t\t\t\t\t\ttokens: newSenderTokens,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn Promise.all([senderTr, receiverTr]);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\tconsole.log('Transaction failed: ', error);\n\t\t\t\t\t});\n\n\t\t\t\tconsole.log('Transfer & get transaction successfully committed!');\n\t\t\t\tthis.dialog = false;\n\t\t\t\talert('Зараховано зелених: ' + transferTokens);\n\t\t\t\t//run transaction for transfer user\n\t\t\t\t//router.push({path:'wallet', name:'Wallet', params:{'transferred':decodedString.tokens}});\n\t\t\t\treturn transaction;\n\t\t\t} catch (error) {\n\t\t\t\t//eslint-disable-next-line no-console\n\t\t\t\tconsole.error('Error adding document: ', error);\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n"]}]}