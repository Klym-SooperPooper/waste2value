{"remainingRequest":"D:\\beeko\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\beeko\\src\\components\\wallet.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\beeko\\src\\components\\wallet.vue","mtime":1597581512340},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240333000},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgbmFtZTogJ1dhbGxldCcsCiAgIGRhdGE6ICgpID0+ICh7CiAgICAgZGlhbG9nOiBmYWxzZSwKICAgICBxckdlbjoxLAogICAgIGJvbnVzOjAsCiAgICAgZ2VuZXJhdGVkVG9rZW5zOmZhbHNlLAogICAgIHRyYW5zZmVyVG9rZW5zOicnLAogICAgIHNuYWNrYmFyOmZhbHNlLAogICAgIG15V2FsbGV0OjAsCiAgICAgcmVjeWNsZUl0ZW1zOicnLAogICAgIHRyYW5zZmVyUGhvbmU6JzA1MDA1NTI2MTgnLAogICAgIHNlbmRDYWxjOmZhbHNlCiAgIH0pLAogICBjcmVhdGVkKCl7CiAgICBsZXQgcmVmID0gdGhpczsKICAgIGxldCBkYiA9IHRoaXMuJHN0b3JlLnN0YXRlLmRiOwogICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2ModGhpcy4kZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVpZCkKICAgIC5vblNuYXBzaG90KGZ1bmN0aW9uKGRvYykgewogICAgICAgIHJlZi5teVdhbGxldCA9IGRvYy5kYXRhKCkudG9rZW5zOwogICAgICAgIC8vY29uc29sZS5sb2coIkN1cnJlbnQgZGF0YTogIiwgZG9jLmRhdGEoKSk7CiAgICB9KTsKCiAgICAvL2NoZWNrIGZvciBtZXNzYWdlIAogICAgaWYodHlwZW9mKHRoaXMuJHJvdXRlLnBhcmFtcy50cmFuc2ZlcnJlZCkgIT0gJ3VuZGVmaW5lZCcpewogICAgICB0aGlzLnNuYWNrYmFyID0gdHJ1ZTsKICAgIH0gICAgIAogICB9LAogICB3YXRjaDogewogICAgZGlhbG9nKHZhbCkgewogICAgICAgIGlmKCF2YWwpewogICAgICAgICAgdGhpcy5nZW5lcmF0ZWRUb2tlbnMgPSB2YWw7ICAKICAgICAgICAgIHRoaXMudHJhbnNmZXJUb2tlbnMgPSAnJzsKICAgICAgICB9CiAgICAgIH0sCiAgfSwKICAgbWV0aG9kczogewogICAgIGNhbGNUb2tlbnMocmVjeWNsZUl0ZW1zKXsKICAgICAgIGlmKHJlY3ljbGVJdGVtcyl7CiAgICAgICAgIHRoaXMucmVjeWNsZUl0ZW1zID0gTnVtYmVyLnBhcnNlSW50KHJlY3ljbGVJdGVtcykKICAgICAgICAgdGhpcy50cmFuc2ZlclRva2VucyA9IHRoaXMucmVjeWNsZUl0ZW1zKnRoaXMuJHJhdGU7CiAgICAgICAgIHRoaXMuYm9udXMgID0gdGhpcy5yZWN5Y2xlSXRlbXMqdGhpcy4kYm9udXNSYXRlOwogICAgICB9CiAgICAgfSwKICAgICBxckdlbmVyYXRlKHRyYW5zZmVyVG9rZW5zKXsKICAgICAgICBpZih0cmFuc2ZlclRva2VucyAmJiB0cmFuc2ZlclRva2VucyA8PSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnRva2Vucyl7CiAgICAgICAgICB0aGlzLmdlbmVyYXRlZFRva2VucyA9IHRydWU7CiAgICAgICAgICBsZXQgcXIgPSB0aGlzLiRxcmNvZGUoMCwgJ0gnKTsgCiAgICAgICAgICBsZXQgdHJhbnNmZXIgPSB7ZnJvbWlkOjEsIHRva2Vuczp0cmFuc2ZlclRva2VucywgIHRpbWU6RGF0ZS4gbm93KCl9OwogICAgICAgICAgdHJhbnNmZXIgPSBKU09OLnN0cmluZ2lmeSh0cmFuc2Zlcik7CiAgICAgICAgICBxci5hZGREYXRhKHRyYW5zZmVyKTsKICAgICAgICAgIHFyLm1ha2UoKTsKICAgICAgICAgIHNldFRpbWVvdXQoCiAgICAgICAgICAgIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3FySG9sZGVyJykuaW5uZXJIVE1MID0gcXIuY3JlYXRlSW1nVGFnKDQpOwogICAgICAgICAgICB9LCA1MDAKICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudHJhbnNmZXJUb2tlbnM9MDsKICAgICAgICAgIGFsZXJ0KCfQndC10LTQvtGB0YLQsNGC0L3RjNC+INC30LXQu9C10L3QuNGFINC90LAg0YDQsNGF0YPQvdC60YMnKTsKICAgICAgICB9IAogICAgIH0sCiAgICAgc2VuZFRva2Vucyh0cmFuc2ZlclRva2VucywgdHJhbnNmZXJQaG9uZSl7CiAgICAgICB0aGlzLnNlbmRDYWxjID0gdHJ1ZTsKICAgICAgIGxldCBkYiA9IHRoaXMuJHN0b3JlLnN0YXRlLmRiOwogICAgICAgbGV0IHNlbmRlclVzZXJJZCA9IHRoaXMuJGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51aWQ7CiAgICAgICBsZXQgdHJhbnNmZXJVc2VySWQgPSBmYWxzZTsKICAgICAgIGxldCByZWYgPSB0aGlzOwogICAgICAKICAgICAgIHRyYW5zZmVyVG9rZW5zID0gTnVtYmVyLnBhcnNlSW50KHRyYW5zZmVyVG9rZW5zKTsKICAgICAgIGlmKHRyYW5zZmVyVG9rZW5zICYmIHRyYW5zZmVyVG9rZW5zIDw9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudG9rZW5zKXsKICAgICAgICAgIGlmKHRyYW5zZmVyUGhvbmUpewogICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLndoZXJlKCdwaG9uZScsJz09JywgdHJhbnNmZXJQaG9uZSkuZ2V0KCkudGhlbigKICAgICAgICAgICAgICBmdW5jdGlvbihxdWVyeVNuYXBzaG90KSB7CiAgICAgICAgICAgICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goZnVuY3Rpb24oZG9jKSB7CiAgICAgICAgICAgICAgICAgIHRyYW5zZmVyVXNlcklkID0gZG9jLmlkOwogICAgICAgICAgICAgICAgICByZWYubWFrZVRyYW5zZmVyKHNlbmRlclVzZXJJZCx0cmFuc2ZlclVzZXJJZCwgdHJhbnNmZXJUb2tlbnMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yOiAiLCBlcnJvcik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudHJhbnNmZXJUb2tlbnM9MDsKICAgICAgICAgIGFsZXJ0KCfQndC10LTQvtGB0YLQsNGC0L3RjNC+INC30LXQu9C10L3QuNGFINC90LAg0YDQsNGF0YPQvdC60YMnKTsKICAgICAgICB9IAogICAgIH0sCgogICAgIG1ha2VUcmFuc2ZlcihzZW5kZXJVc2VySWQsIHRyYW5zZmVyVXNlcklkLCB0cmFuc2ZlclRva2Vucyl7CiAgICAgICAvL2dldCBhIHVzZXIgdG8gdHJhbnNmZXIKICAgICAgbGV0IGRiID0gdGhpcy4kc3RvcmUuc3RhdGUuZGI7IAogICAgICBsZXQgcmVmID0gdGhpczsKICAgICAgbGV0IHRyYW5zZmVyQm9udXMgPSB0aGlzLmJvbnVzOwogICAgICBsZXQgZ2V0VHJhbnNmZXJVc2VyRG9jUmVmID0gZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModHJhbnNmZXJVc2VySWQpOwogICAgICBsZXQgZ2V0U2VuZGVyVXNlckRvY1JlZiA9IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKHNlbmRlclVzZXJJZCk7CiAgICAgIGxldCBzYXZlUmVjeWNsZVRyYW5zYWN0aW9uID0geydiaW5pZCc6MSwgJ2JvbnVzJzp0aGlzLmJvbnVzLCAnYm9udXNSYXRlJzp0aGlzLiRib251c1JhdGUsICdjb3VudCc6dGhpcy5yZWN5Y2xlSXRlbXMsICdyYXRlJzp0aGlzLiRyYXRlLCAndG9rZW5zJzp0aGlzLnRyYW5zZmVyVG9rZW5zLCAndWlkJzp0aGlzLiRmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkLCAndGltZSc6RGF0ZS5ub3coKX07ICAgICAgICAgICAgICAgIAogICAgICAKICAgICAgLy8gZGIuY29sbGVjdGlvbigidHJhbnNhY3Rpb25zIikuYWRkKHsnZnJvbWlkJzpzZW5kZXJVc2VySWQsJ3Rva2Vucyc6dHJhbnNmZXJUb2tlbnMsICd1aWQnOnRyYW5zZmVyVXNlcklkLCAndGltZSc6RGF0ZS4gbm93KCl9KQogICAgICBkYi5jb2xsZWN0aW9uKCJ0cmFuc2FjdGlvbnMiKS5hZGQoc2F2ZVJlY3ljbGVUcmFuc2FjdGlvbikKICAgICAgLnRoZW4oZnVuY3Rpb24oZG9jUmVmKSB7CiAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgY29uc29sZS5sb2coZG9jUmVmKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJUcmFuc2ZlciB3cml0dGVuIHdpdGggSUQ6ICIsIGRvY1JlZi5pZCk7CiAgICAgICAgICAKICAgICAgICAgIC8vcnVuIHRyYW5zZmVyIFVTRVIgdHJhbnNhY3Rpb24KICAgICAgICAgIHJldHVybiBkYi5ydW5UcmFuc2FjdGlvbihmdW5jdGlvbih0cmFuc2FjdGlvbikgewogICAgICAgICAgICAgIC8vIFRoaXMgY29kZSBtYXkgZ2V0IHJlLXJ1biBtdWx0aXBsZSB0aW1lcyBpZiB0aGVyZSBhcmUgY29uZmxpY3RzLgogICAgICAgICAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uLmdldChnZXRUcmFuc2ZlclVzZXJEb2NSZWYpLnRoZW4oZnVuY3Rpb24oZ2V0VXNlckRvY1dhbGxldCkgewogICAgICAgICAgICAgICAgICBpZiAoIWdldFVzZXJEb2NXYWxsZXQuZXhpc3RzKSB7CiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAiRG9jdW1lbnQgZG9lcyBub3QgZXhpc3QhIjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB2YXIgbmV3VG9rZW5zID0gZ2V0VXNlckRvY1dhbGxldC5kYXRhKCkudG9rZW5zICsgdHJhbnNmZXJUb2tlbnM7CiAgICAgICAgICAgICAgICAgIHZhciBuZXdCb251cyA9IGdldFVzZXJEb2NXYWxsZXQuZGF0YSgpLmJvbnVzICsgdHJhbnNmZXJCb251czsKICAgICAgICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24udXBkYXRlKGdldFRyYW5zZmVyVXNlckRvY1JlZiwgeyB0b2tlbnM6IG5ld1Rva2VucywgYm9udXM6IG5ld0JvbnVzIH0pOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidXNlciAiK2dldFVzZXJEb2NXYWxsZXQuaWQrIiBnb3QgIituZXdUb2tlbnMrIiB0b2tlbnMiKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coInJ1biBzZW5kZXIgVVNFUiB0cmFuc2FjdGlvbiIpOwogICAgICAgICAgICAgIC8vcnVuIHNlbmRlciBVU0VSIHRyYW5zYWN0aW9uCiAgICAgICAgICAgICAgcmV0dXJuIGRiLnJ1blRyYW5zYWN0aW9uKGZ1bmN0aW9uKHRyYW5zYWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY29kZSBtYXkgZ2V0IHJlLXJ1biBtdWx0aXBsZSB0aW1lcyBpZiB0aGVyZSBhcmUgY29uZmxpY3RzLgogICAgICAgICAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb24uZ2V0KGdldFNlbmRlclVzZXJEb2NSZWYpLnRoZW4oZnVuY3Rpb24oZ2V0U2VuZGVyVXNlckRvYykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXRTZW5kZXJVc2VyRG9jLmV4aXN0cykgewogICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICJEb2N1bWVudCBkb2VzIG5vdCBleGlzdCEiOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1Rva2VucyA9IGdldFNlbmRlclVzZXJEb2MuZGF0YSgpLnRva2VucyAtIHRyYW5zZmVyVG9rZW5zOwogICAgICAgICAgICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLnVwZGF0ZShnZXRTZW5kZXJVc2VyRG9jUmVmLCB7IHRva2VuczogbmV3VG9rZW5zIH0pOwogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInVzZXIgIitnZXRTZW5kZXJVc2VyRG9jLmlkKyIgdHJhbnNmZXJyZWQgIituZXdUb2tlbnMrIiB0b2tlbnMiKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlRyYW5zZmVyICYgZ2V0IHRyYW5zYWN0aW9uIHN1Y2Nlc3NmdWxseSBjb21taXR0ZWQhIik7CiAgICAgICAgICAgICAgICAgIHJlZi5kaWFsb2cgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgYWxlcnQoJ9CX0LDRgNCw0YXQvtCy0LDQvdC+INC30LXQu9C10L3QuNGFOiAnK3JlZi50cmFuc2ZlclRva2Vucyk7CiAgICAgICAgICAgICAgICAgIC8vcnVuIHRyYW5zYWN0aW9uIGZvciB0cmFuc2ZlciB1c2VyCiAgICAgICAgICAgICAgICAgIC8vcm91dGVyLnB1c2goe3BhdGg6J3dhbGxldCcsIG5hbWU6J1dhbGxldCcsIHBhcmFtczp7J3RyYW5zZmVycmVkJzpkZWNvZGVkU3RyaW5nLnRva2Vuc319KTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVHJhbnNhY3Rpb24gZmFpbGVkOiAiLCBlcnJvcik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUcmFuc2FjdGlvbiBmYWlsZWQ6ICIsIGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICB9KQogICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBhZGRpbmcgZG9jdW1lbnQ6ICIsIGVycm9yKTsKICAgICAgfSk7CiAgICAgfQogICB9CiAgfQo="},{"version":3,"sources":["wallet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"wallet.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container style=\"height:500px\">\n    <v-layout\n      text-center\n      wrap\n    >\n      <v-flex>\n        <v-snackbar class=\"text-center\" top light color=\"white\" v-model=\"snackbar\">\n            <v-alert color=\"green lighten-2\" height=\"40\" style=\"padding-top:7px\"><v-icon>mdi-coins</v-icon>Зараховано зелених: {{$route.params.transferred}}</v-alert>\n        </v-snackbar>\n\n        <h1 class=\"headline\" style=\"color:orange\">\n          Мій гаманець\n        </h1>\n        <div>\n            <v-chip v-if=\"$store.state.user.tokens\" text-color=\"#07C01A\" color=\"transparent\" style=\"margin-top:10px\">\n            <v-icon color=\"#07C01A\" large>mdi-currency-usd-circle-outline</v-icon>\n            <span class=\"display-1\">{{myWallet}}</span>\n           </v-chip>\n           <v-chip v-else text-color=\"#07C01A\" color=\"transparent\" style=\"margin-top:10px\">\n            <v-icon color=\"#07C01A\" large>mdi-currency-usd-circle-outline</v-icon>\n              <span class=\"display-1\">0</span>\n          </v-chip>\n        </div>  \n        <br/>\n        <div id=\"placeHolder\"></div>\n        <v-btn dark color=\"green\" @click=\"dialog = true\">Нарахувати зелені <v-icon>mdi-currency-usd-circle-outline</v-icon></v-btn>\n        <v-dialog v-model=\"dialog\" color=\"#fff\">\n          <v-card>\n            <v-card-title v-if=\"!generatedTokens\">Введіть суму токенів</v-card-title>\n            <v-card-text v-if=\"!generatedTokens\">\n              <!--\n              <v-text-field\n                id=\"transferTokens\"\n                label=\"Введіть суму\"\n                solo\n                outlined\n                height=\"20\"\n                v-model=\"transferTokens\"\n              ></v-text-field>\n              -->\n              <v-text-field\n                id=\"recycleItems\"\n                label=\"Введіть кількість пляшок\"\n                solo\n                outlined\n                height=\"20\"\n                required\n                @change=\"calcTokens(recycleItems)\"\n                v-model=\"recycleItems\"\n              ></v-text-field>\n\n              <v-text-field\n                id=\"transferTokens\"\n                label=\"Кількість зелених\"\n                solo\n                outlined\n                height=\"20\"\n                required\n                v-model=\"transferTokens\"\n              ></v-text-field>\n\n              <v-text-field\n                id=\"transferPhone\"\n                label=\"Номер телефона\"\n                solo\n                outlined\n                required\n                height=\"20\"\n                v-model=\"transferPhone\"\n              ></v-text-field>\n              <v-btn text color=\"green\" :disabled=\"(!transferTokens&&!transferPhone) || sendCalc\" outlined @click=\"sendTokens(transferTokens,transferPhone)\">Надіслати бонуси</v-btn><br/>\n             </v-card-text>\n\n            <div id=\"qrHolderOuter\" v-show=\"generatedTokens\">\n              <div class=\"text-center\" >\n                <v-alert color=\"green lighten-2\" height=\"40\" style=\"padding-top:7px\">Покажіть QR-код отримувачу</v-alert>\n              </div>\n              <div id=\"qrHolder\"></div>\n            </div>  \n           </v-card> \n        </v-dialog>  \n        <br/><br/>\n        <v-card>\n          <v-tabs\n            background-color=\"white\"\n            centered\n            color=\"#07C01A\"\n          >\n            <v-tab><v-icon>mdi-currency-usd-circle-outline</v-icon>Пропозиції</v-tab>\n            <v-tab><v-icon>mdi-star-face</v-icon>Подарунки</v-tab>\n            <v-tab-item>\n                <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-coffee\"\n                    color=\"#8b6138\"\n                  >\n                    mdi-coffee\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Кава</div>\n                <p>100% Арабіка,250 мл</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"#07C01A\">mdi-currency-usd-circle-outline</v-icon>\n                      100\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n\n              <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  color=\"ref\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-ticket\"\n                    color=\"green\"\n                    size=\"40\"\n                  >\n                    mdi-cellphone\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Поповнення</div>\n                <p>Екотариф. 45 грн</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"#07C01A\">mdi-currency-usd-circle-outline</v-icon>\n                      50\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n\n            </v-tab-item> \n            <v-tab-item>\n              <div class=\"text-center\">\n                <v-alert border=\"bottom\"\n                  colored-border\n                  type=\"warning\"\n                  elevation=\"2\">\n                Кількість бонусних подарунків обмежена</v-alert>\n              </div>\n               <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  color=\"green\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-ticket\"\n                    color=\"white\"\n                  >\n                    mdi-ticket\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Квиток на концерт</div>\n                <p>Альона, Альона</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"orange\">mdi-star-face</v-icon>\n                      200\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n            </v-tab-item> \n          </v-tabs> \n        </v-card>\n\n<!--\n         <v-card\n            color=\"#698ea1\"\n            dark\n          >\n            <v-card-title class=\"headline\">Мої транзакції</v-card-title>\n\n            <v-card-subtitle>Усі відсортовані пляшки</v-card-subtitle>\n            <v-list>\n            <v-subheader>01-21.11.2019</v-subheader>\n              <v-list-item-group color=\"transparent\">\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n              </v-list-item-group>\n            </v-list>\n            <v-card-actions>\n              <v-btn text>Переглянути</v-btn>\n            </v-card-actions>\n          </v-card>-->\n          \n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nexport default {\n   name: 'Wallet',\n   data: () => ({\n     dialog: false,\n     qrGen:1,\n     bonus:0,\n     generatedTokens:false,\n     transferTokens:'',\n     snackbar:false,\n     myWallet:0,\n     recycleItems:'',\n     transferPhone:'0500552618',\n     sendCalc:false\n   }),\n   created(){\n    let ref = this;\n    let db = this.$store.state.db;\n    db.collection(\"users\").doc(this.$firebase.auth().currentUser.uid)\n    .onSnapshot(function(doc) {\n        ref.myWallet = doc.data().tokens;\n        //console.log(\"Current data: \", doc.data());\n    });\n\n    //check for message \n    if(typeof(this.$route.params.transferred) != 'undefined'){\n      this.snackbar = true;\n    }     \n   },\n   watch: {\n    dialog(val) {\n        if(!val){\n          this.generatedTokens = val;  \n          this.transferTokens = '';\n        }\n      },\n  },\n   methods: {\n     calcTokens(recycleItems){\n       if(recycleItems){\n         this.recycleItems = Number.parseInt(recycleItems)\n         this.transferTokens = this.recycleItems*this.$rate;\n         this.bonus  = this.recycleItems*this.$bonusRate;\n      }\n     },\n     qrGenerate(transferTokens){\n        if(transferTokens && transferTokens <= this.$store.state.user.tokens){\n          this.generatedTokens = true;\n          let qr = this.$qrcode(0, 'H'); \n          let transfer = {fromid:1, tokens:transferTokens,  time:Date. now()};\n          transfer = JSON.stringify(transfer);\n          qr.addData(transfer);\n          qr.make();\n          setTimeout(\n            function(){\n              document.getElementById('qrHolder').innerHTML = qr.createImgTag(4);\n            }, 500\n          );\n        } else {\n          this.transferTokens=0;\n          alert('Недостатньо зелених на рахунку');\n        } \n     },\n     sendTokens(transferTokens, transferPhone){\n       this.sendCalc = true;\n       let db = this.$store.state.db;\n       let senderUserId = this.$firebase.auth().currentUser.uid;\n       let transferUserId = false;\n       let ref = this;\n      \n       transferTokens = Number.parseInt(transferTokens);\n       if(transferTokens && transferTokens <= this.$store.state.user.tokens){\n          if(transferPhone){\n            db.collection(\"users\").where('phone','==', transferPhone).get().then(\n              function(querySnapshot) {\n                querySnapshot.forEach(function(doc) {\n                  transferUserId = doc.id;\n                  ref.makeTransfer(senderUserId,transferUserId, transferTokens);\n                }\n                )\n              }).catch(function(error) {\n                //eslint-disable-next-line no-console\n                  console.error(\"Error: \", error);\n              });\n          }\n        } else {\n          this.transferTokens=0;\n          alert('Недостатньо зелених на рахунку');\n        } \n     },\n\n     makeTransfer(senderUserId, transferUserId, transferTokens){\n       //get a user to transfer\n      let db = this.$store.state.db; \n      let ref = this;\n      let transferBonus = this.bonus;\n      let getTransferUserDocRef = db.collection('users').doc(transferUserId);\n      let getSenderUserDocRef = db.collection('users').doc(senderUserId);\n      let saveRecycleTransaction = {'binid':1, 'bonus':this.bonus, 'bonusRate':this.$bonusRate, 'count':this.recycleItems, 'rate':this.$rate, 'tokens':this.transferTokens, 'uid':this.$firebase.auth().currentUser.uid, 'time':Date.now()};                \n      \n      // db.collection(\"transactions\").add({'fromid':senderUserId,'tokens':transferTokens, 'uid':transferUserId, 'time':Date. now()})\n      db.collection(\"transactions\").add(saveRecycleTransaction)\n      .then(function(docRef) {\n        //eslint-disable-next-line no-console\n          console.log(docRef);\n          console.log(\"Transfer written with ID: \", docRef.id);\n          \n          //run transfer USER transaction\n          return db.runTransaction(function(transaction) {\n              // This code may get re-run multiple times if there are conflicts.\n              //eslint-disable-next-line\n              return transaction.get(getTransferUserDocRef).then(function(getUserDocWallet) {\n                  if (!getUserDocWallet.exists) {\n                      throw \"Document does not exist!\";\n                  }\n                  var newTokens = getUserDocWallet.data().tokens + transferTokens;\n                  var newBonus = getUserDocWallet.data().bonus + transferBonus;\n                  //eslint-disable-next-line\n                  transaction.update(getTransferUserDocRef, { tokens: newTokens, bonus: newBonus });\n                  console.log(\"user \"+getUserDocWallet.id+\" got \"+newTokens+\" tokens\");\n              });\n          }).then(function() {\n              console.log(\"run sender USER transaction\");\n              //run sender USER transaction\n              return db.runTransaction(function(transaction) {\n                  // This code may get re-run multiple times if there are conflicts.\n                  //eslint-disable-next-line\n                  return transaction.get(getSenderUserDocRef).then(function(getSenderUserDoc) {\n                      if (!getSenderUserDoc.exists) {\n                          throw \"Document does not exist!\";\n                      }\n                      var newTokens = getSenderUserDoc.data().tokens - transferTokens;\n                      //eslint-disable-next-line\n                      transaction.update(getSenderUserDocRef, { tokens: newTokens });\n                      console.log(\"user \"+getSenderUserDoc.id+\" transferred \"+newTokens+\" tokens\");\n                  });\n              }).then(function() {\n                  console.log(\"Transfer & get transaction successfully committed!\");\n                  ref.dialog = false;\n                  alert('Зараховано зелених: '+ref.transferTokens);\n                  //run transaction for transfer user\n                  //router.push({path:'wallet', name:'Wallet', params:{'transferred':decodedString.tokens}});\n              }).catch(function(error) {\n                  console.log(\"Transaction failed: \", error);\n              });\n          }).catch(function(error) {\n              console.log(\"Transaction failed: \", error);\n          });\n      })\n      .catch(function(error) {\n        //eslint-disable-next-line no-console\n          console.error(\"Error adding document: \", error);\n      });\n     }\n   }\n  }\n</script>\n"]}]}