{"remainingRequest":"D:\\beeko\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\beeko\\src\\components\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\beeko\\src\\components\\user.vue","mtime":1577442993692},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240333000},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdmb28nLA0KDQogIGRhdGE6ICgpID0+ICh7DQogICAgdHJhbnNhY3Rpb25zOltdDQogIH0pLA0KICBhc3luYyBjcmVhdGVkKCl7DQogICAvKnRoaXMuJHN0b3JlLnN0YXRlLmRiLmNvbGxlY3Rpb24oJ3RyYW5zYWN0aW9ucycpLm9uU25hcHNob3QoKHF1ZXJ5U25hcHNob3QpID0+IHsNCiAgICAgIHRoaXMudHJhbnNhY3Rpb25zID0gcXVlcnlTbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHsNCiAgICAgICAgICAgICAgJ2lkJzogZG9jLmlkLA0KICAgICAgICAgICAgICAndG9rZW5zJzogZG9jLmRhdGEoKS50b2tlbnMNCiAgICAgICAgICAgIH0pDQogICAgICApOw0KICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7DQogICAgICAgIC8vLi4uDQogICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicrZXJyb3IpOw0KICAgIH0pOyovDQogICAgbGV0IHVzZXJUcmFuc2FjdGlvbnMgPSBhd2FpdCB0aGlzLiRzdG9yZS5zdGF0ZS5kYi5jb2xsZWN0aW9uKCd0cmFuc2FjdGlvbnMnKS5nZXQoKTsNCiAgICB1c2VyVHJhbnNhY3Rpb25zLmZvckVhY2goYXN5bmModGgpID0+IHsNCiAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUNCiAgICAgIGxldCB1c2VycyA9IGF3YWl0IHRoaXMuJHN0b3JlLnN0YXRlLmRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKHRoLmRhdGEoKS51aWQpLmdldCgpOw0KICAgICAgdGhpcy50cmFuc2FjdGlvbnMucHVzaCh7J2Rpc3BsYXlOYW1lJzp1c2Vycy5kYXRhKCkubmFtZSwgJ3Rva2Vucyc6dGguZGF0YSgpLnRva2Vuc30pDQogICAgfSk7DQogIH0sDQogIG1vdW50ZWQoKXsNCiAgICB0aGlzLnJlQ2FwdGNoYSgpOw0KICB9LA0KICBtZXRob2RzOnsNCiAgICByZUNhcHRjaGEoKXsNCiAgICAgICB0aGlzLnJlY2FwdGNoYVZlcmlmaWVyID0gbmV3IHRoaXMuJGZpcmViYXNlLmF1dGguUmVjYXB0Y2hhVmVyaWZpZXIoJ3JlY2FwdGNoYS1jb250YWluZXInKTsNCiAgICAgICB0aGlzLnJlY2FwdGNoYVZlcmlmaWVyLnJlbmRlcigpOw0KICAgICB9LA0KICAgICBjb2RldmVyaWZ5KCl7DQogICAgICAgdmFyIGNvZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyaWZpY2F0aW9uQ29kZScpLnZhbHVlOw0KICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29kZVJlc3VsdCk7DQogICAgICAgdGhpcy5jb2RlUmVzdWx0LmNvbmZpcm0oY29kZSkudGhlbigNCiAgICAgICAgIGZ1bmN0aW9uKHJlc3VsdCl7DQogICAgICAgICAgICBhbGVydCgnc2lnbmVkIHVwJyk7DQogICAgICAgICAgICBsZXQgdXNlciA9IHJlc3VsdC51c2VyOw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ3VzZXIgaXMnKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXIpOw0KICAgICAgICAgfQ0KICAgICAgICkuY2F0Y2goDQogICAgICAgICBmdW5jdGlvbihlcnJvcil7DQogICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpOw0KICAgICAgICAgfQ0KICAgICAgICk7DQogICAgIH0sDQogICAgIHBob25lQXV0aCgpew0KICAgICAgIHZhciBudW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbnVtYmVyJykudmFsdWU7DQogICAgICAgdGhpcy4kZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQaG9uZU51bWJlcihudW1iZXIsdGhpcy5yZWNhcHRjaGFWZXJpZmllcikudGhlbigNCiAgICAgICAgY29uZmlybVJlc3VsdCA9Pntjb25zb2xlLmxvZyhjb25maXJtUmVzdWx0KTsgdGhpcy5jb2RlUmVzdWx0ID0gY29uZmlybVJlc3VsdDt9DQogICAgICAgKS5jYXRjaCgNCiAgICAgICAgIGZ1bmN0aW9uKGVycm9yKXsNCiAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7DQogICAgICAgICB9DQogICAgICAgKTsNCiAgICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-container>\r\n    <v-layout text-center wrap>\r\n      <v-flex xs12>\r\n         <template>\r\n            <h1>Send code</h1> \r\n          <form>\r\n            <input type=\"text\" id=\"number\" style=\"border:1px solid grey\"/><br/>\r\n            <v-btn @click=\"phoneAuth\">send code</v-btn>\r\n          </form>\r\n          <div id=\"recaptcha-container\"></div>\r\n          <h1>Send Code</h1>\r\n          <form>\r\n            <input type=\"text\" id=\"verificationCode\" style=\"border:1px solid grey\"/><br/>\r\n            <v-btn @click=\"codeverify\">send code</v-btn>\r\n          </form>\r\n          </template>\r\n      </v-flex>\r\n      </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'foo',\r\n\r\n  data: () => ({\r\n    transactions:[]\r\n  }),\r\n  async created(){\r\n   /*this.$store.state.db.collection('transactions').onSnapshot((querySnapshot) => {\r\n      this.transactions = querySnapshot.docs.map(doc => ({\r\n              'id': doc.id,\r\n              'tokens': doc.data().tokens\r\n            })\r\n      );\r\n    }, function(error) {\r\n        //...\r\n        console.log('error'+error);\r\n    });*/\r\n    let userTransactions = await this.$store.state.db.collection('transactions').get();\r\n    userTransactions.forEach(async(th) => {\r\n      //eslint-disable-next-line no-console\r\n      let users = await this.$store.state.db.collection('users').doc(th.data().uid).get();\r\n      this.transactions.push({'displayName':users.data().name, 'tokens':th.data().tokens})\r\n    });\r\n  },\r\n  mounted(){\r\n    this.reCaptcha();\r\n  },\r\n  methods:{\r\n    reCaptcha(){\r\n       this.recaptchaVerifier = new this.$firebase.auth.RecaptchaVerifier('recaptcha-container');\r\n       this.recaptchaVerifier.render();\r\n     },\r\n     codeverify(){\r\n       var code = document.getElementById('verificationCode').value;\r\n       console.log(this.codeResult);\r\n       this.codeResult.confirm(code).then(\r\n         function(result){\r\n            alert('signed up');\r\n            let user = result.user;\r\n            console.log('user is');\r\n            console.log(user);\r\n         }\r\n       ).catch(\r\n         function(error){\r\n           console.log(error.message);\r\n         }\r\n       );\r\n     },\r\n     phoneAuth(){\r\n       var number = document.getElementById('number').value;\r\n       this.$firebase.auth().signInWithPhoneNumber(number,this.recaptchaVerifier).then(\r\n        confirmResult =>{console.log(confirmResult); this.codeResult = confirmResult;}\r\n       ).catch(\r\n         function(error){\r\n           console.log(error.message);\r\n         }\r\n       );\r\n     }\r\n  }\r\n};\r\n</script>\r\n"]}]}