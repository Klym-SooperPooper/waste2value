{"remainingRequest":"C:\\apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\apps\\beeko2\\src\\components\\signup.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\apps\\beeko2\\src\\components\\signup.vue","mtime":1614121542446},{"path":"C:\\apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240334000},{"path":"C:\\apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7DQppbXBvcnQgeyBkYiB9IGZyb20gJy4uL2ZpcmViYXNlJzsNCg0KY29uc3QgbWluUnVsZSA9IChtaW4sIG1zZyA9IGDQn9GA0LjQvdCw0LnQvNC90ZYgJHttaW59INGB0LjQvNCy0L7Qu9GW0LJgKSA9PiAodikgPT4NCgl2Lmxlbmd0aCA+PSBtaW4gfHwgbXNnOw0KY29uc3QgbWF4UnVsZSA9IChtYXgsIG1zZyA9IGDQnNCw0LrRgdC40LzRg9C8ICR7bWF4fSDRgdC40LzQstC+0LvRltCyYCkgPT4gKHYpID0+DQoJdi5sZW5ndGggPD0gbWF4IHx8IG1zZzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KCW5hbWU6ICdzaWdudXAnLA0KCWRhdGE6ICgpID0+ICh7DQoJCXZhbGlkOiB0cnVlLA0KCQlsb2dvdXQ6IGZhbHNlLA0KCQlyZXNldHBhc3M6IGZhbHNlLA0KDQoJCWFjdGl2ZVRhYjogJ3JlZ2lzdGVyJywNCgkJYXV0aEVycm9yOiBudWxsLA0KDQoJCXVOYW1lOiAnJywNCgkJZW1haWw6ICcnLA0KCQlwaG9uZTogJycsDQoJCXBhc3N3b3JkOiAnJywNCgkJcmVQYXNzd29yZDogJycsDQoNCgkJLy8g0JvRg9GH0YjQtSDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0LHQuNCx0LvQuNC+0YLQtdC60YMg0LLRgNC+0LTQtSB2dWVsaWFkYXRlL3ZlZS12YWxpZGF0ZSDQuNC3LdC30LAg0YLQvtCz0L4g0YfRgtC+INC/0YDQvtCy0LXRgNC60LAg0L/QvtGH0YIgKNC4INC80L3QvtCz0L7Qs9C+INC00YDRg9Cz0L7Qs9C+KSDQutCw0Log0L/RgNCw0LLQuNC70L4g0L3QtdC/0YDQvtGB0YLQsNGPINC30LDQtNCw0YfQsA0KCQllbWFpbFJ1bGVzOiBbDQoJCQkvL3YgPT4gLy4rQC4rLy50ZXN0KHYpIHx8ICfQndC10LLRltGA0L3QuNC5IGUtbWFpbCcsDQoJCQkodikgPT4NCgkJCQkhdiB8fA0KCQkJCS9eXHcrKFsuLV0/XHcrKSpAXHcrKFsuLV0/XHcrKSooXC5cd3syLDN9KSskLy50ZXN0KHYpIHx8DQoJCQkJJ9Cd0LXQstGW0YDQvdC40LkgZS1tYWlsJywNCgkJXSwNCgkJcnVsZXM6IHsNCgkJCXJlcXVpcmVkOiAodmFsdWUpID0+ICEhdmFsdWUgfHwgJ9Ce0LHQvtCyYNGP0LfQutC+0LLQtSDQv9C+0LvQtS4nLA0KCQkJbWluOiBtaW5SdWxlKDgpLA0KCQl9LA0KCQlwYXNzd29yZFJ1bGVzOiB7DQoJCQltYXg6IG1heFJ1bGUoMTI4KSwNCgkJfSwNCgkJcGhvbmVSdWxlczogew0KCQkJcmVxdWlyZWQ6ICh2YWx1ZSkgPT4gISF2YWx1ZSB8fCAn0J7QsdC+0LJg0Y/Qt9C60L7QstC1INC/0L7Qu9C1LicsDQoJCQltaW46IG1pblJ1bGUoMTApLA0KCQkJbWF4OiBtYXhSdWxlKDEwKSwNCgkJfSwNCgl9KSwNCgltb3VudGVkKCkgew0KCQkvL2NoZWNrIGlmIHNpZ25lZCB1cCBmb3IgYXZhdGFyDQoJCS8vYWRkIGF2YXRhciBvciBkaXNtaXNzDQoJCWlmICgNCgkJCXR5cGVvZiB0aGlzLiRyb3V0ZS5wYXJhbXMubG9nb3V0ICE9ICd1bmRlZmluZWQnIHx8DQoJCQl0eXBlb2YgdGhpcy4kcm91dGUucGFyYW1zLnJlc2V0cGFzcyAhPSAndW5kZWZpbmVkJw0KCQkpIHsNCgkJCXRoaXMuYWN0aXZlVGFiID0gJ2xvZ2luJzsNCgkJCXRoaXMubG9nb3V0ID0gdGhpcy4kcm91dGUucGFyYW1zLmxvZ291dDsNCgkJfQ0KCQlpZiAodHlwZW9mIHRoaXMuJHJvdXRlLnBhcmFtcy5yZXNldHBhc3MgIT0gJ3VuZGVmaW5lZCcpIHsNCgkJCXRoaXMucmVzZXRwYXNzID0gMTsNCgkJfQ0KCX0sDQoJbWV0aG9kczogew0KCQkuLi5tYXBBY3Rpb25zKFsncHJvY2Vzc0ZpcmViYXNlVXNlciddKSwNCgkJdGVzdCguLi5hcmdzKSB7DQoJCQljb25zb2xlLmxvZyhhcmdzKTsNCgkJfSwNCgkJcGFzc3dvcmRDb25maXJtYXRpb25SdWxlKCkgew0KCQkJcmV0dXJuIHRoaXMucGFzc3dvcmQgPT09IHRoaXMucmVQYXNzd29yZCB8fCAn0J/QsNGA0L7Qu9GWINC/0L7QstC40L3QvdGWINGB0L/RltCy0L/QsNC00LDRgtC4JzsNCgkJfSwNCgkJY2hlY2tGb3JTaWduSW5Vc2VyKCkgew0KCQkJdGhpcy5hdXRoRXJyb3IgPSBudWxsOw0KCQkJdGhpcy52YWxpZCA9ICF0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsNCg0KCQkJaWYgKHRoaXMudmFsaWQpIHsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9DQoJCQlpZiAodGhpcy5hY3RpdmVUYWIgPT0gJ3JlZ2lzdGVyJykgew0KCQkJCXRoaXMuZW1haWxTaWduVXAoKTsNCgkJCX0gZWxzZSB7DQoJCQkJdGhpcy5lbWFpbFNpZ25JbigpOw0KCQkJfQ0KCQl9LA0KCQlhc3luYyBlbWFpbFNpZ25VcCgpIHsNCgkJCXRyeSB7DQoJCQkJLy9jaGVjayBpZiB0b2tlbnMgYmVlbiBhd2FyZGVkDQoJCQkJLy9sZXQgdXNlclBob25lID0gdGhpcy5waG9uZTsNCgkJCQljb25zdCB7DQoJCQkJCXVzZXIsDQoJCQkJfSA9IGF3YWl0IHRoaXMuJGZpcmViYXNlDQoJCQkJCS5hdXRoKCkNCgkJCQkJLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCh0aGlzLmVtYWlsLCB0aGlzLnBhc3N3b3JkKTsNCg0KCQkJCWxldCB1c2Vyc1JlZiA9IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJyk7DQoJCQkJbGV0IHJlZiA9IHRoaXM7DQoJCQkJYXdhaXQgZGIuY29sbGVjdGlvbigndHJhbnNhY3Rpb25zJykud2hlcmUoJ3VpZCcsJz09Jyx0aGlzLnBob25lLnRvU3RyaW5nKCkpLmxpbWl0KDEpLmdldCgpLnRoZW4oDQoJCQkJCXF1ZXJ5U25hcHNob3QgPT4gew0KCQkJCQkJLy90cmFuc2FjdGlvbnMgYmVmb3JlIHNpZ24gdXANCgkJCQkJCWlmKHF1ZXJ5U25hcHNob3Quc2l6ZSl7DQoJCQkJCQkJcXVlcnlTbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHsNCgkJCQkJCQkJbGV0IGF3YXJkVG9rZW5zID0gZG9jLmRhdGEoKS50b2tlbnM7DQoJCQkJCQkJCWxldCB1c2VyUmVjb3JkID0gdXNlcnNSZWYuZG9jKHVzZXIudWlkKS5zZXQoew0KCQkJCQkJCQkJZW1haWw6IHJlZi5lbWFpbCwNCgkJCQkJCQkJCW5hbWU6IHJlZi51TmFtZSwNCgkJCQkJCQkJCXBob25lOiByZWYucGhvbmUsDQoJCQkJCQkJCQl0b2tlbnM6IGF3YXJkVG9rZW5zLA0KCQkJCQkJCQkJYm9udXM6IDAsDQoJCQkJCQkJCX0pOw0KCQkJCQkJCQlQcm9taXNlLmFsbChbDQoJCQkJCQkJCQlyZWYucHJvY2Vzc0ZpcmViYXNlVXNlcih1c2VyKSwgDQoJCQkJCQkJCQl1c2VyUmVjb3JkLCANCgkJCQkJCQkJCWRiLmNvbGxlY3Rpb24oInRyYW5zYWN0aW9ucyIpLmRvYyhkb2MuaWQpLnVwZGF0ZSh7dWlkOnVzZXIudWlkfSldDQoJCQkJCQkJCSkudGhlbigNCgkJCQkJCQkJCSgpPT57DQoJCQkJCQkJCQkJcmVmLiRyb3V0ZXIucHVzaCgnV2FsbGV0Jyk7DQoJCQkJCQkJCQl9DQoJCQkJCQkJCSk7DQoJCQkJCQkJfSk7DQoJCQkJCQkJLy9ubyB0cmFuc2FjdGlvbnMgYmVmb3JlIHNpZ24gdXANCgkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJbGV0IHVzZXJSZWNvcmQgPSB1c2Vyc1JlZi5kb2ModXNlci51aWQpLnNldCh7DQoJCQkJCQkJCWVtYWlsOiByZWYuZW1haWwsDQoJCQkJCQkJCW5hbWU6IHJlZi51TmFtZSwNCgkJCQkJCQkJcGhvbmU6IHJlZi5waG9uZSwNCgkJCQkJCQkJdG9rZW5zOiAwLA0KCQkJCQkJCQlib251czogMCwNCgkJCQkJCQl9KTsNCgkJCQkJCQlQcm9taXNlLmFsbChbDQoJCQkJCQkJCXJlZi5wcm9jZXNzRmlyZWJhc2VVc2VyKHVzZXIpLCANCgkJCQkJCQkJdXNlclJlY29yZF0NCgkJCQkJCQkpLnRoZW4oDQoJCQkJCQkJCSgpPT57DQoJCQkJCQkJCQlyZWYuJHJvdXRlci5wdXNoKHtuYW1lOiAnUHJvZmlsZScscGFyYW1zOiB7IHNpZ25lZHVwOiAxIH19KTsNCgkJCQkJCQkJfQ0KCQkJCQkJCSk7DQoJCQkJCQl9DQoJCQkJfSk7DQoJCQl9IGNhdGNoIChlcnJvcikgew0KCQkJCWlmIChlcnJvci5jb2RlID09ICdhdXRoL2VtYWlsLWFscmVhZHktaW4tdXNlJykgew0KCQkJCQl0aGlzLmF1dGhFcnJvciA9IGDQktC4INCy0LbQtSDQt9Cw0YDQtdGU0YHRgtGA0L7QstCw0L3RlmA7DQoJCQkJCXRoaXMuYWN0aXZlVGFiID0gJ2xvZ2luJzsNCgkJCQkJLy90aGlzLmVtYWlsU2lnbkluKCk7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJdGhpcy5hdXRoRXJyb3IgPSBg0J3QtdGB0L/QvtC00ZbQstCw0L3QsCDQv9C+0LzQuNC70LrQsCDRgNC10ZTRgdGC0YDQsNGG0ZbRl2A7DQoJCQkJY29uc29sZS53YXJuKCdVbmhhbmRsZWQgU2lnblVwIGVycm9yJywgZXJyb3IpOw0KCQkJfQ0KCQl9LA0KCQlhc3luYyBlbWFpbFNpZ25JbigpIHsNCgkJCXRyeSB7DQoJCQkJY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRmaXJlYmFzZQ0KCQkJCQkuYXV0aCgpDQoJCQkJCS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCh0aGlzLmVtYWlsLCB0aGlzLnBhc3N3b3JkKTsNCg0KCQkJCWF3YWl0IHRoaXMucHJvY2Vzc0ZpcmViYXNlVXNlcihyZXNwb25zZS51c2VyKS50aGVuKA0KCQkJCQkoKT0+ew0KCQkJCQkJdGhpcy4kcm91dGVyLnB1c2goJ1dhbGxldCcpOw0KCQkJCQl9DQoJCQkJKTsNCgkJCQkvKmF3YWl0IHRoaXMuJHJvdXRlci5wdXNoKHsNCgkJCQkJbmFtZTogJ1Byb2ZpbGUnLA0KCQkJCQlwYXJhbXM6IHsgc2lnbmVkdXA6IDEgfSwNCgkJCQl9KTsqLw0KCQkJfSBjYXRjaCAoZXJyb3IpIHsNCgkJCQlpZiAoZXJyb3IuY29kZSA9PT0gJ2F1dGgvdXNlci1ub3QtZm91bmQnKSB7DQoJCQkJCXRoaXMuYXV0aEVycm9yID0gYNCd0LXQvNCw0ZQg0LTQsNC90LjRhSDQutC+0YDQuNGB0YLRg9Cy0LDRh9CwLCDRidC+INCy0ZbQtNC/0L7QstGW0LTQsNGO0YLRjCDRhtGM0L7QvNGDINC10LvQtdC60YLRgNC+0L3QvdC+0LzRgyDQu9C40YHRgtGDLmA7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJaWYgKGVycm9yLmNvZGUgPT09ICdhdXRoL3dyb25nLXBhc3N3b3JkJykgew0KCQkJCQl0aGlzLmF1dGhFcnJvciA9IGDQn9Cw0YDQvtC70Ywg0L3QtdC00ZbQudGB0L3QuNC5INCw0LHQviDRgyDQutC+0YDQuNGB0YLRg9Cy0LDRh9CwINC90LXQvNCw0ZQg0L/QsNGA0L7Qu9GPLmA7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJdGhpcy5hdXRoRXJyb3IgPSBg0J3QtdGB0L/QvtC00ZbQstCw0L3QsCDQv9C+0LzQuNC70LrQsCDQstGF0L7QtNGDYDsNCgkJCQljb25zb2xlLndhcm4oJ1VuaGFuZGxlZCBTaWduSW4gZXJyb3InLCBlcnJvcik7DQoJCQl9DQoJCX0sDQoJfSwNCn07DQo="},{"version":3,"sources":["signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"signup.vue","sourceRoot":"src/components","sourcesContent":["/* eslint-disable */\r\n<template>\r\n\t<v-container>\r\n\t\t<v-layout text-center wrap>\r\n\t\t\t<v-flex xs12>\r\n\t\t\t\t<v-img\r\n\t\t\t\t\t:src=\"require('../assets/logo2.png')\"\r\n\t\t\t\t\tclass=\"my-3\"\r\n\t\t\t\t\tcontain\r\n\t\t\t\t\theight=\"100\"\r\n\t\t\t\t></v-img>\r\n\t\t\t</v-flex>\r\n\t\t\t<v-flex xs12>\r\n\t\t\t\t<template>\r\n\t\t\t\t\t<div class=\"text-center\" v-if=\"resetpass\">\r\n\t\t\t\t\t\t<v-alert color=\"green lighten-2\" style=\"padding-top: 7px\"\r\n\t\t\t\t\t\t\t>Перевірте свій e-mail для встановлення нового паролю</v-alert\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<v-tabs color=\"orange\" centered=\"\" v-model=\"activeTab\">\r\n\t\t\t\t\t\t<v-tab :href=\"`#register`\">Реєстрація</v-tab>\r\n\t\t\t\t\t\t<v-tab :href=\"`#login`\">Логін</v-tab>\r\n\t\t\t\t\t</v-tabs>\r\n\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t<div class=\"text-center\" v-if=\"logout\">\r\n\t\t\t\t\t\t<v-alert\r\n\t\t\t\t\t\t\tcolor=\"orange lighten-2\"\r\n\t\t\t\t\t\t\theight=\"40\"\r\n\t\t\t\t\t\t\tstyle=\"padding-top: 7px\"\r\n\t\t\t\t\t\t\t>Ви вийшли з акаунту</v-alert\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<v-alert color=\"green lighten-2\" style=\"padding-top: 7px\"\r\n\t\t\t\t\t\t>Вітаємо у EcoДія! <br />Заробляйте зелені гроші за свої екологічні\r\n\t\t\t\t\t\tдії разом з ГО \"Містом майбутнього\"!</v-alert\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<div class=\"text-center\">\r\n\t\t\t\t\t\t<div>Партнер EcoДія</div>\r\n\t\t\t\t\t\t<img src=\"../assets/misto-m.png\" height=\"150\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<v-form ref=\"form\" v-model=\"valid\" @submit=\"test\" lazy-validation>\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tid=\"userName\"\r\n\t\t\t\t\t\t\t\tv-if=\"activeTab == 'register'\"\r\n\t\t\t\t\t\t\t\tv-model=\"uName\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\thint=\"мінімум 8 символів\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\tlabel=\"Ваш нікнейм\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tv-model=\"email\"\r\n\t\t\t\t\t\t\t\tlabel=\"Введіть email\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.required, ...emailRules]\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\tv-if=\"activeTab == 'register'\"\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tv-model=\"phone\"\r\n\t\t\t\t\t\t\t\thint=\"У 10-значному форматі 0X0XXXXXXX\"\r\n\t\t\t\t\t\t\t\tplaceHolder=\"0X0XXXXXXX\"\r\n\t\t\t\t\t\t\t\tid=\"userPhone\"\r\n\t\t\t\t\t\t\t\tlabel=\"Введіть телефон\"\r\n\t\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\t\tprefix=\"+38\"\r\n\t\t\t\t\t\t\t\t:rules=\"[phoneRules.required, phoneRules.min, phoneRules.max]\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tid=\"passField\"\r\n\t\t\t\t\t\t\t\tv-if=\"activeTab == 'register'\"\r\n\t\t\t\t\t\t\t\tv-model=\"password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\thint=\"мінімум 8 символів\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.required, rules.min, passwordRules.max]\"\r\n\t\t\t\t\t\t\t\tlabel=\"Введіть пароль\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tid=\"passField\"\r\n\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\tv-model=\"password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\thint=\"мінімум 8 символів\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.required, rules.min, passwordRules.max]\"\r\n\t\t\t\t\t\t\t\tlabel=\"Введіть пароль\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tid=\"repassField\"\r\n\t\t\t\t\t\t\t\tv-if=\"activeTab == 'register'\"\r\n\t\t\t\t\t\t\t\tv-model=\"rePassword\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\thint=\"мінімум 8 символів\"\r\n\t\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t\trules.required,\r\n\t\t\t\t\t\t\t\t\trules.min,\r\n\t\t\t\t\t\t\t\t\tpasswordRules.max,\r\n\t\t\t\t\t\t\t\t\tpasswordConfirmationRule,\r\n\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\tlabel=\"Підтвердіть пароль\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t<v-alert v-if=\"authError\" dense text type=\"error\">{{\r\n\t\t\t\t\t\t\t\tthis.authError\r\n\t\t\t\t\t\t\t}}</v-alert>\r\n\t\t\t\t\t\t\t<v-btn @click=\"checkForSignInUser\" v-if=\"activeTab == 'register'\"\r\n\t\t\t\t\t\t\t\t>Зареєструватись</v-btn\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<v-btn @click=\"checkForSignInUser\" v-else>Увійти</v-btn>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\tv-if=\"activeTab == 'login'\"\r\n\t\t\t\t\t\t\t\tcolor=\"orange\"\r\n\t\t\t\t\t\t\t\tlink\r\n\t\t\t\t\t\t\t\ticon\r\n\t\t\t\t\t\t\t\tto=\"/resetpass\"\r\n\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tНагадати пароль\r\n\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t</v-flex>\r\n\t\t</v-layout>\r\n\t</v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex';\r\nimport { db } from '../firebase';\r\n\r\nconst minRule = (min, msg = `Принаймні ${min} символів`) => (v) =>\r\n\tv.length >= min || msg;\r\nconst maxRule = (max, msg = `Максимум ${max} символів`) => (v) =>\r\n\tv.length <= max || msg;\r\n\r\nexport default {\r\n\tname: 'signup',\r\n\tdata: () => ({\r\n\t\tvalid: true,\r\n\t\tlogout: false,\r\n\t\tresetpass: false,\r\n\r\n\t\tactiveTab: 'register',\r\n\t\tauthError: null,\r\n\r\n\t\tuName: '',\r\n\t\temail: '',\r\n\t\tphone: '',\r\n\t\tpassword: '',\r\n\t\trePassword: '',\r\n\r\n\t\t// Лучше использовать библиотеку вроде vueliadate/vee-validate из-за того что проверка почт (и многого другого) как правило непростая задача\r\n\t\temailRules: [\r\n\t\t\t//v => /.+@.+/.test(v) || 'Невірний e-mail',\r\n\t\t\t(v) =>\r\n\t\t\t\t!v ||\r\n\t\t\t\t/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v) ||\r\n\t\t\t\t'Невірний e-mail',\r\n\t\t],\r\n\t\trules: {\r\n\t\t\trequired: (value) => !!value || 'Обов`язкове поле.',\r\n\t\t\tmin: minRule(8),\r\n\t\t},\r\n\t\tpasswordRules: {\r\n\t\t\tmax: maxRule(128),\r\n\t\t},\r\n\t\tphoneRules: {\r\n\t\t\trequired: (value) => !!value || 'Обов`язкове поле.',\r\n\t\t\tmin: minRule(10),\r\n\t\t\tmax: maxRule(10),\r\n\t\t},\r\n\t}),\r\n\tmounted() {\r\n\t\t//check if signed up for avatar\r\n\t\t//add avatar or dismiss\r\n\t\tif (\r\n\t\t\ttypeof this.$route.params.logout != 'undefined' ||\r\n\t\t\ttypeof this.$route.params.resetpass != 'undefined'\r\n\t\t) {\r\n\t\t\tthis.activeTab = 'login';\r\n\t\t\tthis.logout = this.$route.params.logout;\r\n\t\t}\r\n\t\tif (typeof this.$route.params.resetpass != 'undefined') {\r\n\t\t\tthis.resetpass = 1;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions(['processFirebaseUser']),\r\n\t\ttest(...args) {\r\n\t\t\tconsole.log(args);\r\n\t\t},\r\n\t\tpasswordConfirmationRule() {\r\n\t\t\treturn this.password === this.rePassword || 'Паролі повинні співпадати';\r\n\t\t},\r\n\t\tcheckForSignInUser() {\r\n\t\t\tthis.authError = null;\r\n\t\t\tthis.valid = !this.$refs.form.validate();\r\n\r\n\t\t\tif (this.valid) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (this.activeTab == 'register') {\r\n\t\t\t\tthis.emailSignUp();\r\n\t\t\t} else {\r\n\t\t\t\tthis.emailSignIn();\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync emailSignUp() {\r\n\t\t\ttry {\r\n\t\t\t\t//check if tokens been awarded\r\n\t\t\t\t//let userPhone = this.phone;\r\n\t\t\t\tconst {\r\n\t\t\t\t\tuser,\r\n\t\t\t\t} = await this.$firebase\r\n\t\t\t\t\t.auth()\r\n\t\t\t\t\t.createUserWithEmailAndPassword(this.email, this.password);\r\n\r\n\t\t\t\tlet usersRef = db.collection('users');\r\n\t\t\t\tlet ref = this;\r\n\t\t\t\tawait db.collection('transactions').where('uid','==',this.phone.toString()).limit(1).get().then(\r\n\t\t\t\t\tquerySnapshot => {\r\n\t\t\t\t\t\t//transactions before sign up\r\n\t\t\t\t\t\tif(querySnapshot.size){\r\n\t\t\t\t\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\t\t\t\t\tlet awardTokens = doc.data().tokens;\r\n\t\t\t\t\t\t\t\tlet userRecord = usersRef.doc(user.uid).set({\r\n\t\t\t\t\t\t\t\t\temail: ref.email,\r\n\t\t\t\t\t\t\t\t\tname: ref.uName,\r\n\t\t\t\t\t\t\t\t\tphone: ref.phone,\r\n\t\t\t\t\t\t\t\t\ttokens: awardTokens,\r\n\t\t\t\t\t\t\t\t\tbonus: 0,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tPromise.all([\r\n\t\t\t\t\t\t\t\t\tref.processFirebaseUser(user), \r\n\t\t\t\t\t\t\t\t\tuserRecord, \r\n\t\t\t\t\t\t\t\t\tdb.collection(\"transactions\").doc(doc.id).update({uid:user.uid})]\r\n\t\t\t\t\t\t\t\t).then(\r\n\t\t\t\t\t\t\t\t\t()=>{\r\n\t\t\t\t\t\t\t\t\t\tref.$router.push('Wallet');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//no transactions before sign up\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet userRecord = usersRef.doc(user.uid).set({\r\n\t\t\t\t\t\t\t\temail: ref.email,\r\n\t\t\t\t\t\t\t\tname: ref.uName,\r\n\t\t\t\t\t\t\t\tphone: ref.phone,\r\n\t\t\t\t\t\t\t\ttokens: 0,\r\n\t\t\t\t\t\t\t\tbonus: 0,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tPromise.all([\r\n\t\t\t\t\t\t\t\tref.processFirebaseUser(user), \r\n\t\t\t\t\t\t\t\tuserRecord]\r\n\t\t\t\t\t\t\t).then(\r\n\t\t\t\t\t\t\t\t()=>{\r\n\t\t\t\t\t\t\t\t\tref.$router.push({name: 'Profile',params: { signedup: 1 }});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tif (error.code == 'auth/email-already-in-use') {\r\n\t\t\t\t\tthis.authError = `Ви вже зареєстровані`;\r\n\t\t\t\t\tthis.activeTab = 'login';\r\n\t\t\t\t\t//this.emailSignIn();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.authError = `Несподівана помилка реєстрації`;\r\n\t\t\t\tconsole.warn('Unhandled SignUp error', error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync emailSignIn() {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await this.$firebase\r\n\t\t\t\t\t.auth()\r\n\t\t\t\t\t.signInWithEmailAndPassword(this.email, this.password);\r\n\r\n\t\t\t\tawait this.processFirebaseUser(response.user).then(\r\n\t\t\t\t\t()=>{\r\n\t\t\t\t\t\tthis.$router.push('Wallet');\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t/*await this.$router.push({\r\n\t\t\t\t\tname: 'Profile',\r\n\t\t\t\t\tparams: { signedup: 1 },\r\n\t\t\t\t});*/\r\n\t\t\t} catch (error) {\r\n\t\t\t\tif (error.code === 'auth/user-not-found') {\r\n\t\t\t\t\tthis.authError = `Немає даних користувача, що відповідають цьому електронному листу.`;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (error.code === 'auth/wrong-password') {\r\n\t\t\t\t\tthis.authError = `Пароль недійсний або у користувача немає пароля.`;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.authError = `Несподівана помилка входу`;\r\n\t\t\t\tconsole.warn('Unhandled SignIn error', error);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n"]}]}