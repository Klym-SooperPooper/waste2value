{"remainingRequest":"D:\\beeko\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\beeko\\src\\components\\wallet.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\beeko\\src\\components\\wallet.vue","mtime":1589191222684},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240333000},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgbmFtZTogJ1dhbGxldCcsCiAgIGRhdGE6ICgpID0+ICh7CiAgICAgZGlhbG9nOiBmYWxzZSwKICAgICBxckdlbjoxLAogICAgIGJvbnVzOjAsCiAgICAgZ2VuZXJhdGVkVG9rZW5zOmZhbHNlLAogICAgIHRyYW5zZmVyVG9rZW5zOicnLAogICAgIHNuYWNrYmFyOmZhbHNlLAogICAgIG15V2FsbGV0OjAKICAgfSksCiAgIGNyZWF0ZWQoKXsKICAgIGxldCByZWYgPSB0aGlzOwogICAgbGV0IGRiID0gdGhpcy4kc3RvcmUuc3RhdGUuZGI7CiAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyh0aGlzLiRmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkKQogICAgLm9uU25hcHNob3QoZnVuY3Rpb24oZG9jKSB7CiAgICAgICAgcmVmLm15V2FsbGV0ID0gZG9jLmRhdGEoKS50b2tlbnM7CiAgICAgICAgLy9jb25zb2xlLmxvZygiQ3VycmVudCBkYXRhOiAiLCBkb2MuZGF0YSgpKTsKICAgIH0pOwoKICAgIC8vY2hlY2sgZm9yIG1lc3NhZ2UgCiAgICBpZih0eXBlb2YodGhpcy4kcm91dGUucGFyYW1zLnRyYW5zZmVycmVkKSAhPSAndW5kZWZpbmVkJyl7CiAgICAgIHRoaXMuc25hY2tiYXIgPSB0cnVlOwogICAgfSAgICAgCiAgIH0sCiAgIHdhdGNoOiB7CiAgICBkaWFsb2codmFsKSB7CiAgICAgICAgaWYoIXZhbCl7CiAgICAgICAgICB0aGlzLmdlbmVyYXRlZFRva2VucyA9IHZhbDsgIAogICAgICAgICAgdGhpcy50cmFuc2ZlclRva2VucyA9ICcnOwogICAgICAgIH0KICAgICAgfSwKICB9LAogICBtZXRob2RzOiB7CiAgICAgdGVzdEFwaSgpewogICAgICAvLyB0aGlzLiRheGlvcy5nZXQoJy9hcGk/YmluaWQ9MSZjb3VudD0xJmtleT0nK3RoaXMuJHRyYW5zYWN0aW9uS2V5KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgLy99KQogICAgIH0sCiAgICAgcXJHZW5lcmF0ZSh0cmFuc2ZlclRva2Vucyl7CiAgICAgICAgaWYodHJhbnNmZXJUb2tlbnMgJiYgdHJhbnNmZXJUb2tlbnMgPD0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci50b2tlbnMpewogICAgICAgICAgdGhpcy5nZW5lcmF0ZWRUb2tlbnMgPSB0cnVlOwogICAgICAgICAgbGV0IHFyID0gdGhpcy4kcXJjb2RlKDAsICdIJyk7IAogICAgICAgICAgbGV0IHRyYW5zZmVyID0ge2Zyb21pZDoxLCB0b2tlbnM6dHJhbnNmZXJUb2tlbnMsICB0aW1lOkRhdGUuIG5vdygpfTsKICAgICAgICAgIHRyYW5zZmVyID0gSlNPTi5zdHJpbmdpZnkodHJhbnNmZXIpOwogICAgICAgICAgcXIuYWRkRGF0YSh0cmFuc2Zlcik7CiAgICAgICAgICBxci5tYWtlKCk7CiAgICAgICAgICBzZXRUaW1lb3V0KAogICAgICAgICAgICBmdW5jdGlvbigpewogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxckhvbGRlcicpLmlubmVySFRNTCA9IHFyLmNyZWF0ZUltZ1RhZyg0KTsKICAgICAgICAgICAgfSwgNTAwCiAgICAgICAgICApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRyYW5zZmVyVG9rZW5zPTA7CiAgICAgICAgICBhbGVydCgn0J3QtdC00L7RgdGC0LDRgtC90YzQviDQt9C10LvQtdC90LjRhSDQvdCwINGA0LDRhdGD0L3QutGDJyk7CiAgICAgICAgfSAKICAgICB9CiAgIH0KICB9Cg=="},{"version":3,"sources":["wallet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"wallet.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container style=\"height:500px\">\n    <v-layout\n      text-center\n      wrap\n    >\n      <v-flex>\n        <v-snackbar class=\"text-center\" top light color=\"white\" v-model=\"snackbar\">\n            <v-alert color=\"green lighten-2\" height=\"40\" style=\"padding-top:7px\"><v-icon>mdi-coins</v-icon>Зараховано зелених: {{$route.params.transferred}}</v-alert>\n        </v-snackbar>\n\n        <h1 class=\"headline\" style=\"color:orange\">\n          Мій гаманець\n        </h1>\n        <div>\n            <v-chip v-if=\"$store.state.user.tokens\" text-color=\"#07C01A\" color=\"transparent\" style=\"margin-top:10px\">\n            <v-icon color=\"#07C01A\" large>mdi-currency-usd-circle-outline</v-icon>\n            <span class=\"display-1\">{{myWallet}}</span>\n           </v-chip>\n           <v-chip v-else text-color=\"#07C01A\" color=\"transparent\" style=\"margin-top:10px\">\n            <v-icon color=\"#07C01A\" large>mdi-currency-usd-circle-outline</v-icon>\n              <span class=\"display-1\">0</span>\n          </v-chip>\n        </div>  \n        <br/>\n        <div id=\"placeHolder\"></div>\n        <v-btn dark color=\"green\" @click=\"dialog = true\">Переказати <v-icon>mdi-currency-usd-circle-outline</v-icon></v-btn>\n        <br/>\n        <v-btn style=\"margin-top:10px;\" dark color=\"orange\" @click=\"testApi()\">Test API <v-icon>mdi-currency-usd-circle-outline</v-icon></v-btn>\n        <v-dialog v-model=\"dialog\" color=\"#fff\">\n          <v-card>\n            <v-card-title v-if=\"!generatedTokens\">Введіть суму токенів</v-card-title>\n            <v-card-text v-if=\"!generatedTokens\">\n              <v-text-field\n                id=\"transferTokens\"\n                label=\"Введіть суму\"\n                solo\n                outlined\n                height=\"20\"\n                v-model=\"transferTokens\"\n              ></v-text-field>\n              <v-btn text color=\"green\" :disabled=\"!transferTokens\" outlined @click=\"qrGenerate(transferTokens)\">Створити <v-icon>mdi-qrcode-scan</v-icon></v-btn><br/>\n             </v-card-text>\n\n            <div id=\"qrHolderOuter\" v-show=\"generatedTokens\">\n              <div class=\"text-center\" >\n                <v-alert color=\"green lighten-2\" height=\"40\" style=\"padding-top:7px\">Покажіть QR-код отримувачу</v-alert>\n              </div>\n              <div id=\"qrHolder\"></div>\n            </div>  \n           </v-card> \n        </v-dialog>  \n        <br/><br/>\n        <v-card>\n          <v-tabs\n            background-color=\"white\"\n            centered\n            color=\"#07C01A\"\n          >\n            <v-tab><v-icon>mdi-currency-usd-circle-outline</v-icon>Пропозиції</v-tab>\n            <v-tab><v-icon>mdi-star-face</v-icon>Подарунки</v-tab>\n            <v-tab-item>\n                <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-coffee\"\n                    color=\"#8b6138\"\n                  >\n                    mdi-coffee\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Кава</div>\n                <p>100% Арабіка,250 мл</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"#07C01A\">mdi-currency-usd-circle-outline</v-icon>\n                      100\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n\n              <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  color=\"ref\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-ticket\"\n                    color=\"green\"\n                    size=\"40\"\n                  >\n                    mdi-cellphone\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Поповнення</div>\n                <p>Екотариф. 45 грн</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"#07C01A\">mdi-currency-usd-circle-outline</v-icon>\n                      50\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n\n            </v-tab-item> \n            <v-tab-item>\n              <div class=\"text-center\">\n                <v-alert border=\"bottom\"\n                  colored-border\n                  type=\"warning\"\n                  elevation=\"2\">\n                Кількість бонусних подарунків обмежена</v-alert>\n              </div>\n               <v-banner one-line>\n                <v-avatar\n                  slot=\"icon\"\n                  color=\"green\"\n                  size=\"40\"\n                >\n                  <v-icon\n                    icon=\"mdi-ticket\"\n                    color=\"white\"\n                  >\n                    mdi-ticket\n                  </v-icon>\n                </v-avatar>\n                <div class=\"headline text-left\">Квиток на концерт</div>\n                <p>Альона, Альона</p>\n                <template v-slot:actions>\n                  <v-chip text-color=\"orange\" color=\"transparent\">\n                   <v-icon color=\"orange\">mdi-star-face</v-icon>\n                      200\n                  </v-chip> \n                  <v-btn text color=\"green accent-4\">незабаром</v-btn>\n                </template>\n              </v-banner>\n            </v-tab-item> \n          </v-tabs> \n        </v-card>\n\n<!--\n         <v-card\n            color=\"#698ea1\"\n            dark\n          >\n            <v-card-title class=\"headline\">Мої транзакції</v-card-title>\n\n            <v-card-subtitle>Усі відсортовані пляшки</v-card-subtitle>\n            <v-list>\n            <v-subheader>01-21.11.2019</v-subheader>\n              <v-list-item-group color=\"transparent\">\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n                <v-list-item> <v-icon>mdi-coins</v-icon>100</v-list-item>\n              </v-list-item-group>\n            </v-list>\n            <v-card-actions>\n              <v-btn text>Переглянути</v-btn>\n            </v-card-actions>\n          </v-card>-->\n          \n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nexport default {\n   name: 'Wallet',\n   data: () => ({\n     dialog: false,\n     qrGen:1,\n     bonus:0,\n     generatedTokens:false,\n     transferTokens:'',\n     snackbar:false,\n     myWallet:0\n   }),\n   created(){\n    let ref = this;\n    let db = this.$store.state.db;\n    db.collection(\"users\").doc(this.$firebase.auth().currentUser.uid)\n    .onSnapshot(function(doc) {\n        ref.myWallet = doc.data().tokens;\n        //console.log(\"Current data: \", doc.data());\n    });\n\n    //check for message \n    if(typeof(this.$route.params.transferred) != 'undefined'){\n      this.snackbar = true;\n    }     \n   },\n   watch: {\n    dialog(val) {\n        if(!val){\n          this.generatedTokens = val;  \n          this.transferTokens = '';\n        }\n      },\n  },\n   methods: {\n     testApi(){\n      // this.$axios.get('/api?binid=1&count=1&key='+this.$transactionKey).then((response) => {\n        //console.log(response.data)\n      //})\n     },\n     qrGenerate(transferTokens){\n        if(transferTokens && transferTokens <= this.$store.state.user.tokens){\n          this.generatedTokens = true;\n          let qr = this.$qrcode(0, 'H'); \n          let transfer = {fromid:1, tokens:transferTokens,  time:Date. now()};\n          transfer = JSON.stringify(transfer);\n          qr.addData(transfer);\n          qr.make();\n          setTimeout(\n            function(){\n              document.getElementById('qrHolder').innerHTML = qr.createImgTag(4);\n            }, 500\n          );\n        } else {\n          this.transferTokens=0;\n          alert('Недостатньо зелених на рахунку');\n        } \n     }\n   }\n  }\n</script>\n"]}]}