{"remainingRequest":"D:\\beeko\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\beeko\\src\\components\\qr.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\beeko\\src\\components\\qr.vue","mtime":1584872811586},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240333000},{"path":"D:\\beeko\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\beeko\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgcXJzZWVuOmZhbHNlCiAgfSksCiAgbW91bnRlZCAoKXsKICAgIC8qdmFyIHFyID0gdGhpcy4kcXJjb2RlKDAsICdIJyk7CiAgICB2YXIgdHJhbnNhY3Rpb24gPSB7YmluaWQ6MSwgY291bnQ6MSwgIHRpbWU6RGF0ZS4gbm93KCl9OwogICAgdmFyIHRyYW5zZmVyID0ge2Zyb21pZDoxLCB0b2tlbnM6MSwgIHRpbWU6RGF0ZS4gbm93KCl9OwogICAgdHJhbnNhY3Rpb24gPSBKU09OLnN0cmluZ2lmeSh0cmFuc2FjdGlvbik7CiAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICBjb25zb2xlLmxvZyh0cmFuc2FjdGlvbik7CiAgICBxci5hZGREYXRhKHRoaXMuJGVuY3J5cHRvci5lbmNyeXB0KEpTT04uc3RyaW5naWZ5KHRyYW5zYWN0aW9uKSkpOwogICAgcXIubWFrZSgpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYWNlSG9sZGVyJykuaW5uZXJIVE1MID0gcXIuY3JlYXRlSW1nVGFnKCk7Ki8KICB9LAogIG1ldGhvZHM6IHsKICAgICBJc0pzb25TdHJpbmcoc3RyKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgICBjb25zb2xlLmxvZyhzdHIpOwogICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0sCiAgICBvbkRlY29kZSAoZGVjb2RlZFN0cmluZykgewogICAgICBpZihkZWNvZGVkU3RyaW5nKXsKICAgICAgICAvL3RoaXMuJHJvdXRlci5wdXNoKCdXYWxsZXQnKQogICAgICAgIC8vdmFyIGRlY3J5cHRlZCA9IHRoaXMuJGVuY3J5cHRvci5kZWNyeXB0KGRlY29kZWRTdHJpbmcpOwogICAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgZGVjb2RlZFN0cmluZyA9IHRoaXMuSXNKc29uU3RyaW5nKGRlY29kZWRTdHJpbmcpOwogICAgICAgIAogICAgICAgIGxldCByb3V0ZXIgPSB0aGlzLiRyb3V0ZXI7CiAgICAgICAgbGV0IGRiID0gdGhpcy4kc3RvcmUuc3RhdGUuZGI7CiAgICAgICAgaWYodHlwZW9mIGRlY29kZWRTdHJpbmcgPT09ICdvYmplY3QnKXsKICAgICAgICAgIC8vVFJBTlNGRVIKICAgICAgICAgIGlmKHR5cGVvZiBkZWNvZGVkU3RyaW5nLnRva2VucyAhPT0gJ3VuZGVmaW5lZCcpewogICAgICAgICAgICAvL2FsZXJ0KCdHZXQgeW91ciAnK2RlY29kZWRTdHJpbmcudG9rZW5zKycgdG9rZW5zIGZyb20gJytkZWNvZGVkU3RyaW5nLmZyb21pZCsnICEnKTsKICAgICAgICAgICAgLy9hZGQgb3duZXIgb2YgdHJhbnNhY3Rpb24KICAgICAgICAgICAgZGVjb2RlZFN0cmluZy51aWQgPSB0aGlzLiRmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkOwogICAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgICBsZXQgZ2V0VXNlckRvY1JlZiA9IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKHRoaXMuJGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci51aWQpOwogICAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgICBsZXQgZ2V0VHJhbnNmZXJVc2VyRG9jUmVmID0gZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2MoZGVjb2RlZFN0cmluZy5mcm9taWQudG9TdHJpbmcoKSk7CiAgICAgICAgICAgIC8vbWFrZSBzdXJlIHdlIGdldCBhIG51bWJlciBvZiB0b2tlbnMKICAgICAgICAgICAgZGVjb2RlZFN0cmluZy50b2tlbnMgPSBwYXJzZUludChkZWNvZGVkU3RyaW5nLnRva2Vucyk7CiAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oInRyYW5zYWN0aW9ucyIpLmFkZChkZWNvZGVkU3RyaW5nKQogICAgICAgICAgICAudGhlbihmdW5jdGlvbihkb2NSZWYpIHsKICAgICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlRyYW5zYWN0aW9uIHdyaXR0ZW4gd2l0aCBJRDogIiwgZG9jUmVmLmlkKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy9ydW4gT1dORVIgVVNFUiB0cmFuc2FjdGlvbgogICAgICAgICAgICAgICAgcmV0dXJuIGRiLnJ1blRyYW5zYWN0aW9uKGZ1bmN0aW9uKHRyYW5zYWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjb2RlIG1heSBnZXQgcmUtcnVuIG11bHRpcGxlIHRpbWVzIGlmIHRoZXJlIGFyZSBjb25mbGljdHMuCiAgICAgICAgICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb24uZ2V0KGdldFVzZXJEb2NSZWYpLnRoZW4oZnVuY3Rpb24oZ2V0VXNlckRvYykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWdldFVzZXJEb2MuZXhpc3RzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAiRG9jdW1lbnQgZG9lcyBub3QgZXhpc3QhIjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VG9rZW5zID0gZ2V0VXNlckRvYy5kYXRhKCkudG9rZW5zICsgZGVjb2RlZFN0cmluZy50b2tlbnM7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLnVwZGF0ZShnZXRVc2VyRG9jUmVmLCB7IHRva2VuczogbmV3VG9rZW5zIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidXNlciAiK2dldFVzZXJEb2MuaWQrIiBnb3QgIituZXdUb2tlbnMrIiB0b2tlbnMiKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkdldCB1c2VyIHRyYW5zYWN0aW9uIHN1Y2Nlc3NmdWxseSBjb21taXR0ZWQhIik7CiAgICAgICAgICAgICAgICAgICAgIC8vcnVuIFRSQU5TRkVSIFVTRVIgdHJhbnNhY3Rpb24KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGIucnVuVHJhbnNhY3Rpb24oZnVuY3Rpb24odHJhbnNhY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjb2RlIG1heSBnZXQgcmUtcnVuIG11bHRpcGxlIHRpbWVzIGlmIHRoZXJlIGFyZSBjb25mbGljdHMuCiAgICAgICAgICAgICAgICAgICAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbi5nZXQoZ2V0VHJhbnNmZXJVc2VyRG9jUmVmKS50aGVuKGZ1bmN0aW9uKGdldFRyYW5zZmVyVXNlckRvYykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXRUcmFuc2ZlclVzZXJEb2MuZXhpc3RzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgIkRvY3VtZW50IGRvZXMgbm90IGV4aXN0ISI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VG9rZW5zID0gZ2V0VHJhbnNmZXJVc2VyRG9jLmRhdGEoKS50b2tlbnMgLSBkZWNvZGVkU3RyaW5nLnRva2VuczsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi51cGRhdGUoZ2V0VHJhbnNmZXJVc2VyRG9jUmVmLCB7IHRva2VuczogbmV3VG9rZW5zIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInVzZXIgIitnZXRUcmFuc2ZlclVzZXJEb2MuaWQrIiB0cmFuc2ZlcnJlZCAiK25ld1Rva2VucysiIHRva2VucyIpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVHJhbnNmZXIgdXNlciB0cmFuc2FjdGlvbiBzdWNjZXNzZnVsbHkgY29tbWl0dGVkISIpOwogICAgICAgICAgICAgICAgICAgICAgICAvL3J1biB0cmFuc2FjdGlvbiBmb3IgdHJhbnNmZXIgdXNlcgogICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7cGF0aDond2FsbGV0JywgbmFtZTonV2FsbGV0JywgcGFyYW1zOnsndHJhbnNmZXJyZWQnOmRlY29kZWRTdHJpbmcudG9rZW5zfX0pOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUcmFuc2FjdGlvbiBmYWlsZWQ6ICIsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlRyYW5zYWN0aW9uIGZhaWxlZDogIiwgZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGFkZGluZyBkb2N1bWVudDogIiwgZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAvL1JFQ1lDTEUgdHJhbnNhY3Rpb24gCiAgICAgICAgICB9IGVsc2UgaWYodHlwZW9mIGRlY29kZWRTdHJpbmcuY291bnQgIT09J3VuZGVmaW5lZCcpewogICAgICAgICAgICAvL2xldCByZWN5Y2xlVGltZSA9IG5ldyBEYXRlKGRlY29kZWRTdHJpbmcudGltZSk7CiAgICAgICAgICAgIC8vIGFsZXJ0KCdUaGFua3MgZm9yICcrZGVjb2RlZFN0cmluZy5jb3VudCsnICcrcmVjeWNsZVRpbWUuZ2V0RGF0ZSgpKycgJysocmVjeWNsZVRpbWUuZ2V0TW9udGgoKSsxKSsnICcrcmVjeWNsZVRpbWUuZ2V0RnVsbFllYXIoKSk7CiAgICAgICAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICAgIGxldCBnZXRVc2VyRG9jUmVmID0gZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModGhpcy4kZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVpZCk7CiAgICAgICAgICAgIC8vYWRkIG93bmVyIG9mIHRyYW5zYWN0aW9uCiAgICAgICAgICAgIGRlY29kZWRTdHJpbmcudWlkID0gdGhpcy4kZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVpZDsKICAgICAgICAgICAgLy9jYWxjIHJhdGVzCiAgICAgICAgICAgIGRlY29kZWRTdHJpbmcudG9rZW5zID0gdGhpcy4kcmF0ZSpkZWNvZGVkU3RyaW5nLmNvdW50OwogICAgICAgICAgICBkZWNvZGVkU3RyaW5nLnJhdGUgPSB0aGlzLiRyYXRlOwogICAgICAgICAgICAvL2NhbGMgYm9udXNlcwogICAgICAgICAgICBkZWNvZGVkU3RyaW5nLmJvbnVzID0gdGhpcy4kYm9udXNSYXRlKmRlY29kZWRTdHJpbmcuY291bnQ7CiAgICAgICAgICAgIGRlY29kZWRTdHJpbmcuYm9udXNSYXRlID0gdGhpcy4kYm9udXNSYXRlOwogICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJ0cmFuc2FjdGlvbnMiKS5hZGQoZGVjb2RlZFN0cmluZykKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZG9jUmVmKSB7CiAgICAgICAgICAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUcmFuc2FjdGlvbiB3cml0dGVuIHdpdGggSUQ6ICIsIGRvY1JlZi5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAvL3J1biBUUkFOU0ZFUiBVU0VSIHRyYW5zYWN0aW9uCiAgICAgICAgICAgICAgICByZXR1cm4gZGIucnVuVHJhbnNhY3Rpb24oZnVuY3Rpb24odHJhbnNhY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNvZGUgbWF5IGdldCByZS1ydW4gbXVsdGlwbGUgdGltZXMgaWYgdGhlcmUgYXJlIGNvbmZsaWN0cy4KICAgICAgICAgICAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbi5nZXQoZ2V0VXNlckRvY1JlZikudGhlbihmdW5jdGlvbihnZXRVc2VyRG9jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZ2V0VXNlckRvYy5leGlzdHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICJEb2N1bWVudCBkb2VzIG5vdCBleGlzdCEiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdUb2tlbnMgPSBnZXRVc2VyRG9jLmRhdGEoKS50b2tlbnMgKyBkZWNvZGVkU3RyaW5nLnRva2VuczsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JvbnVzID0gZ2V0VXNlckRvYy5kYXRhKCkuYm9udXMgKyBkZWNvZGVkU3RyaW5nLmJvbnVzOwogICAgICAgICAgICAgICAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi51cGRhdGUoZ2V0VXNlckRvY1JlZiwgeyB0b2tlbnM6IG5ld1Rva2VucywgYm9udXM6IG5ld0JvbnVzfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1c2VyICIrZ2V0VXNlckRvYy5pZCsiIHJlY3ljbGVkIGZvciB0aGUgYW1vdW50IG9mICIrbmV3VG9rZW5zKyIgdG9rZW5zIik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZWN5Y2xpbmcgdXNlciB0cmFuc2FjdGlvbiBzdWNjZXNzZnVsbHkgY29tbWl0dGVkISIpOwogICAgICAgICAgICAgICAgICAgIC8vcnVuIHRyYW5zYWN0aW9uIGZvciB0cmFuc2ZlciB1c2VyCiAgICAgICAgICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7cGF0aDond2FsbGV0JywgbmFtZTonV2FsbGV0JywgcGFyYW1zOnsndHJhbnNmZXJyZWQnOmRlY29kZWRTdHJpbmcudG9rZW5zfX0pOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVHJhbnNhY3Rpb24gZmFpbGVkOiAiLCBlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgYWRkaW5nIGRvY3VtZW50OiAiLCBlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoJ1FSIGVycm9yJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCdRUiBlcnJvcicpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["qr.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"qr.vue","sourceRoot":"src/components","sourcesContent":["/* eslint-disable */\n<template>\n  <v-container>\n    <v-layout\n      text-center\n      wrap\n    >\n      <v-flex xs12>\n        <v-img\n          :src=\"require('../assets/logo.png')\"\n          class=\"my-3\"\n          contain\n          height=\"60\"\n        ></v-img>\n      </v-flex>\n\n      <v-flex mb-4>\n        <div v-if=\"qrseen\">\n          <v-alert color=\"orange lighten-2\" style=\"padding-top:7px\"><v-icon>mdi-qrcode-scan</v-icon>Наведіть на екран на контейнері для автоматичного сканування</v-alert>\n          <qrcode-stream @decode=\"onDecode\" height=\"100\"></qrcode-stream>\n        </div>\n        <v-btn v-if=\"!qrseen\" v-on:click=\"qrseen = !qrseen\" x-large color=\"success\" dark>Сканувати QR-код</v-btn>\n        </v-flex>\n     </v-layout>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    qrseen:false\n  }),\n  mounted (){\n    /*var qr = this.$qrcode(0, 'H');\n    var transaction = {binid:1, count:1,  time:Date. now()};\n    var transfer = {fromid:1, tokens:1,  time:Date. now()};\n    transaction = JSON.stringify(transaction);\n    //eslint-disable-next-line no-console\n    console.log(transaction);\n    qr.addData(this.$encryptor.encrypt(JSON.stringify(transaction)));\n    qr.make();\n    document.getElementById('placeHolder').innerHTML = qr.createImgTag();*/\n  },\n  methods: {\n     IsJsonString(str) {\n        try {\n           //eslint-disable-next-line\n            console.log(str);\n            return JSON.parse(str);\n        } catch (e) {\n            return false;\n        }\n    },\n    onDecode (decodedString) {\n      if(decodedString){\n        //this.$router.push('Wallet')\n        //var decrypted = this.$encryptor.decrypt(decodedString);\n        //eslint-disable-next-line\n        decodedString = this.IsJsonString(decodedString);\n        \n        let router = this.$router;\n        let db = this.$store.state.db;\n        if(typeof decodedString === 'object'){\n          //TRANSFER\n          if(typeof decodedString.tokens !== 'undefined'){\n            //alert('Get your '+decodedString.tokens+' tokens from '+decodedString.fromid+' !');\n            //add owner of transaction\n            decodedString.uid = this.$firebase.auth().currentUser.uid;\n            //eslint-disable-next-line\n            let getUserDocRef = db.collection('users').doc(this.$firebase.auth().currentUser.uid);\n            //eslint-disable-next-line\n            let getTransferUserDocRef = db.collection('users').doc(decodedString.fromid.toString());\n            //make sure we get a number of tokens\n            decodedString.tokens = parseInt(decodedString.tokens);\n            db.collection(\"transactions\").add(decodedString)\n            .then(function(docRef) {\n               //eslint-disable-next-line no-console\n                console.log(\"Transaction written with ID: \", docRef.id);\n                \n                //run OWNER USER transaction\n                return db.runTransaction(function(transaction) {\n                    // This code may get re-run multiple times if there are conflicts.\n                    //eslint-disable-next-line\n                    return transaction.get(getUserDocRef).then(function(getUserDoc) {\n                        if (!getUserDoc.exists) {\n                            throw \"Document does not exist!\";\n                        }\n                        var newTokens = getUserDoc.data().tokens + decodedString.tokens;\n                        //eslint-disable-next-line\n                        transaction.update(getUserDocRef, { tokens: newTokens });\n                        console.log(\"user \"+getUserDoc.id+\" got \"+newTokens+\" tokens\");\n                    });\n                }).then(function() {\n                    console.log(\"Get user transaction successfully committed!\");\n                     //run TRANSFER USER transaction\n                    return db.runTransaction(function(transaction) {\n                        // This code may get re-run multiple times if there are conflicts.\n                        //eslint-disable-next-line\n                        return transaction.get(getTransferUserDocRef).then(function(getTransferUserDoc) {\n                            if (!getTransferUserDoc.exists) {\n                                throw \"Document does not exist!\";\n                            }\n                            var newTokens = getTransferUserDoc.data().tokens - decodedString.tokens;\n                            //eslint-disable-next-line\n                            transaction.update(getTransferUserDocRef, { tokens: newTokens });\n                            console.log(\"user \"+getTransferUserDoc.id+\" transferred \"+newTokens+\" tokens\");\n                        });\n                    }).then(function() {\n                        console.log(\"Transfer user transaction successfully committed!\");\n                        //run transaction for transfer user\n                        router.push({path:'wallet', name:'Wallet', params:{'transferred':decodedString.tokens}});\n                    }).catch(function(error) {\n                        console.log(\"Transaction failed: \", error);\n                    });\n                }).catch(function(error) {\n                    console.log(\"Transaction failed: \", error);\n                });\n            })\n            .catch(function(error) {\n              //eslint-disable-next-line no-console\n                console.error(\"Error adding document: \", error);\n            });\n           //RECYCLE transaction \n          } else if(typeof decodedString.count !=='undefined'){\n            //let recycleTime = new Date(decodedString.time);\n            // alert('Thanks for '+decodedString.count+' '+recycleTime.getDate()+' '+(recycleTime.getMonth()+1)+' '+recycleTime.getFullYear());\n            //eslint-disable-next-line\n            let getUserDocRef = db.collection('users').doc(this.$firebase.auth().currentUser.uid);\n            //add owner of transaction\n            decodedString.uid = this.$firebase.auth().currentUser.uid;\n            //calc rates\n            decodedString.tokens = this.$rate*decodedString.count;\n            decodedString.rate = this.$rate;\n            //calc bonuses\n            decodedString.bonus = this.$bonusRate*decodedString.count;\n            decodedString.bonusRate = this.$bonusRate;\n            db.collection(\"transactions\").add(decodedString)\n            .then(function(docRef) {\n               //eslint-disable-next-line no-console\n                console.log(\"Transaction written with ID: \", docRef.id);\n                      //run TRANSFER USER transaction\n                return db.runTransaction(function(transaction) {\n                    // This code may get re-run multiple times if there are conflicts.\n                    //eslint-disable-next-line\n                    return transaction.get(getUserDocRef).then(function(getUserDoc) {\n                        if (!getUserDoc.exists) {\n                            throw \"Document does not exist!\";\n                        }\n                        var newTokens = getUserDoc.data().tokens + decodedString.tokens;\n                        var newBonus = getUserDoc.data().bonus + decodedString.bonus;\n                        //eslint-disable-next-line\n                        transaction.update(getUserDocRef, { tokens: newTokens, bonus: newBonus});\n                        console.log(\"user \"+getUserDoc.id+\" recycled for the amount of \"+newTokens+\" tokens\");\n                    });\n                }).then(function() {\n                    console.log(\"Recycling user transaction successfully committed!\");\n                    //run transaction for transfer user\n                    //eslint-disable-next-line\n                    router.push({path:'wallet', name:'Wallet', params:{'transferred':decodedString.tokens}});\n                }).catch(function(error) {\n                    console.log(\"Transaction failed: \", error);\n                });\n            })\n            .catch(function(error) {\n              //eslint-disable-next-line no-console\n                console.error(\"Error adding document: \", error);\n            });\n          } else {\n            alert('QR error');\n          }\n        } else {\n          alert('QR error');\n        }\n      }\n    }\n  }\n};\n</script>\n"]}]}