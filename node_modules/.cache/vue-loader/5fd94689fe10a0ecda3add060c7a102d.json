{"remainingRequest":"C:\\apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\apps\\beeko2\\src\\components\\deals.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\apps\\beeko2\\src\\components\\deals.vue","mtime":1614116186746},{"path":"C:\\apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240334000},{"path":"C:\\apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCWRhdGE6ICgpID0+ICh7CgkJZGVhbHM6W10sCgkJcGNzOnsncGNzJzon0YjRgicsJ2tnJzon0LrQsyd9LAoJCXJhdzpbXQoJfSksCglhc3luYyBjcmVhdGVkKCl7CgkJLy9sZXQgZ2V0RGVhbHMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kYi5jb2xsZWN0aW9uKCd0cmFuc2FjdGlvbnMnKTsKCQlsZXQgc3RhcnREYXRlID0gbmV3IERhdGUoJzIwMjEtMDItMjAnKTsKCQlsZXQgdXNlclRyYW5zYWN0aW9ucyA9IGF3YWl0IHRoaXMuJHN0b3JlLnN0YXRlLmRiLmNvbGxlY3Rpb24oJ3RyYW5zYWN0aW9ucycpLndoZXJlKCdkYXRlJywnPicsc3RhcnREYXRlKS5vcmRlckJ5KCdkYXRlJywgJ2Rlc2MnKS5saW1pdCgyKS5nZXQoKTsKCQl1c2VyVHJhbnNhY3Rpb25zLmZvckVhY2goYXN5bmModGgpID0+IHsKCQkvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCgkJYXdhaXQgdGhpcy4kc3RvcmUuc3RhdGUuZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModGguZGF0YSgpLnVpZCkuZ2V0KCkKCQkJLnRoZW4oKGRvY1NuYXBzaG90KSA9PiB7CgkJCQlpZiAoZG9jU25hcHNob3QuZXhpc3RzKSB7CgkJCQkJYWxlcnQoZG9jc25hcHNob3QuZGF0YSgpLmVtYWlsKTsKCQkJCX0gZWxzZSB7CgkJCQkJdGhpcy5kZWFscy5wdXNoKHsKCQkJCQkJJ2VtYWlsJzp0aC5kYXRhKCkudWlkLCAKCQkJCQkJJ3Rva2Vucyc6dGguZGF0YSgpLnRva2VucywgCgkJCQkJCSdwZXQnOnRoLmRhdGEoKS5yYXdNYXRlcmlhbHNbMF0sCgkJCQkJCSdoZHBlJzp0aC5kYXRhKCkucmF3TWF0ZXJpYWxzWzFdLAoJCQkJCQknZ2xhc3MnOnRoLmRhdGEoKS5yYXdNYXRlcmlhbHNbMl0sCgkJCQkJCSdjYXJ0b24nOnRoLmRhdGEoKS5yYXdNYXRlcmlhbHNbM10sCgkJCQkJCSdtZXRhbGwnOnRoLmRhdGEoKS5yYXdNYXRlcmlhbHNbNF0sCgkJCQkJCSdhbHVtaW5pdW0nOnRoLmRhdGEoKS5yYXdNYXRlcmlhbHNbNV0sCgkJCQkJCSdkYXRlJzpuZXcgRGF0ZSh0aC5kYXRhKCkuZGF0ZS5zZWNvbmRzICogMTAwMCkKCQkJCQl9KQoJCQkJfQoJCQl9KTsKCQl9KTsKICAgIH0sCgltZXRob2RzOiB7CQkKCX0sCn07Cg=="},{"version":3,"sources":["deals.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"deals.vue","sourceRoot":"src/components","sourcesContent":["/* eslint-disable */\n<template>\n\t<v-container>\n\t\t<v-layout text-center wrap id=\"deals-list\">\n\t\t\t<v-flex>\n\t\t\t\t<h1 class=\"headline\" style=\"color:orange\">Трансакції</h1>\t\n\t\t\t\t<v-card class=\"deal-item text-center\" v-for=\"deal in deals\" :key=\"deal.id\" max-width=\"400\">\n\t\t\t\t\t<v-row>{{deal.date.getDate()}}/{{(deal.date.getMonth()+1)}}/{{deal.date.getFullYear()}} {{deal.date.getHours()}}:{{String(deal.date.getMinutes()).padStart(2, \"0\")}}</v-row>\n\t\t\t\t\t<v-row>Нараховано зелених:<strong>{{deal.tokens}}</strong></v-row>\n\t\t\t\t\t<v-row>користувачу: <strong>{{deal.email}}</strong></v-row>\n\t\t\t\t\t<v-row v-if=\"deal.pet['value']\">\n\t\t\t\t\t\tPet-пляшка: {{deal.pet['value']}} {{pcs[deal.pet['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t\t<v-row v-if=\"deal.hdpe['value']\">\n\t\t\t\t\t\tHDPE: {{deal.hdpe['value']}} {{pcs[deal.hdpe['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t\t<v-row v-if=\"deal.glass['value']\">\n\t\t\t\t\t\tСкло: {{deal.glass['value']}} {{pcs[deal.glass['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t\t<v-row v-if=\"deal.carton['value']\">\n\t\t\t\t\t\tКартон: {{deal.carton['value']}} {{pcs[deal.carton['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t\t<v-row v-if=\"deal.metall['value']\">\n\t\t\t\t\t\tМетал: {{deal.metall['value']}} {{pcs[deal.metall['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t\t<v-row v-if=\"deal.aluminium['value']\">\n\t\t\t\t\t\tАлюміній: {{deal.aluminium['value']}} {{pcs[deal.aluminium['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t</v-card>\n\t\t\t</v-flex>\n\t\t</v-layout>\n\t</v-container>\n</template>\n\n<script>\nexport default {\n\tdata: () => ({\n\t\tdeals:[],\n\t\tpcs:{'pcs':'шт','kg':'кг'},\n\t\traw:[]\n\t}),\n\tasync created(){\n\t\t//let getDeals = this.$store.state.db.collection('transactions');\n\t\tlet startDate = new Date('2021-02-20');\n\t\tlet userTransactions = await this.$store.state.db.collection('transactions').where('date','>',startDate).orderBy('date', 'desc').limit(2).get();\n\t\tuserTransactions.forEach(async(th) => {\n\t\t//eslint-disable-next-line no-console\n\t\tawait this.$store.state.db.collection('users').doc(th.data().uid).get()\n\t\t\t.then((docSnapshot) => {\n\t\t\t\tif (docSnapshot.exists) {\n\t\t\t\t\talert(docsnapshot.data().email);\n\t\t\t\t} else {\n\t\t\t\t\tthis.deals.push({\n\t\t\t\t\t\t'email':th.data().uid, \n\t\t\t\t\t\t'tokens':th.data().tokens, \n\t\t\t\t\t\t'pet':th.data().rawMaterials[0],\n\t\t\t\t\t\t'hdpe':th.data().rawMaterials[1],\n\t\t\t\t\t\t'glass':th.data().rawMaterials[2],\n\t\t\t\t\t\t'carton':th.data().rawMaterials[3],\n\t\t\t\t\t\t'metall':th.data().rawMaterials[4],\n\t\t\t\t\t\t'aluminium':th.data().rawMaterials[5],\n\t\t\t\t\t\t'date':new Date(th.data().date.seconds * 1000)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t});\n    },\n\tmethods: {\t\t\n\t},\n};\n</script>"]}]}