{"remainingRequest":"C:\\apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\apps\\beeko2\\src\\components\\deals.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\apps\\beeko2\\src\\components\\deals.vue","mtime":1614116257024},{"path":"C:\\apps\\beeko2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1567240334000},{"path":"C:\\apps\\beeko2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\apps\\beeko2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCWRhdGE6ICgpID0+ICh7CgkJZGVhbHM6W10sCgkJcGNzOnsncGNzJzon0YjRgicsJ2tnJzon0LrQsyd9LAoJCXJhdzpbXQoJfSksCglhc3luYyBjcmVhdGVkKCl7CgkJLy9sZXQgZ2V0RGVhbHMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kYi5jb2xsZWN0aW9uKCd0cmFuc2FjdGlvbnMnKTsKCQlsZXQgc3RhcnREYXRlID0gbmV3IERhdGUoJzIwMjEtMDItMjAnKTsKCQlsZXQgdXNlclRyYW5zYWN0aW9ucyA9IGF3YWl0IHRoaXMuJHN0b3JlLnN0YXRlLmRiLmNvbGxlY3Rpb24oJ3RyYW5zYWN0aW9ucycpLndoZXJlKCdkYXRlJywnPicsc3RhcnREYXRlKS5vcmRlckJ5KCdkYXRlJywgJ2Rlc2MnKS5nZXQoKTsKCQl1c2VyVHJhbnNhY3Rpb25zLmZvckVhY2goYXN5bmModGgpID0+IHsKCQkvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCgkJYXdhaXQgdGhpcy4kc3RvcmUuc3RhdGUuZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModGguZGF0YSgpLnVpZCkuZ2V0KCkKCQkJLnRoZW4oKGRvY1NuYXBzaG90KSA9PiB7CgkJCQlpZiAoZG9jU25hcHNob3QuZXhpc3RzKSB7CgkJCQkJdGhpcy5kZWFscy5wdXNoKHsKCQkJCQkJJ2VtYWlsJzpkb2NTbmFwc2hvdC5kYXRhKCkuZW1haWwsIAoJCQkJCQkndG9rZW5zJzp0aC5kYXRhKCkudG9rZW5zLCAKCQkJCQkJJ3BldCc6dGguZGF0YSgpLnJhd01hdGVyaWFsc1swXSwKCQkJCQkJJ2hkcGUnOnRoLmRhdGEoKS5yYXdNYXRlcmlhbHNbMV0sCgkJCQkJCSdnbGFzcyc6dGguZGF0YSgpLnJhd01hdGVyaWFsc1syXSwKCQkJCQkJJ2NhcnRvbic6dGguZGF0YSgpLnJhd01hdGVyaWFsc1szXSwKCQkJCQkJJ21ldGFsbCc6dGguZGF0YSgpLnJhd01hdGVyaWFsc1s0XSwKCQkJCQkJJ2FsdW1pbml1bSc6dGguZGF0YSgpLnJhd01hdGVyaWFsc1s1XSwKCQkJCQkJJ2RhdGUnOm5ldyBEYXRlKHRoLmRhdGEoKS5kYXRlLnNlY29uZHMgKiAxMDAwKQoJCQkJCX0pCgkJCQl9IGVsc2UgewoJCQkJCXRoaXMuZGVhbHMucHVzaCh7CgkJCQkJCSdlbWFpbCc6dGguZGF0YSgpLnVpZCwgCgkJCQkJCSd0b2tlbnMnOnRoLmRhdGEoKS50b2tlbnMsIAoJCQkJCQkncGV0Jzp0aC5kYXRhKCkucmF3TWF0ZXJpYWxzWzBdLAoJCQkJCQknaGRwZSc6dGguZGF0YSgpLnJhd01hdGVyaWFsc1sxXSwKCQkJCQkJJ2dsYXNzJzp0aC5kYXRhKCkucmF3TWF0ZXJpYWxzWzJdLAoJCQkJCQknY2FydG9uJzp0aC5kYXRhKCkucmF3TWF0ZXJpYWxzWzNdLAoJCQkJCQknbWV0YWxsJzp0aC5kYXRhKCkucmF3TWF0ZXJpYWxzWzRdLAoJCQkJCQknYWx1bWluaXVtJzp0aC5kYXRhKCkucmF3TWF0ZXJpYWxzWzVdLAoJCQkJCQknZGF0ZSc6bmV3IERhdGUodGguZGF0YSgpLmRhdGUuc2Vjb25kcyAqIDEwMDApCgkJCQkJfSkKCQkJCX0KCQkJfSk7CgkJfSk7CiAgICB9LAoJbWV0aG9kczogewkJCgl9LAp9Owo="},{"version":3,"sources":["deals.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"deals.vue","sourceRoot":"src/components","sourcesContent":["/* eslint-disable */\n<template>\n\t<v-container>\n\t\t<v-layout text-center wrap id=\"deals-list\">\n\t\t\t<v-flex>\n\t\t\t\t<h1 class=\"headline\" style=\"color:orange\">Трансакції</h1>\t\n\t\t\t\t<v-card class=\"deal-item text-center\" v-for=\"deal in deals\" :key=\"deal.id\" max-width=\"400\">\n\t\t\t\t\t<v-row>{{deal.date.getDate()}}/{{(deal.date.getMonth()+1)}}/{{deal.date.getFullYear()}} {{deal.date.getHours()}}:{{String(deal.date.getMinutes()).padStart(2, \"0\")}}</v-row>\n\t\t\t\t\t<v-row>Нараховано зелених:<strong>{{deal.tokens}}</strong></v-row>\n\t\t\t\t\t<v-row>користувачу: <strong>{{deal.email}}</strong></v-row>\n\t\t\t\t\t<v-row v-if=\"deal.pet['value']\">\n\t\t\t\t\t\tPet-пляшка: {{deal.pet['value']}} {{pcs[deal.pet['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t\t<v-row v-if=\"deal.hdpe['value']\">\n\t\t\t\t\t\tHDPE: {{deal.hdpe['value']}} {{pcs[deal.hdpe['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t\t<v-row v-if=\"deal.glass['value']\">\n\t\t\t\t\t\tСкло: {{deal.glass['value']}} {{pcs[deal.glass['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t\t<v-row v-if=\"deal.carton['value']\">\n\t\t\t\t\t\tКартон: {{deal.carton['value']}} {{pcs[deal.carton['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t\t<v-row v-if=\"deal.metall['value']\">\n\t\t\t\t\t\tМетал: {{deal.metall['value']}} {{pcs[deal.metall['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t\t<v-row v-if=\"deal.aluminium['value']\">\n\t\t\t\t\t\tАлюміній: {{deal.aluminium['value']}} {{pcs[deal.aluminium['pcs']]}}\n\t\t\t\t\t</v-row>\n\t\t\t\t</v-card>\n\t\t\t</v-flex>\n\t\t</v-layout>\n\t</v-container>\n</template>\n\n<script>\nexport default {\n\tdata: () => ({\n\t\tdeals:[],\n\t\tpcs:{'pcs':'шт','kg':'кг'},\n\t\traw:[]\n\t}),\n\tasync created(){\n\t\t//let getDeals = this.$store.state.db.collection('transactions');\n\t\tlet startDate = new Date('2021-02-20');\n\t\tlet userTransactions = await this.$store.state.db.collection('transactions').where('date','>',startDate).orderBy('date', 'desc').get();\n\t\tuserTransactions.forEach(async(th) => {\n\t\t//eslint-disable-next-line no-console\n\t\tawait this.$store.state.db.collection('users').doc(th.data().uid).get()\n\t\t\t.then((docSnapshot) => {\n\t\t\t\tif (docSnapshot.exists) {\n\t\t\t\t\tthis.deals.push({\n\t\t\t\t\t\t'email':docSnapshot.data().email, \n\t\t\t\t\t\t'tokens':th.data().tokens, \n\t\t\t\t\t\t'pet':th.data().rawMaterials[0],\n\t\t\t\t\t\t'hdpe':th.data().rawMaterials[1],\n\t\t\t\t\t\t'glass':th.data().rawMaterials[2],\n\t\t\t\t\t\t'carton':th.data().rawMaterials[3],\n\t\t\t\t\t\t'metall':th.data().rawMaterials[4],\n\t\t\t\t\t\t'aluminium':th.data().rawMaterials[5],\n\t\t\t\t\t\t'date':new Date(th.data().date.seconds * 1000)\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.deals.push({\n\t\t\t\t\t\t'email':th.data().uid, \n\t\t\t\t\t\t'tokens':th.data().tokens, \n\t\t\t\t\t\t'pet':th.data().rawMaterials[0],\n\t\t\t\t\t\t'hdpe':th.data().rawMaterials[1],\n\t\t\t\t\t\t'glass':th.data().rawMaterials[2],\n\t\t\t\t\t\t'carton':th.data().rawMaterials[3],\n\t\t\t\t\t\t'metall':th.data().rawMaterials[4],\n\t\t\t\t\t\t'aluminium':th.data().rawMaterials[5],\n\t\t\t\t\t\t'date':new Date(th.data().date.seconds * 1000)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t});\n    },\n\tmethods: {\t\t\n\t},\n};\n</script>"]}]}