(function(t){function e(e){for(var n,s,i=e[0],c=e[1],l=e[2],u=0,v=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&v.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(v.length)v.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"09ed":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{"text-center":"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"headline",staticStyle:{color:"orange"}},[t._v(" Рейтинг еко-чемпіонів ")]),a("div",{attrs:{color:"#07C01A"}},[t._v(" Заробляй "),a("v-icon",{attrs:{color:"orange",small:""}},[t._v("mdi-star")]),t._v("бонуси щодня, завдяки активним діям і отримай "),a("br"),a("v-icon",{attrs:{color:"green"}},[t._v("mdi-medal")]),t._v(" "),a("span",{staticClass:"headline"},[t._v("статус eco-чемпіона!")]),a("div",{staticStyle:{border:"2px solid green",width:"200px",margin:"6px auto",background:"#E9F6EA"}},[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-bottle-soda-classic")]),a("v-icon",{attrs:{color:"green"}},[t._v("mdi-bottle-soda-classic")]),a("v-icon",{attrs:{color:"green"}},[t._v("mdi-bottle-soda-classic")]),a("v-icon",{attrs:{color:"green"}},[t._v("mdi-bottle-soda-classic")]),a("v-icon",{attrs:{color:"green"}},[t._v("mdi-bottle-soda-classic")]),a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-bottle-soda-classic")]),a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-bottle-soda-classic")])],1)],1),[a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[a("small",[t._v("Місце")])]),a("th",{staticClass:"text-left"},[a("small",[t._v("Ім`я")])]),a("th",{staticClass:"text-left"},[a("v-icon",{attrs:{small:"",color:"orange"}},[t._v("mdi-star")]),a("small",[t._v("Бонуси")])],1)])]),a("tbody",t._l(t.ratings,(function(e,n){return a("tr",{key:e.id},[a("td",{staticClass:"text-left",class:"place"+(n+1)},[a("v-chip",{attrs:{color:"transparent"}},[0==n?a("v-icon",{attrs:{color:"orange","x-small":""}},[t._v("mdi-medal")]):t._e(),n<3&&n>0?a("v-icon",{attrs:{color:"green","x-small":""}},[t._v("mdi-medal")]):t._e(),t._v(" "+t._s(n+1)+" ")],1)],1),a("td",{staticClass:"text-left",class:"place"+(n+1)},[a("v-chip",{attrs:{color:"transparent"}},[a("v-avatar",{attrs:{size:"32px"}},[e.avatar?a("v-img",{attrs:{src:e.avatar,width:"20"}}):a("v-icon",[t._v("mdi-face-profile")])],1),t._v(" "+t._s(e.name)+" ")],1)],1),a("td",{staticClass:"text-left",class:"place"+(n+1)},[t._v(t._s(e.bonus))])])})),0)]},proxy:!0}])})]],2)],1)],1)},r=[],o=(a("4160"),a("b0c0"),a("d3b7"),a("159b"),a("96cf"),{name:"foo",data:function(){return{ratings:[],recaptchaVerifier:"",confirmationResult:"",codeResult:""}},created:function(){var t,e=this;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(this.$store.state.db.collection("users").orderBy("bonus","desc").get());case 2:t=a.sent,t.forEach((function(t){return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:e.ratings.push({name:t.data().name,avatar:t.data().avatar,tokens:t.data().tokens,bonus:t.data().bonus});case 1:case"end":return a.stop()}}))}));case 4:case"end":return a.stop()}}),null,this)},mounted:function(){},methods:{}}),s=o,i=a("2877"),c=a("6544"),l=a.n(c),d=a("8212"),u=a("cc20"),v=a("a523"),f=a("0e8f"),m=a("132d"),p=a("adda"),h=a("a722"),g=a("1f4f"),b=Object(i["a"])(s,n,r,!1,null,null,null);e["a"]=b.exports;l()(b,{VAvatar:d["a"],VChip:u["a"],VContainer:v["a"],VFlex:f["a"],VIcon:m["a"],VImg:p["a"],VLayout:h["a"],VSimpleTable:g["a"]})},"09ee":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{"text-center":"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[[a("div",[a("h1",{staticClass:"headline",staticStyle:{color:"orange"}},[t._v("Мій профіль")]),a("v-btn",{staticClass:"mr-4",attrs:{absolute:"",top:"",right:"",small:"",id:"signOutBtn",color:"success",outlined:""},on:{click:t.signOut}},[a("v-icon",[t._v("mdi-arrow-right")])],1)],1),a("br"),t.signedup?a("div",{staticClass:"text-center"},[a("v-alert",{staticStyle:{"padding-top":"7px"},attrs:{color:"green lighten-2",height:"40"}},[t._v("Вітаємо у BeEco!")])],1):t._e(),t.$store.state.user.email?t._e():a("div",{staticClass:"text-center"},[a("v-alert",{staticStyle:{"padding-top":"7px"},attrs:{color:"orange lighten-2"}},[a("v-icon",[t._v("mdi-email")]),t._v("Вкажіть свій e-mail на випадок зміни номеру телефона")],1)],1),t.avatarUploaded?a("div",{staticClass:"text-center"},[a("v-alert",{staticStyle:{"padding-top":"7px"},attrs:{color:"green lighten-2",height:"40"}},[t._v("Аватар оновлено!")])],1):t._e(),t.$store.state.user.avatar?a("img",{attrs:{id:"profileAvatar",src:t.$store.state.user.avatar,width:"150"}}):a("img",{attrs:{id:"profileAvatar",src:"",width:"150"}}),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-file-input",{attrs:{outlined:"",id:"avatarUpload",label:"Загрузить аватар",accept:"image/*"},on:{change:function(e){return t.uploadAvatar(e)}}}),a("v-text-field",{attrs:{outlined:"",id:"userName",label:"Имя",rules:t.rules,required:""},on:{change:t.validateForm},model:{value:t.$store.state.user.name,callback:function(e){t.$set(t.$store.state.user,"name",e)},expression:"$store.state.user.name"}}),a("v-text-field",{attrs:{outlined:"",id:"userPhone",type:"number",label:"Телефон","thumb-label":"",rules:t.rules,required:""},on:{change:t.validateForm},model:{value:t.$store.state.user.phone,callback:function(e){t.$set(t.$store.state.user,"phone",e)},expression:"$store.state.user.phone"}}),a("v-text-field",{attrs:{outlined:"",id:"userEmail",label:"E-mail",rules:t.emailRules},on:{change:t.validateForm},model:{value:t.$store.state.user.email,callback:function(e){t.$set(t.$store.state.user,"email",e)},expression:"$store.state.user.email"}}),t.updated?a("div",{staticClass:"text-center"},[a("v-alert",{staticStyle:{"padding-top":"7px"},attrs:{color:"green lighten-2",height:"40"}},[t._v("Інформацію оновлено!")])],1):t._e(),a("v-btn",{staticClass:"mr-4",attrs:{id:"submitForm",disabled:!t.formIsValid,color:"success"},on:{click:t.saveInfo}},[t._v(" Зберегти ")])],1)]],2)],1)],1)},r=[],o={name:"Profile",data:function(){return{signedup:!1,avatarUploaded:!1,updated:!1,formIsValid:!1,valid:!0,rules:[function(t){return!!t||"Обов`язкове поле"}],emailRules:[function(t){return/.+@.+/.test(t)||"Невірний e-mail"}]}},mounted:function(){"undefined"!=typeof this.$route.params.signedup&&(this.signedup=this.$route.params.signedup)},methods:{validateForm:function(){this.$refs.form.validate()?this.formIsValid=!0:this.formIsValid=!1},uploadAvatar:function(t){var e=this.$store,a=this.$firebase,n=this;a.storage().ref().child("avatars/"+this.$firebase.auth().currentUser.uid).put(t).then((function(r){console.log("Uploaded a blob or file!"+r),r.ref.getDownloadURL().then((function(r){e.state.db.collection("users").doc(a.auth().currentUser.uid).update({avatar:r});var o=new FileReader;o.onload=function(t){document.getElementById("profileAvatar").src=t.target.result,n.avatarUploaded=!0,setTimeout((function(){n.avatarUploaded=!1}),3e3)},o.readAsDataURL(t)}))}))},saveInfo:function(){if(this.formIsValid){this.$store.state.db.collection("users").doc(this.$firebase.auth().currentUser.uid).update({name:document.getElementById("userName").value,email:document.getElementById("userEmail").value,phone:document.getElementById("userPhone").value}),this.updated=!0;var t=this.$router;setTimeout((function(){t.push({path:"qr",name:"Qr"})}),3e3)}else alert("Форма заповнена невірно!")},signOut:function(){if(confirm("Ви дійсно хочете вийти з додатку?")){var t=this;t.$firebase.auth().signOut().then((function(){t.$store.state.user=!1,t.$router.push({path:"signup",name:"Signup",params:{logout:1}})}))}}}},s=o,i=a("2877"),c=a("6544"),l=a.n(c),d=a("0798"),u=a("8336"),v=a("a523"),f=a("23a7"),m=a("0e8f"),p=a("4bd4"),h=a("132d"),g=a("a722"),b=a("8654"),y=Object(i["a"])(s,n,r,!1,null,null,null);e["a"]=y.exports;l()(y,{VAlert:d["a"],VBtn:u["a"],VContainer:v["a"],VFileInput:f["a"],VFlex:m["a"],VForm:p["a"],VIcon:h["a"],VLayout:g["a"],VTextField:b["a"]})},"0e10":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{"text-center":"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"headline",staticStyle:{color:"orange"}},[t._v(" Дошка оголошень ")]),a("v-btn",{attrs:{color:"green",dark:""},on:{click:function(e){return e.stopPropagation(),t.addPost(e)}}},[t._v(" Додати "),a("v-icon",{attrs:{right:""}},[t._v("mdi-plus")])],1),a("br"),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.connectDialog,callback:function(e){t.connectDialog=e},expression:"connectDialog"}},[a("v-card",[a("v-card-title",[t._v("Зв`язатись з продавцем")]),a("v-card-text",{staticClass:"text-center"},[a("v-btn",{attrs:{dark:"",color:"green"},on:{click:t.callUser}},[a("v-icon",[t._v("mdi-phone")]),t._v("Зателефонувати?")],1),a("br"),a("v-btn",[t._v("Лишити свій контакт")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.auctionDialog,callback:function(e){t.auctionDialog=e},expression:"auctionDialog"}},[a("v-card",[a("v-card-title",{attrs:{justify:"center"}},[t._v("Запропонувати ціну")]),a("v-card-text",{staticClass:"text-center"},[a("v-text-field",{attrs:{height:"15",outlined:"",id:"adAuctionPrice","append-outer-icon":"mdi-currency-usd-circle-outline"},on:{change:t.validateForm}}),a("v-btn",{attrs:{dark:"",color:"orange"}},[t._v("Зробити ставку")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"320"},model:{value:t.responseDialog,callback:function(e){t.responseDialog=e},expression:"responseDialog"}},[a("v-card",[a("v-card-title",{attrs:{justify:"center"}},[t._v("Зацікавлені покупці")]),a("v-card-text",{staticClass:"text-center"},[[a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",[a("tr",[a("td",{staticClass:"text-left"},[t._v("1")]),a("td",{staticClass:"text-left"},[t._v("Vasiliy")]),a("td",{staticClass:"text-left"},[a("v-chip",{attrs:{color:"transparent"}},[a("v-icon",{attrs:{color:"#07C01A",small:""}},[t._v("mdi-currency-usd-circle-outline")]),t._v("900 ")],1)],1),a("td",[a("v-btn",{attrs:{text:"",small:"",color:"green"}},[a("v-icon",[t._v("mdi-phone")])],1)],1)]),a("tr",[a("td",{staticClass:"text-left"},[t._v("2")]),a("td",{staticClass:"text-left"},[t._v("Alex")]),a("td",{staticClass:"text-left"},[a("v-chip",{attrs:{color:"transparent"}},[a("v-icon",{attrs:{color:"#07C01A",small:""}},[t._v("mdi-currency-usd-circle-outline")]),t._v("800 ")],1)],1),a("td",[a("v-btn",{attrs:{text:"",small:"",color:"green"}},[a("v-icon",[t._v("mdi-phone")])],1)],1)]),a("tr",[a("td",{staticClass:"text-left"},[t._v("3")]),a("td",{staticClass:"text-left"},[t._v("Sergey")]),a("td",{staticClass:"text-left"},[a("v-chip",{attrs:{color:"transparent"}},[a("v-icon",{attrs:{color:"#07C01A",small:""}},[t._v("mdi-currency-usd-circle-outline")]),t._v("650 ")],1)],1),a("td",[a("v-btn",{attrs:{text:"",small:"",color:"green"}},[a("v-icon",[t._v("mdi-phone")])],1)],1)])])]},proxy:!0}])})]],2)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.addPostDialog,callback:function(e){t.addPostDialog=e},expression:"addPostDialog"}},[a("v-card",[a("v-card-title",[t._v("Додати оголошення")]),a("v-card-text",[t.uploadedFile?a("img",{attrs:{src:"",width:"225",id:"previewImage"}}):t._e(),a("v-form",{ref:"form",attrs:{id:"adForm","lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-btn",{staticClass:"mr-4",attrs:{color:"success",id:"invokeUpload",outlined:""},on:{click:t.invokeUpload}},[t._v("Завантажити файл")]),a("v-file-input",{attrs:{height:"15",outlined:"",id:"imageUpload",label:"Завантажити фото"},on:{change:function(e){return t.previewPhoto(e)}}}),a("v-text-field",{attrs:{height:"15",outlined:"",id:"adTitle",label:"Назва оголошення",rules:t.adRules,required:""},on:{change:t.validateForm}}),a("v-textarea",{attrs:{outlined:"",id:"adText",label:"Додати опис",rules:t.adRules,required:""},on:{change:t.validateForm}}),a("v-text-field",{attrs:{height:"15",outlined:"",id:"adPrice",label:"Вказати ціну",rules:t.adRules,required:""},on:{change:t.validateForm}}),a("v-text-field",{attrs:{height:"15",outlined:"",id:"adLocation","append-outer-icon":"mdi-map-marker"},on:{change:t.validateForm}}),t.updated?a("div",{staticClass:"text-center"},[a("v-alert",{staticStyle:{"padding-top":"7px"},attrs:{color:"green lighten-2",height:"40"}},[t._v("Оголошення додано!")])],1):t._e(),a("v-btn",{staticClass:"mr-4",attrs:{id:"submitForm",disabled:!t.formIsValid,color:"success",centered:""},on:{click:t.postAd}},[t._v(" Опублікувати ")])],1)],1)],1)],1),a("br"),t._l(t.ads,(function(e){return a("v-card",{key:e.id,staticClass:"mx-auto adDiv",class:{highlighted:e.uid===t.$firebase.auth().currentUser.uid},attrs:{"max-width":"400"}},[e.image?a("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:e.image}},[a("v-card-title",[a("span",[t._v(t._s(e.title))])])],1):a("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:"https://firebasestorage.googleapis.com/v0/b/beeco-b0ed5.appspot.com/o/beeco-add-default.png?alt=media&token=df84a672-29af-443c-8727-0dd4e66736c0"}},[a("v-card-title",[a("span",[t._v(t._s(e.title))])])],1),a("v-card-text",{staticClass:"text--primary"},[a("div",[t._v(t._s(e.text))])]),a("v-chip",{attrs:{color:"transparent"}},[a("v-icon",{attrs:{color:"#07C01A",small:""}},[t._v("mdi-currency-usd-circle-outline")]),t._v(" "+t._s(e.price)+" ")],1),a("br"),a("v-chip",{attrs:{color:"transparent"}},[a("v-icon",{attrs:{color:"grey",small:""}},[t._v("mdi-map-marker")]),t._v(" Коростень, Житомирська область ")],1),a("v-card-actions",[e.uid!=t.$firebase.auth().currentUser.uid?a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-btn",{attrs:{outlined:"",color:"orange",text:""},on:{click:function(a){return t.auctionAd(e.uid)}}},[t._v("Аукціон")]),a("v-btn",{attrs:{color:"orange",dark:""},on:{click:function(a){return t.contactUser(e.uid)}}},[t._v("Купити")]),a("v-btn",{attrs:{outlined:"",color:"green"},on:{click:function(a){return t.contactUser(e.uid)}}},[a("v-icon",[t._v("mdi-truck-delivery-outline")]),t._v("Вивезти")],1)],1):a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-btn",{attrs:{depressed:"",outlined:"",color:"orange",text:""},on:{click:function(a){return t.responseUser(e.id)}}},[t._v(" Аукціон"),a("v-chip",{attrs:{color:"green","text-color":"white",small:""}},[t._v("2")])],1),a("v-btn",{attrs:{color:"orange",dark:""},on:{click:function(a){return t.responseUser(e.id)}}},[a("v-icon",[t._v("mdi-account")]),a("v-chip",{attrs:{dark:"",color:"white","text-color":"black",small:""}},[t._v("1")])],1),a("v-btn",{attrs:{outlined:"",color:"green"},on:{click:function(a){return t.responseUser(e.id)}}},[a("v-icon",[t._v("mdi-truck-delivery-outline")]),a("v-chip",{attrs:{dark:"",color:"white","text-color":"green",small:""}},[t._v("1")])],1),a("v-btn",{attrs:{text:"",color:"orange"},on:{click:function(a){return t.deleteAd(e.id)}}},[a("v-icon",[t._v("mdi-trash-can-outline")])],1)],1)],1)],1)}))],2)],1)],1)},r=[],o=(a("d81d"),a("0d03"),a("d3b7"),a("96cf"),{name:"foo",data:function(){return{uploadedFile:!1,updated:!1,deleteID:"6V2sJCPYPM8TOQ8CL35C",ads:"",min:0,autocomplete:"",max:1e3,slider:400,range:[100,500],ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],addPostDialog:!1,formIsValid:!1,connectDialog:!1,responseDialog:!1,auctionDialog:!1,valid:!0,userPhone:"",adRules:[function(t){return!!t||"Обов`язкове поле"}]}},mounted:function(){var t=this;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$store.state.db.collection("classifieds").orderBy("created","desc").onSnapshot((function(e){t.ads=e.docs.map((function(t){return{id:t.id,image:t.data().image,text:t.data().text,title:t.data().title,price:t.data().price,uid:t.data().uid}}))})));case 2:case"end":return e.stop()}}),null,this)},methods:{addPost:function(){this.addPostDialog=!0,this.initAutocomplete()},initAutocomplete:function(){var t=this;t.$GoogleMapsLoader.load((function(t,e){var a=document.getElementById("adLocation");e.autocomplete=new t.maps.places.Autocomplete(a)}))},callUser:function(){confirm("Подзвонити продавцю на "+this.userPhone+" ?")&&(window.location.href="tel://"+this.userPhone)},contactUser:function(t){var e=this;e.connectDialog=!0,e.$store.state.db.collection("users").doc(t).get().then((function(t){e.userPhone=t.data().phone}))},responseUser:function(t){console.log(t),this.responseDialog=!0},auctionAd:function(t){console.log(t),this.auctionDialog=!0},getAddressData:function(t,e,a){alert(t+e+a)},validateForm:function(){this.$refs.form.validate()?this.formIsValid=!0:this.formIsValid=!1},invokeUpload:function(){document.getElementById("imageUpload").click()},comingSoon:function(){alert("незабаром")},previewPhoto:function(t){var e=new FileReader;this.uploadedFile=t,e.onload=function(t){document.getElementById("previewImage").src=t.target.result},e.readAsDataURL(t)},deleteAd:function(t){confirm("Видалити оголошення?")&&this.$store.state.db.collection("classifieds").doc(t).delete().then((function(){console.log("deleted ad => ".adKey)}))},postAd:function(){var t=this,e=this.$store,a=this.$firebase,n=this.uploadedFile,r=this;this.$store.state.db.collection("classifieds").add({uid:this.$firebase.auth().currentUser.uid,created:Date.now(),price:document.getElementById("adPrice").value,title:document.getElementById("adTitle").value,text:document.getElementById("adText").value}).then((function(o){console.log("Document written with ID: ",o.id),document.getElementById("adPrice").value="",document.getElementById("adText").value="",document.getElementById("adTitle").value="",r.updated=!0,t.uploadedFile?a.storage().ref().child("classifieds/"+o.id).put(n).then((function(t){console.log("Uploaded a blob or file!"+t),t.ref.getDownloadURL().then((function(t){e.state.db.collection("classifieds").doc(o.id).update({image:t}),console.log("Uploaded image!"+t),r.uploadedFile=!1,document.getElementById("previewImage").src="",document.getElementById("imageUpload").value="",setTimeout((function(){r.addPostDialog=!1,r.updated=!1}),2e3)}))})):setTimeout((function(){r.addPostDialog=!1,r.updated=!1}),2e3)}))}}}),s=o,i=a("2877"),c=a("6544"),l=a.n(c),d=a("0798"),u=a("8336"),v=a("b0af"),f=a("99d9"),m=a("cc20"),p=a("a523"),h=a("169a"),g=a("23a7"),b=a("0e8f"),y=a("4bd4"),x=a("132d"),_=a("adda"),k=a("a722"),w=a("0fd9"),$=a("1f4f"),V=a("8654"),C=a("a844"),I=Object(i["a"])(s,n,r,!1,null,null,null);e["a"]=I.exports;l()(I,{VAlert:d["a"],VBtn:u["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VChip:m["a"],VContainer:p["a"],VDialog:h["a"],VFileInput:g["a"],VFlex:b["a"],VForm:y["a"],VIcon:x["a"],VImg:_["a"],VLayout:k["a"],VRow:w["a"],VSimpleTable:$["a"],VTextField:V["a"],VTextarea:C["a"]})},1:function(t,e){},2:function(t,e){},3:function(t,e){},"309c":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{"text-center":"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-img",{staticClass:"my-3",attrs:{src:a("5fbe"),contain:"",height:"180"}})],1),n("v-flex",{attrs:{"mb-4":""}},[t.qrseen?n("div",[n("v-alert",{staticStyle:{"padding-top":"7px"},attrs:{color:"orange lighten-2"}},[n("v-icon",[t._v("mdi-qrcode-scan")]),t._v("Наведіть на екран на контейнері для автоматичного сканування")],1),n("qrcode-stream",{attrs:{height:"100"},on:{decode:t.onDecode,init:t.onInit}})],1):t._e(),t.qrseen?t._e():n("v-btn",{attrs:{"x-large":"",color:"success",dark:""},on:{click:function(e){t.qrseen=!t.qrseen}}},[t._v("Сканувати QR-код")])],1)],1)],1)},r=[],o=(a("4160"),a("0d03"),a("b0c0"),a("d3b7"),a("e25e"),a("25f0"),a("159b"),a("bf2d")),s=(a("96cf"),{data:function(){return{qrseen:!1}},mounted:function(){var t=this;document.addEventListener("deviceready",(function(){alert(t.$vuecordova.plugins.permissions),console.log("Cordova : device is ready !")}))},methods:{onInit:function(t){var e,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,regeneratorRuntime.awrap(t);case 3:e=n.sent,a=e.capabilities,console.log(a),n.next=12;break;case 8:n.prev=8,n.t0=n["catch"](0),alert(n.t0.name),"NotAllowedError"===n.t0.name||"NotFoundError"===n.t0.name||"NotSupportedError"===n.t0.name||"NotReadableError"===n.t0.name||"OverconstrainedError"===n.t0.name||n.t0.name;case 12:return n.prev=12,n.finish(12);case 14:case"end":return n.stop()}}),null,null,[[0,8,12,14]])},IsJsonString:function(t){try{return console.log("try str => "+t),JSON.parse(t)}catch(e){return!1}},onDecode:function(t){if(t){t=this.IsJsonString(t);var e=this.$router,a=this.$store.state.db,n=this,r=a.collection("users").doc(this.$firebase.auth().currentUser.uid);if("object"===Object(o["a"])(t))if("undefined"!==typeof t.t)a.collection("qr").where("t","==",t.t).where("activated","==",!1).get().then((function(o){o.forEach((function(o){a.collection("qr").doc(o.id).update({uid:n.$firebase.auth().currentUser.uid,activated:!0}).then((function(){alert("QR active user is updated!"),t={binid:1,bonus:n.$bonusRate,bonusRate:n.$bonusRate,count:1,rate:n.$rate,tokens:n.$rate,uid:n.$firebase.auth().currentUser.uid,time:Date.now().toString()},a.collection("transactions").add(t).then((function(n){return console.log("Transaction written with ID: ",n.id),a.runTransaction((function(e){return e.get(r).then((function(a){if(!a.exists)throw"Document does not exist!";var n=a.data().tokens+t.tokens,o=a.data().bonus+t.bonus;e.update(r,{tokens:n,bonus:o}),console.log("user "+a.id+" played lottery for the amount of "+n+" tokens")}))})).then((function(){console.log("Lottery user transaction successfully committed!"),e.push({path:"wallet",name:"Wallet",params:{transferred:t.tokens}})})).catch((function(t){console.log("Transaction failed: ",t)}))})).catch((function(t){console.error("Error adding document: ",t)}))}))}))}));else if("undefined"!==typeof t.tokens){t.uid=this.$firebase.auth().currentUser.uid;var s=a.collection("users").doc(t.fromid.toString());t.tokens=parseInt(t.tokens),a.collection("transactions").add(t).then((function(n){return console.log("Transaction written with ID: ",n.id),a.runTransaction((function(e){return e.get(r).then((function(a){if(!a.exists)throw"Document does not exist!";var n=a.data().tokens+t.tokens;e.update(r,{tokens:n}),console.log("user "+a.id+" got "+n+" tokens")}))})).then((function(){return console.log("Get user transaction successfully committed!"),a.runTransaction((function(e){return e.get(s).then((function(a){if(!a.exists)throw"Document does not exist!";var n=a.data().tokens-t.tokens;e.update(s,{tokens:n}),console.log("user "+a.id+" transferred "+n+" tokens")}))})).then((function(){console.log("Transfer user transaction successfully committed!"),e.push({path:"wallet",name:"Wallet",params:{transferred:t.tokens}})})).catch((function(t){console.log("Transaction failed: ",t)}))})).catch((function(t){console.log("Transaction failed: ",t)}))})).catch((function(t){console.error("Error adding document: ",t)}))}else if("undefined"!==typeof t.count){var i=a.collection("users").doc(this.$firebase.auth().currentUser.uid);t.uid=this.$firebase.auth().currentUser.uid,t.tokens=this.$rate*t.count,t.rate=this.$rate,t.bonus=this.$bonusRate*t.count,t.bonusRate=this.$bonusRate,a.collection("transactions").add(t).then((function(n){return console.log("Transaction written with ID: ",n.id),a.runTransaction((function(e){return e.get(i).then((function(a){if(!a.exists)throw"Document does not exist!";var n=a.data().tokens+t.tokens,r=a.data().bonus+t.bonus;e.update(i,{tokens:n,bonus:r}),console.log("user "+a.id+" recycled for the amount of "+n+" tokens")}))})).then((function(){console.log("Recycling user transaction successfully committed!"),e.push({path:"wallet",name:"Wallet",params:{transferred:t.tokens}})})).catch((function(t){console.log("Transaction failed: ",t)}))})).catch((function(t){console.error("Error adding document: ",t)}))}else"undefined"!==typeof t.active?(alert(t),a.collection("bin_users").where("datetime","==",t.datetime).where("pending","==",!0).where("binid","==",t.binid).get().then((function(t){t.exists?t.forEach((function(t){a.collection("bin_users").doc(t.id).update({pending:!1,active:!0,uid:n.$firebase.auth().currentUser.uid}),alert("active user is updated!")})):alert("Error getting active doc")})).catch((function(t){alert(t),console.log("Error getting active => ",t)}))):alert("QR error");else alert("QR error")}}}}),i=s,c=a("2877"),l=a("6544"),d=a.n(l),u=a("0798"),v=a("8336"),f=a("a523"),m=a("0e8f"),p=a("132d"),h=a("adda"),g=a("a722"),b=Object(c["a"])(i,n,r,!1,null,null,null);e["a"]=b.exports;d()(b,{VAlert:u["a"],VBtn:v["a"],VContainer:f["a"],VFlex:m["a"],VIcon:p["a"],VImg:h["a"],VLayout:g["a"]})},3802:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{height:"500px"}},[a("v-layout",{attrs:{"text-center":"",wrap:""}},[a("v-flex",[a("v-snackbar",{staticClass:"text-center",attrs:{top:"",light:"",color:"white"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("v-alert",{staticStyle:{"padding-top":"7px"},attrs:{color:"green lighten-2",height:"40"}},[a("v-icon",[t._v("mdi-coins")]),t._v("Зараховано зелених: "+t._s(t.$route.params.transferred))],1)],1),a("h1",{staticClass:"headline",staticStyle:{color:"orange"}},[t._v(" Мій гаманець ")]),a("div",[t.$store.state.user.tokens?a("v-chip",{staticStyle:{"margin-top":"10px"},attrs:{"text-color":"#07C01A",color:"transparent"}},[a("v-icon",{attrs:{color:"#07C01A",large:""}},[t._v("mdi-currency-usd-circle-outline")]),a("span",{staticClass:"display-1"},[t._v(t._s(t.myWallet))])],1):a("v-chip",{staticStyle:{"margin-top":"10px"},attrs:{"text-color":"#07C01A",color:"transparent"}},[a("v-icon",{attrs:{color:"#07C01A",large:""}},[t._v("mdi-currency-usd-circle-outline")]),a("span",{staticClass:"display-1"},[t._v("0")])],1)],1),a("br"),a("div",{attrs:{id:"placeHolder"}}),a("v-btn",{attrs:{dark:"",color:"green"},on:{click:function(e){t.dialog=!0}}},[t._v("Нарахувати зелені "),a("v-icon",[t._v("mdi-currency-usd-circle-outline")])],1),a("v-dialog",{attrs:{color:"#fff"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[t.generatedTokens?t._e():a("v-card-title",[t._v("Введіть суму токенів")]),t.generatedTokens?t._e():a("v-card-text",[a("v-text-field",{attrs:{id:"recycleItems",label:"Введіть кількість пляшок",solo:"",outlined:"",height:"20",required:""},on:{change:function(e){return t.calcTokens(t.recycleItems)}},model:{value:t.recycleItems,callback:function(e){t.recycleItems=e},expression:"recycleItems"}}),a("v-text-field",{attrs:{id:"transferTokens",label:"Кількість зелених",solo:"",outlined:"",height:"20",required:""},model:{value:t.transferTokens,callback:function(e){t.transferTokens=e},expression:"transferTokens"}}),a("v-text-field",{attrs:{id:"transferPhone",label:"Номер телефона",solo:"",outlined:"",required:"",height:"20"},model:{value:t.transferPhone,callback:function(e){t.transferPhone=e},expression:"transferPhone"}}),a("v-btn",{attrs:{text:"",color:"green",disabled:!t.transferTokens&&!t.transferPhone||t.sendCalc,outlined:""},on:{click:function(e){return t.sendTokens(t.transferTokens,t.transferPhone)}}},[t._v("Надіслати бонуси")]),a("br")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.generatedTokens,expression:"generatedTokens"}],attrs:{id:"qrHolderOuter"}},[a("div",{staticClass:"text-center"},[a("v-alert",{staticStyle:{"padding-top":"7px"},attrs:{color:"green lighten-2",height:"40"}},[t._v("Покажіть QR-код отримувачу")])],1),a("div",{attrs:{id:"qrHolder"}})])],1)],1),a("br"),a("br"),a("v-card",[a("v-tabs",{attrs:{"background-color":"white",centered:"",color:"#07C01A"}},[a("v-tab",[a("v-icon",[t._v("mdi-currency-usd-circle-outline")]),t._v("Пропозиції")],1),a("v-tab",[a("v-icon",[t._v("mdi-star-face")]),t._v("Подарунки")],1),a("v-tab-item",[a("v-banner",{attrs:{"one-line":""},scopedSlots:t._u([{key:"actions",fn:function(){return[a("v-chip",{attrs:{"text-color":"orange",color:"transparent"}},[a("v-icon",{attrs:{color:"#07C01A"}},[t._v("mdi-currency-usd-circle-outline")]),t._v(" 100 ")],1),a("v-btn",{attrs:{text:"",color:"green accent-4"}},[t._v("незабаром")])]},proxy:!0}])},[a("v-avatar",{attrs:{slot:"icon",size:"40"},slot:"icon"},[a("v-icon",{attrs:{icon:"mdi-coffee",color:"#8b6138"}},[t._v(" mdi-coffee ")])],1),a("div",{staticClass:"headline text-left"},[t._v("Кава")]),a("p",[t._v("100% Арабіка,250 мл")])],1),a("v-banner",{attrs:{"one-line":""},scopedSlots:t._u([{key:"actions",fn:function(){return[a("v-chip",{attrs:{"text-color":"orange",color:"transparent"}},[a("v-icon",{attrs:{color:"#07C01A"}},[t._v("mdi-currency-usd-circle-outline")]),t._v(" 50 ")],1),a("v-btn",{attrs:{text:"",color:"green accent-4"}},[t._v("незабаром")])]},proxy:!0}])},[a("v-avatar",{attrs:{slot:"icon",color:"ref",size:"40"},slot:"icon"},[a("v-icon",{attrs:{icon:"mdi-ticket",color:"green",size:"40"}},[t._v(" mdi-cellphone ")])],1),a("div",{staticClass:"headline text-left"},[t._v("Поповнення")]),a("p",[t._v("Екотариф. 45 грн")])],1)],1),a("v-tab-item",[a("div",{staticClass:"text-center"},[a("v-alert",{attrs:{border:"bottom","colored-border":"",type:"warning",elevation:"2"}},[t._v(" Кількість бонусних подарунків обмежена")])],1),a("v-banner",{attrs:{"one-line":""},scopedSlots:t._u([{key:"actions",fn:function(){return[a("v-chip",{attrs:{"text-color":"orange",color:"transparent"}},[a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-star-face")]),t._v(" 200 ")],1),a("v-btn",{attrs:{text:"",color:"green accent-4"}},[t._v("незабаром")])]},proxy:!0}])},[a("v-avatar",{attrs:{slot:"icon",color:"green",size:"40"},slot:"icon"},[a("v-icon",{attrs:{icon:"mdi-ticket",color:"white"}},[t._v(" mdi-ticket ")])],1),a("div",{staticClass:"headline text-left"},[t._v("Квиток на концерт")]),a("p",[t._v("Альона, Альона")])],1)],1)],1)],1)],1)],1)],1)},r=[],o=(a("4160"),a("0d03"),a("a9e3"),a("25eb"),a("159b"),{name:"Wallet",data:function(){return{dialog:!1,qrGen:1,bonus:0,generatedTokens:!1,transferTokens:"",snackbar:!1,myWallet:0,recycleItems:"",transferPhone:"0500552618",sendCalc:!1}},created:function(){var t=this,e=this.$store.state.db;e.collection("users").doc(this.$firebase.auth().currentUser.uid).onSnapshot((function(e){t.myWallet=e.data().tokens})),"undefined"!=typeof this.$route.params.transferred&&(this.snackbar=!0)},watch:{dialog:function(t){t||(this.generatedTokens=t,this.transferTokens="")}},methods:{calcTokens:function(t){t&&(this.recycleItems=Number.parseInt(t),this.transferTokens=this.recycleItems*this.$rate,this.bonus=this.recycleItems*this.$bonusRate)},qrGenerate:function(t){if(t&&t<=this.$store.state.user.tokens){this.generatedTokens=!0;var e=this.$qrcode(0,"H"),a={fromid:1,tokens:t,time:Date.now()};a=JSON.stringify(a),e.addData(a),e.make(),setTimeout((function(){document.getElementById("qrHolder").innerHTML=e.createImgTag(4)}),500)}else this.transferTokens=0,alert("Недостатньо зелених на рахунку")},sendTokens:function(t,e){this.sendCalc=!0;var a=this.$store.state.db,n=this.$firebase.auth().currentUser.uid,r=!1,o=this;t=Number.parseInt(t),t&&t<=this.$store.state.user.tokens?e&&a.collection("users").where("phone","==",e).get().then((function(e){e.forEach((function(e){r=e.id,o.makeTransfer(n,r,t)}))})).catch((function(t){console.error("Error: ",t)})):(this.transferTokens=0,alert("Недостатньо зелених на рахунку"))},makeTransfer:function(t,e,a){var n=this.$store.state.db,r=this,o=this.bonus,s=n.collection("users").doc(e),i=n.collection("users").doc(t),c={binid:1,bonus:this.bonus,bonusRate:this.$bonusRate,count:this.recycleItems,rate:this.$rate,tokens:this.transferTokens,uid:this.$firebase.auth().currentUser.uid,time:Date.now()};n.collection("transactions").add(c).then((function(t){return console.log(t),console.log("Transfer written with ID: ",t.id),n.runTransaction((function(t){return t.get(s).then((function(e){if(!e.exists)throw"Document does not exist!";var n=e.data().tokens+a,r=e.data().bonus+o;t.update(s,{tokens:n,bonus:r}),console.log("user "+e.id+" got "+n+" tokens")}))})).then((function(){return console.log("run sender USER transaction"),n.runTransaction((function(t){return t.get(i).then((function(e){if(!e.exists)throw"Document does not exist!";var n=e.data().tokens-a;t.update(i,{tokens:n}),console.log("user "+e.id+" transferred "+n+" tokens")}))})).then((function(){console.log("Transfer & get transaction successfully committed!"),r.dialog=!1,alert("Зараховано зелених: "+r.transferTokens)})).catch((function(t){console.log("Transaction failed: ",t)}))})).catch((function(t){console.log("Transaction failed: ",t)}))})).catch((function(t){console.error("Error adding document: ",t)}))}}}),s=o,i=a("2877"),c=a("6544"),l=a.n(c),d=a("0798"),u=a("8212"),v=a("e4e5"),f=a("8336"),m=a("b0af"),p=a("99d9"),h=a("cc20"),g=a("a523"),b=a("169a"),y=a("0e8f"),x=a("132d"),_=a("a722"),k=a("2db4"),w=a("71a3"),$=a("c671"),V=a("fe57"),C=a("8654"),I=Object(i["a"])(s,n,r,!1,null,null,null);e["a"]=I.exports;l()(I,{VAlert:d["a"],VAvatar:u["a"],VBanner:v["a"],VBtn:f["a"],VCard:m["a"],VCardText:p["b"],VCardTitle:p["c"],VChip:h["a"],VContainer:g["a"],VDialog:b["a"],VFlex:y["a"],VIcon:x["a"],VLayout:_["a"],VSnackbar:k["a"],VTab:w["a"],VTabItem:$["a"],VTabs:V["a"],VTextField:C["a"]})},"3dfd":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[[a("div",[a("v-app-bar",[a("v-btn",{attrs:{link:"",icon:"",to:"/"}},[a("v-icon",[t._v("mdi-qrcode-scan")])],1),a("img",{attrs:{src:"ecodiya.png",height:"50"}}),t.$firebase.auth().currentUser?a("v-layout",{staticStyle:{"padding-top":"6px"},attrs:{"justify-end":""}},[t.$store.state.user.bonus?a("v-chip",{attrs:{link:"",to:"/rating","text-color":"orange",color:"transparent"}},[a("v-icon",{attrs:{color:"orange",small:""}},[t._v("mdi-star-face")]),t._v(" "+t._s(t.$store.state.user.bonus)+" ")],1):t._e(),t.$store.state.user.tokens?a("v-chip",{attrs:{link:"",to:"/wallet","text-color":"#07C01A",color:"transparent"}},[a("v-icon",{attrs:{color:"#07C01A",small:""}},[t._v("mdi-currency-usd-circle-outline")]),a("span",{attrs:{id:"topTokens"}},[t._v(t._s(t.$store.state.user.tokens))])],1):t._e(),a("v-chip",{attrs:{color:"transparent"}},[a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-bell-plus")]),a("span",[t._v("1")])],1),a("v-btn",{attrs:{link:"",icon:"",to:"/profile",small:""}},[a("v-avatar",{attrs:{right:"",size:"32px"}},[a("v-img",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.user.avatar,expression:"$store.state.user.avatar"}],attrs:{id:"topAvatar",src:t.$store.state.user.avatar}}),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.user.avatar,expression:"!$store.state.user.avatar"}],attrs:{color:"green"}},[t._v("mdi-account-circle")])],1)],1)],1):t._e()],1)],1)],a("v-content",{staticStyle:{"margin-bottom":"60px"}},[a("router-view",{staticClass:"view"})],1),t.$firebase.auth().currentUser?a("v-bottom-navigation",{attrs:{app:"",grow:"",fixed:"",color:"orange"}},[a("v-btn",{attrs:{value:"qr",link:"",icon:"",to:"/qr",small:""}},[a("v-icon",[t._v("mdi-qrcode-scan")])],1),a("v-btn",{attrs:{value:"rating",link:"",icon:"",to:"/rating",small:""}},[a("v-icon",[t._v("mdi-podium-gold")])],1),a("v-btn",{attrs:{value:"wallet",link:"",icon:"",to:"/wallet",small:""}},[a("v-icon",[t._v("mdi-currency-usd-circle-outline")])],1),a("v-btn",{attrs:{value:"find",link:"",icon:"",to:"/find",small:""}},[a("v-icon",[t._v("mdi-map-marker-radius")])],1),a("v-btn",{attrs:{value:"ads",link:"",icon:"",to:"/ads",small:""}},[a("v-icon",[t._v("mdi-plus-box-outline")])],1)],1):t._e()],2)},r=[],o={name:"App",data:function(){return{publicPath:"",bottomNav:!1,appUser:!1}},methods:{goProfile:function(){window.location.href="/#/profile"}}},s=o,i=a("2877"),c=a("6544"),l=a.n(c),d=a("7496"),u=a("40dc"),v=a("8212"),f=a("b81c"),m=a("8336"),p=a("cc20"),h=a("a75b"),g=a("132d"),b=a("adda"),y=a("a722"),x=Object(i["a"])(s,n,r,!1,null,null,null);e["a"]=x.exports;l()(x,{VApp:d["a"],VAppBar:u["a"],VAvatar:v["a"],VBottomNavigation:f["a"],VBtn:m["a"],VChip:p["a"],VContent:h["a"],VIcon:g["a"],VImg:b["a"],VLayout:y["a"]})},4:function(t,e){},"402c":function(t,e,a){"use strict";var n=a("a026"),r=a("f309");n["a"].use(r["a"]),e["a"]=new r["a"]({})},"56d7":function(t,e,a){"use strict";a.r(e),function(t){a("45fc"),a("0d03"),a("d3b7"),a("25f0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var e=a("a026"),n=a("3dfd"),r=a("402c"),o=a("8c4f"),s=a("2f62"),i=a("9a3e"),c=a("309c"),l=a("6ee5"),d=a("a505"),u=a("0e10"),v=a("3802"),f=a("09ed"),m=a("09ee"),p=a("a980"),h=a("6cd2"),g=a("9352"),b=a("0e44"),y=a("c23d"),x=a.n(y),_=a("ab6f"),k=a("db49"),w=a("41c6");a("e71f"),a("741f"),a("ea7b"),a("588e"),e["a"].cordova=e["a"].cordova||{deviceready:!1,plugins:[]},x.a.initializeApp(k["a"]);var $=a("2ee3");$.KEY="AIzaSyDnzY4zOTwpRwfG0ndEC6xY7qMth71ri8c",$.LIBRARIES=["geometry","places"],e["a"].use(w),e["a"].use(i["default"]),e["a"].use(s["a"]),e["a"].use(_["a"],{apiKey:$.KEY.toString()});var V=a("e0d3"),C=a("bc3a"),I="Save planet as a result of Common Actions!",T=a("2894")(I);e["a"].use(o["a"]);var E=[{path:"/",name:"Home",component:c["a"],meta:{requiresAuth:!0}},{path:"/qr",name:"Qr",component:c["a"],meta:{requiresAuth:!0}},{path:"/qrarray",name:"Qrarray",component:l["a"],meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:m["a"],meta:{requiresAuth:!0}},{path:"/api",name:"Api",component:p["a"],meta:{requiresAuth:!1}},{path:"/find",name:"Find",component:d["a"],meta:{requiresAuth:!0}},{path:"/ads",name:"Ads",component:u["a"],meta:{requiresAuth:!0}},{path:"/wallet",name:"Wallet",component:v["a"],meta:{requiresAuth:!0}},{path:"/rating",name:"Rating",component:f["a"],meta:{requiresAuth:!0}},{path:"/signup",name:"Signup",component:h["a"],meta:{requiresAuth:!1}},{path:"/resetpass",name:"Resetpass",component:g["a"],meta:{requiresAuth:!1}}],A=new o["a"]({base:t,routes:E});A.beforeEach((function(t,e,a){var n=t.matched.some((function(t){return t.meta.requiresAuth})),r=x.a.auth().currentUser;r&&q.state.db.collection("users").doc(r.uid).get().then((function(t){q.state.user=t.data(),q.state.user.tokens=t.data().tokens,isNaN(q.state.user.tokens)&&(q.state.user.tokens=0),isNaN(q.state.user.bonus)&&(q.state.user.bonus=0),console.log("state changed"),console.log(q.state.user)})),n&&!x.a.auth().currentUser?a("signup"):a()})),e["a"].config.productionTip=!1,Object.defineProperty(e["a"].prototype,"$encryptor",{value:T}),Object.defineProperty(e["a"].prototype,"$vuecordova",{value:e["a"].cordova}),Object.defineProperty(e["a"].prototype,"$qrcode",{value:V}),Object.defineProperty(e["a"].prototype,"$firebase",{value:x.a}),Object.defineProperty(e["a"].prototype,"$axios",{value:C}),Object.defineProperty(e["a"].prototype,"$rate",{value:10}),Object.defineProperty(e["a"].prototype,"$bonusRate",{value:100}),Object.defineProperty(e["a"].prototype,"$transactionKey",{value:"ababagalamaga"}),Object.defineProperty(e["a"].prototype,"$GoogleMapsLoader",{value:$}),Object.defineProperty(e["a"].prototype,"$VuetifyGoogleAutocomplete",{value:_["a"]});var q=new s["a"].Store({state:{qr:1,db:x.a.firestore(),user:!1},plugins:[Object(b["a"])()]}),S=x.a.auth().onAuthStateChanged((function(t){new e["a"]({vuetify:r["a"],router:A,store:q,render:function(t){return t(n["a"])},created:function(){t&&q.state.db.collection("users").doc(t.uid).get().then((function(t){q.state.user=t.data(),isNaN(q.state.user.tokens)&&(q.state.user.tokens=0),isNaN(q.state.user.bonus)&&(q.state.user.bonus=0),console.log("signed in user"),console.log(q.state.user)}))}}).$mount("#app"),S()}))}.call(this,"/")},"5fbe":function(t,e,a){t.exports=a.p+"img/logo2.85b460ad.png"},"6cd2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{"text-center":"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-img",{staticClass:"my-3",attrs:{src:a("5fbe"),contain:"",height:"100"}})],1),n("v-flex",{attrs:{xs12:""}},[[t.resetpass?n("div",{staticClass:"text-center"},[n("v-alert",{staticStyle:{"padding-top":"7px"},attrs:{color:"green lighten-2"}},[t._v("Перевірте свій e-mail для встановлення нового паролю")])],1):t._e(),n("v-tabs",{attrs:{color:"orange",centered:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[n("v-tab",{attrs:{href:"#register"}},[t._v("Реєстрація")]),n("v-tab",{attrs:{href:"#login"}},[t._v("Логін")])],1),n("br"),t.logout?n("div",{staticClass:"text-center"},[n("v-alert",{staticStyle:{"padding-top":"7px"},attrs:{color:"orange lighten-2",height:"40"}},[t._v("Ви вийшли з акаунту")])],1):t._e(),n("div",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},["register"==t.activeTab?n("v-text-field",{attrs:{outlined:"",id:"userName",type:"text",hint:"мінімум 8 символів",rules:[t.rules.required],label:"Ваш нікнейм"},on:{change:t.validateForm},model:{value:t.uName,callback:function(e){t.uName=e},expression:"uName"}}):t._e(),n("v-text-field",{attrs:{outlined:"",id:"emailField",label:"Введіть email",rules:t.emailRules},on:{change:t.validateForm}}),"register"==t.activeTab?n("v-text-field",{attrs:{outlined:"",id:"userPhone",label:"Введіть телефон",type:"number",rules:[t.phoneRules.required,t.phoneRules.min]},on:{change:t.validateForm}}):t._e(),"register"==t.activeTab?n("v-text-field",{attrs:{outlined:"",id:"passField",type:"password",hint:"мінімум 8 символів",rules:[t.rules.required,t.rules.min,t.passwordConfirmationRule],label:"Введіть пароль"},on:{change:t.validateForm},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}):n("v-text-field",{attrs:{outlined:"",id:"passField",type:"password",hint:"мінімум 8 символів",rules:[t.rules.required,t.rules.min],label:"Введіть пароль"},on:{change:t.validateForm},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),"register"==t.activeTab?n("v-text-field",{attrs:{outlined:"",id:"repassField",type:"password",hint:"мінімум 8 символів",rules:[t.rules.required,t.rules.min],label:"Підтвердіть пароль"},on:{change:t.validateForm},model:{value:t.rePassword,callback:function(e){t.rePassword=e},expression:"rePassword"}}):t._e(),"register"==t.activeTab?n("v-btn",{on:{click:t.checkForSignInUser}},[t._v("Зареєструватись")]):n("v-btn",{on:{click:t.checkForSignInUser}},[t._v("Увійти")]),n("br"),t._v(" "),n("br"),"login"==t.activeTab?n("v-btn",{attrs:{color:"orange",link:"",icon:"",to:"/resetpass",small:""}},[t._v(" Нагадати пароль ")]):t._e()],1)],1)]],2)],1)],1)},r=[],o=(a("0d03"),a("d3b7"),a("25f0"),{name:"signup",data:function(){return{uName:"",logout:!1,valid:!0,activeTab:"register",password:"",rePassword:"",resetpass:!1,emailRules:[function(t){return/.+@.+/.test(t)||"Невірний e-mail"}],rules:{required:function(t){return!!t||"Обов`язкове поле."},min:8},phoneRules:{required:function(t){return!!t||"Обов`язкове поле."},min:10},formIsValid:!1}},mounted:function(){"undefined"==typeof this.$route.params.logout&&"undefined"==typeof this.$route.params.resetpass||(this.activeTab="login",this.logout=this.$route.params.logout),"undefined"!=typeof this.$route.params.resetpass&&(this.resetpass=1)},computed:{passwordConfirmationRule:function(){return this.password===this.rePassword||"Паролі повинні співпадати"}},methods:{validateForm:function(){this.$refs.form.validate()?this.formIsValid=!0:this.formIsValid=!1},checkForSignInUser:function(){"register"==this.activeTab?this.emailAuth():this.emailLogin()},emailAuth:function(){var t=document.getElementById("emailField").value,e=document.getElementById("passField").value,a=document.getElementById("userName").value,n=document.getElementById("userPhone").value,r=this.$store.state.db.collection("users"),o=this.$firebase,s=this.$router,i=this;this.$firebase.auth().createUserWithEmailAndPassword(t,e).then((function(){r.doc(o.auth().currentUser.uid).set({email:t,name:a,phone:n.toString(),tokens:0,bonus:0}).then((function(){s.push({path:"profile",name:"Profile",params:{signedup:1}})}))})).catch((function(t){console.log(t.message),"auth/email-already-in-use"==t.code&&(alert("Ви вже зареєстровані"),i.emailLogin())}))},emailLogin:function(){var t=document.getElementById("emailField").value,e=document.getElementById("passField").value,a=this.$router;this.$firebase.auth().signInWithEmailAndPassword(t,e).then((function(){a.push({path:"profile",name:"Profile",params:{signedup:1}})})).catch((function(t){alert(t.message)}))}}}),s=o,i=a("2877"),c=a("6544"),l=a.n(c),d=a("0798"),u=a("8336"),v=a("a523"),f=a("0e8f"),m=a("4bd4"),p=a("adda"),h=a("a722"),g=a("71a3"),b=a("fe57"),y=a("8654"),x=Object(i["a"])(s,n,r,!1,null,null,null);e["a"]=x.exports;l()(x,{VAlert:d["a"],VBtn:u["a"],VContainer:v["a"],VFlex:f["a"],VForm:m["a"],VImg:p["a"],VLayout:h["a"],VTab:g["a"],VTabs:b["a"],VTextField:y["a"]})},"6ee5":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{height:"500px"}},[a("v-layout",{attrs:{"text-center":"",wrap:""}},[a("v-flex",[a("h1",{staticClass:"headline",staticStyle:{color:"orange"}},[t._v(" Генератор QR ")]),t.imgGen?t._e():a("v-btn",{attrs:{dark:"",color:"green"},on:{click:function(e){return t.qrGenerate()}}},[t._v("Згенерувати")]),t.imgGen?a("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{dark:"",color:"orange"},on:{click:function(e){return t.printQr()}}},[t._v("Роздрукувати")]):t._e(),a("table",{attrs:{id:"qrHolderGen"}})],1)],1)],1)},r=[],o=(a("0d03"),a("d3b7"),a("25f0"),{name:"Qrarray",data:function(){return{r:10,c:10,imgGen:!1}},created:function(){},methods:{qrGenerate:function(){for(var t=this,e="",a=this,n="",r=a.$store.state.db,o=function(o){for(var s=function(t){setTimeout((function(){0==t&&(e=document.createElement("tr"),e=document.getElementById("qrHolderGen").appendChild(e)),n=a.$qrcode(0,"L");var s=document.createElement("td");e.appendChild(s);var i={t:Date.now().toString(),activated:!1};n.addData(JSON.stringify(i)),n.make(),s.innerHTML=n.createImgTag(4,10),r.collection("qr").add(i),t==a.c-1&&o==a.r-1&&(a.imgGen=!0)}),1e3)},i=0;i<t.c;i++)s(i)},s=0;s<this.r;s++)o(s)},printQr:function(){var t=this,e=document.getElementById("qrHolderGen").innerHTML,a=window.open("","","left=0,top=0,width=800,height=900,toolbar=0,scrollbars=0,status=0");a.document.write("<html><body>"+e+"</body></html>"),a.document.close(),a.focus(),a.print(),t.imgGen=!1,document.getElementById("qrHolderGen").innerHTML=""}}}),s=o,i=a("2877"),c=a("6544"),l=a.n(c),d=a("8336"),u=a("a523"),v=a("0e8f"),f=a("a722"),m=Object(i["a"])(s,n,r,!1,null,null,null);e["a"]=m.exports;l()(m,{VBtn:d["a"],VContainer:u["a"],VFlex:v["a"],VLayout:f["a"]})},9352:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{"text-center":"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-img",{staticClass:"my-3",attrs:{src:a("5fbe"),contain:"",height:"100"}})],1),n("v-flex",{attrs:{xs12:""}},[[n("h1",{staticClass:"headline",staticStyle:{color:"orange"}},[t._v(" Нагадати пароль ")]),n("div",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{outlined:"",id:"emailField",label:"Введіть email",rules:t.emailRules}}),n("v-btn",{on:{click:t.validateForm}},[t._v("Нагадати пароль")])],1)],1)]],2)],1)],1)},r=[],o={name:"signup",data:function(){return{emailRules:[function(t){return/.+@.+/.test(t)||"Невірний e-mail"}],formIsValid:!1}},mounted:function(){},methods:{validateForm:function(){this.$refs.form.validate()?(this.formIsValid=!0,this.sendEmail()):this.formIsValid=!1},sendEmail:function(){var t=this;this.$firebase.auth().sendPasswordResetEmail(document.getElementById("emailField").value).then((function(){alert("e-mail надіслано"),t.$router.push({path:"signup",name:"Signup",params:{resetpass:1}})})).catch((function(t){console.log(t),alert("Сталася помилка: "+t)}))}}},s=o,i=a("2877"),c=a("6544"),l=a.n(c),d=a("8336"),u=a("a523"),v=a("0e8f"),f=a("4bd4"),m=a("adda"),p=a("a722"),h=a("8654"),g=Object(i["a"])(s,n,r,!1,null,null,null);e["a"]=g.exports;l()(g,{VBtn:d["a"],VContainer:u["a"],VFlex:v["a"],VForm:f["a"],VImg:m["a"],VLayout:p["a"],VTextField:h["a"]})},a505:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{"text-center":"",wrap:""}},[a("v-flex",{attrs:{"mb-4":""}},[a("h1",{staticClass:"headline",staticStyle:{color:"orange"}},[t._v(" Мапа розміщення контейнерів ")]),a("v-text-field",{attrs:{height:"15",outlined:"",id:"adLocation",label:"Змінити локацію","append-outer-icon":"mdi-map-marker"}}),a("v-card",{staticClass:"mb-12",attrs:{id:"map",height:"300px"}})],1)],1)],1)},r=[],o={name:"foo",data:function(){return{map:"",bounds:"",qr:""}},mounted:function(){this.initMap()},methods:{initMap:function(){this.$GoogleMapsLoader.load((function(t){var e=new t.maps.Map(document.getElementById("map"),{zoom:12,center:{lat:50.95854,lng:28.6335683}}),a=new t.maps.Marker({position:{lat:50.95854,lng:28.6335683},map:e,icon:"https://firebasestorage.googleapis.com/v0/b/beeco-b0ed5.appspot.com/o/smartbin32.png?alt=media&token=fe05f116-4e57-40ba-9049-9653e3db6ce7"}),n=new t.maps.InfoWindow({content:"Залізничний вокзал Коростень"});t.maps.event.addListener(a,"click",(function(){n.open(e,a)}));var r=new t.maps.Marker({position:{lat:50.95116,lng:28.6336863},map:e,icon:"https://firebasestorage.googleapis.com/v0/b/beeco-b0ed5.appspot.com/o/smartbin32.png?alt=media&token=fe05f116-4e57-40ba-9049-9653e3db6ce7"}),o=new t.maps.InfoWindow({content:"Базарна площа"});t.maps.event.addListener(r,"click",(function(){o.open(e,r)}))})),document.getElementById("map").style.height=document.getElementsByClassName("v-content")[0].offsetHeight-145+"px"}}},s=o,i=a("2877"),c=a("6544"),l=a.n(c),d=a("b0af"),u=a("a523"),v=a("0e8f"),f=a("a722"),m=a("8654"),p=Object(i["a"])(s,n,r,!1,null,null,null);e["a"]=p.exports;l()(p,{VCard:d["a"],VContainer:u["a"],VFlex:v["a"],VLayout:f["a"],VTextField:m["a"]})},a980:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container")},r=[],o=(a("4160"),a("0d03"),a("e25e"),a("159b"),{name:"Api",data:function(){return{}},mounted:function(){var t=this.$store.state.db,e={};if(e.binid=this.$route.query.binid,e.count=this.$route.query.count,this.$transactionKey==this.$route.query.key){var a=this;if(this.$route.query.count){var n=t.collection("users").doc(this.$firebase.auth().currentUser.uid);t.collection("bin_users").where("binid","==",parseInt(this.$route.query.binid)).where("active","==",!0).get().then((function(r){r.forEach((function(r){e.uid=r.data().uid,e.rate=a.$rate,e.tokens=a.$rate,e.time=Date.now(),t.collection("transactions").add(e).then((function(r){return console.log("savedTransactionID => "+r.id),t.runTransaction((function(t){return t.get(n).then((function(r){if(!r.exists)throw"Document does not exist!";var o=r.data().tokens+e.tokens;t.update(n,{tokens:o}),a.$store.state.user.tokens=o,alert("user "+r.id+" recycled for the amount of "+o+" tokens")}))})).then((function(){}))}))}))})).catch((function(t){console.log("Error getting documents: ",t)}))}if(this.$route.query.active){var r={};r.binid=this.$route.query.binid,r.active=!0,r.pending=!0,r.datetime=Date.now();var o=t.collection("bin_users").where("active","==",!0);o.get().then((function(t){t.forEach((function(t){t.ref.delete(),alert(t.id)}))})).then((function(){t.collection("bin_users").add(r)}))}}else console.log("invalid key")},methods:{}}),s=o,i=a("2877"),c=a("6544"),l=a.n(c),d=a("a523"),u=Object(i["a"])(s,n,r,!1,null,null,null);e["a"]=u.exports;l()(u,{VContainer:d["a"]})},db49:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var n={apiKey:"AIzaSyBfthkoq8JPRT7DDZy9fThZ86ui35oUShw",authDomain:"beeco-b0ed5.firebaseapp.com",databaseURL:"https://beeco-b0ed5.firebaseio.com",projectId:"beeco-b0ed5",storageBucket:"beeco-b0ed5.appspot.com",messagingSenderId:"983313142595",appId:"1:983313142595:web:96b7c232675dc9df5b55f6",measurementId:"G-4FRWSN6Y7B"}}});
//# sourceMappingURL=app.61c04cac.js.map